/**
 * almond 0.1.4 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v1.8.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Aug 30 2012 17:17:22 GMT-0400 (Eastern Daylight Time)
 */

/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2012 jQuery Foundation and other contributors
 *  Released under the MIT license
 *  http://sizzlejs.com/
 */

/*!
 * Lo-Dash 1.0.0-rc.3 <http://lodash.com>
 * (c) 2012 John-David Dalton <http://allyoucanleet.com/>
 * Based on Underscore.js 1.4.3 <http://underscorejs.org>
 * (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * Available under MIT license <http://lodash.com/license>
 */

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*! jQuery UI - v1.10.2 - 2013-04-27
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.sortable.js, jquery.ui.datepicker.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */

/*
 * Foundation Responsive Library
 * http://foundation.zurb.com
 * Copyright 2013, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/

// @weblinc, @jsantell, (c) 2012

/**
 * jquery.Jcrop.js v0.9.10
 * jQuery Image Cropping Plugin - released under MIT License 
 * Author: Kelly Hallman <khallman@gmail.com>
 * http://github.com/tapmodo/Jcrop
 * Copyright (c) 2008-2012 Tapmodo Interactive LLC {{{
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 *
 * }}}
 */

/* ===================================================
 * bootstrap-transition.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* =========================================================
 * bootstrap-modal.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/* ============================================================
 * bootstrap-dropdown.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* =============================================================
 * bootstrap-scrollspy.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */

/* ========================================================
 * bootstrap-tab.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */

/* ===========================================================
 * bootstrap-tooltip.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ===========================================================
 * bootstrap-popover.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */

/* ==========================================================
 * bootstrap-affix.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ==========================================================
 * bootstrap-alert.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ============================================================
 * bootstrap-button.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* =============================================================
 * bootstrap-collapse.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ==========================================================
 * bootstrap-carousel.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* =============================================================
 * bootstrap-typeahead.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* =============================================================
 * bootstrap-typeahead.js v2.0.3
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/**
 * jQuery Validation Plugin 1.11.0pre
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */

/** @license
 * RequireJS plugin for async dependency load like JSONP and Google Maps
 * Author: Miller Medeiros
 * Version: 0.1.1 (2011/11/17)
 * Released under the MIT license
 */

var requirejs,require,define;(function(e){function a(e,t){var n,r,i,o,u,a,f,l,c,h,p=t&&t.split("/"),d=s.map,v=d&&d["*"]||{};if(e&&e.charAt(0)==="."&&t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(l=0;l<e.length;l+=1){h=e[l];if(h===".")e.splice(l,1),l-=1;else if(h===".."){if(l===1&&(e[2]===".."||e[0]===".."))break;l>0&&(e.splice(l-1,2),l-=2)}}e=e.join("/")}if((p||v)&&d){n=e.split("/");for(l=n.length;l>0;l-=1){r=n.slice(0,l).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){o=i,u=l;break}}}if(o)break;!a&&v&&v[r]&&(a=v[r],f=l)}!o&&a&&(o=a,u=f),o&&(n.splice(0,u,o),e=n.join("/"))}return e}function f(t,r){return function(){return n.apply(e,u.call(arguments,0).concat([t,r]))}}function l(e){return function(t){return a(t,e)}}function c(e){return function(t){r[e]=t}}function h(n){if(i.hasOwnProperty(n)){var s=i[n];delete i[n],o[n]=!0,t.apply(e,s)}if(!r.hasOwnProperty(n))throw new Error("No "+n);return r[n]}function p(e,t){var n,r,i=e.indexOf("!");return i!==-1?(n=a(e.slice(0,i),t),e=e.slice(i+1),r=h(n),r&&r.normalize?e=r.normalize(e,l(t)):e=a(e,t)):e=a(e,t),{f:n?n+"!"+e:e,n:e,p:r}}function d(e){return function(){return s&&s.config&&s.config[e]||{}}}var t,n,r={},i={},s={},o={},u=[].slice;t=function(t,n,s,u){var a,l,v,m,g,y=[],b;u=u||t;if(typeof s=="function"){n=!n.length&&s.length?["require","exports","module"]:n;for(g=0;g<n.length;g+=1){m=p(n[g],u),l=m.f;if(l==="require")y[g]=f(t);else if(l==="exports")y[g]=r[t]={},b=!0;else if(l==="module")a=y[g]={id:t,uri:"",exports:r[t],config:d(t)};else if(r.hasOwnProperty(l)||i.hasOwnProperty(l))y[g]=h(l);else if(m.p)m.p.load(m.n,f(u,!0),c(l),{}),y[g]=r[l];else if(!o[l])throw new Error(t+" missing "+l)}v=s.apply(r[t],y);if(t)if(a&&a.exports!==e&&a.exports!==r[t])r[t]=a.exports;else if(v!==e||!b)r[t]=v}else t&&(r[t]=s)},requirejs=require=n=function(r,i,o,u,a){return typeof r=="string"?h(p(r,i).f):(r.splice||(s=r,i.splice?(r=i,i=o,o=null):r=e),i=i||function(){},typeof o=="function"&&(o=u,u=a),u?t(e,r,i,o):setTimeout(function(){t(e,r,i,o)},15),n)},n.config=function(e){return s=e,n},define=function(e,t,n){t.splice||(n=t,t=[]),i[e]=[e,t,n]},define.amd={jQuery:!0}})(),define("build/almond",function(){}),window.Modernizr=function(e,t,n){function r(e){g.cssText=e}function i(e,t){return r(E.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e)if(g[e[r]]!==n)return t=="pfx"?e[r]:!0;return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.substr(1),i=(e+" "+x.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+T.join(r+" ")+r).split(" "),a(i,t,n))}function l(){h.input=function(n){for(var r=0,i=n.length;r<i;r++)L[n[r]]=n[r]in y;return L.list&&(L.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),L}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var r=0,i,s,o,u=e.length;r<u;r++)y.setAttribute("type",s=e[r]),i=y.type!=="text",i&&(y.value=b,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&y.style.WebkitAppearance!==n?(d.appendChild(y),o=t.defaultView,i=o.getComputedStyle&&o.getComputedStyle(y,null).WebkitAppearance!=="textfield"&&y.offsetHeight!==0,d.removeChild(y)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=y.checkValidity&&y.checkValidity()===!1:/^color$/.test(s)?(d.appendChild(y),d.offsetWidth,i=y.value!=b,d.removeChild(y)):i=y.value!=b)),k[e[r]]=!!i;return k}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var c="2.5.3",h={},p=!0,d=t.documentElement,v="modernizr",m=t.createElement(v),g=m.style,y=t.createElement("input"),b=":)",w={}.toString,E=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",x=S.split(" "),T=S.toLowerCase().split(" "),N={svg:"http://www.w3.org/2000/svg"},C={},k={},L={},A=[],O=A.slice,M,_=function(e,n,r,i){var s,o,u,a=t.createElement("div"),f=t.body,l=f?f:t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:v+(r+1),a.appendChild(u);return s=["&#173;","<style>",e,"</style>"].join(""),a.id=v,(f?a:l).innerHTML+=s,l.appendChild(a),f||(l.style.background="",d.appendChild(l)),o=n(a,e),f?a.parentNode.removeChild(a):l.parentNode.removeChild(l),!!o},D=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var o=e in i;return o||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),o=s(i[e],"function"),s(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,o}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),P={}.hasOwnProperty,H;!s(P,"undefined")&&!s(P.call,"undefined")?H=function(e,t){return P.call(e,t)}:H=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=O.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(O.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(O.call(arguments)))};return r});var B=function(n,r){var i=n.join(""),s=r.length;_(i,function(n,r){var i=t.styleSheets[t.styleSheets.length-1],o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"",u=n.childNodes,a={};while(s--)a[u[s].id]=u[s];h.touch="ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch||(a.touch&&a.touch.offsetTop)===9,h.csstransforms3d=(a.csstransforms3d&&a.csstransforms3d.offsetLeft)===9&&a.csstransforms3d.offsetHeight===3,h.generatedcontent=(a.generatedcontent&&a.generatedcontent.offsetHeight)>=1,h.fontface=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0},s,r)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",E.join("touch-enabled),("),v,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",E.join("transform-3d),("),v,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',b,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);C.flexbox=function(){return f("flexOrder")},C["flexbox-legacy"]=function(){return f("boxDirection")},C.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},C.canvastext=function(){return!!h.canvas&&!!s(t.createElement("canvas").getContext("2d").fillText,"function")},C.touch=function(){return h.touch},C.geolocation=function(){return!!navigator.geolocation},C.postmessage=function(){return!!e.postMessage},C.websqldatabase=function(){return!!e.openDatabase},C.indexedDB=function(){return!!f("indexedDB",e)},C.hashchange=function(){return D("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},C.history=function(){return!!e.history&&!!history.pushState},C.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},C.websockets=function(){for(var t=-1,n=x.length;++t<n;)if(e[x[t]+"WebSocket"])return!0;return"WebSocket"in e},C.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),o(g.backgroundColor,"rgba")},C.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),o(g.backgroundColor,"rgba")||o(g.backgroundColor,"hsla")},C.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(g.background)},C.backgroundsize=function(){return f("backgroundSize")},C.borderimage=function(){return f("borderImage")},C.borderradius=function(){return f("borderRadius")},C.boxshadow=function(){return f("boxShadow")},C.textshadow=function(){return t.createElement("div").style.textShadow===""},C.opacity=function(){return i("opacity:.55"),/^0.55$/.test(g.opacity)},C.cssanimations=function(){return f("animationName")},C.csscolumns=function(){return f("columnCount")},C.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+E.join(n+e)).slice(0,-e.length)),o(g.backgroundImage,"gradient")},C.cssreflections=function(){return f("boxReflect")},C.csstransforms=function(){return!!f("transform")},C.csstransforms3d=function(){var e=!!f("perspective");return e&&"webkitPerspective"in d.style&&(e=h.csstransforms3d),e},C.csstransitions=function(){return f("transition")},C.fontface=function(){return h.fontface},C.generatedcontent=function(){return h.generatedcontent},C.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},C.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},C.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},C.webworkers=function(){return!!e.Worker},C.applicationcache=function(){return!!e.applicationCache},C.svg=function(){return!!t.createElementNS&&!!t.createElementNS(N.svg,"svg").createSVGRect},C.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==N.svg},C.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(N.svg,"animate")))},C.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(N.svg,"clipPath")))};for(var j in C)H(C,j)&&(M=j.toLowerCase(),h[M]=C[j](),A.push((h[M]?"":"no-")+M));return h.input||l(),r(""),m=y=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=l.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t={},n=e.createElement,i=e.createDocumentFragment,s=i();e.createElement=function(e){var r=(t[e]||(t[e]=n(e))).cloneNode();return l.shivMethods&&r.canHaveChildren&&!u.test(e)?s.appendChild(r):r},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t[e]=n(e),s.createElement(e),'c("'+e+'")'})+");return n}")(l,s)}function s(e){var t;return e.documentShived?e:(l.shivCSS&&!a&&(t=!!n(e,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),f||(t=!i(e)),t&&(e.documentShived=t),e)}var o=e.html5||{},u=/^<|^(?:button|form|map|select|textarea)$/i,a,f;(function(){var e=t.createElement("a");e.innerHTML="<xyz></xyz>",a="hidden"in e,f=e.childNodes.length==1||function(){try{t.createElement("a")}catch(e){return!0}var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()})();var l={elements:o.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:o.shivCSS!==!1,shivMethods:o.shivMethods!==!1,type:"default",shivDocument:s};e.html5=l,s(t)}(this,t),h._version=c,h._prefixes=E,h._domPrefixes=T,h._cssomPrefixes=x,h.hasEvent=D,h.testProp=function(e){return u([e])},h.testAllProps=f,h.testStyles=_,d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+A.join(" "):""),h}(this,this.document),function(e,t,n){function r(e){return d.call(e)=="[object Function]"}function i(e){return typeof e=="string"}function s(){}function o(e){return!e||e=="loaded"||e=="complete"||e=="uninitialized"}function u(){var e=v.shift();m=1,e?e.t?h(function(){(e.t=="c"?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){e!="img"&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c={},d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};T[n]===1&&(g=1,T[n]=[],c=t.createElement(e)),e=="object"?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),e!="img"&&(g||T[n]===2?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a(t=="c"?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),v.length==1&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&d.call(e.opera)=="[object Opera]",c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return d.call(e)=="[object Array]"},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,a){var f=t(e),c=f.autoCallback;f.url.split(".").pop().split("?").shift(),f.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]||u),f.instead?f.instead(e,i,s,o,a):(T[f.url]?f.noexec=!0:T[f.url]=1,s.load(f.url,f.forceCSS||!f.forceJS&&"css"==f.url.split(".").pop().split("?").shift()?"c":n,f.noexec,f.attrs,f.timeout),(r(i)||r(c))&&s.load(function(){l(),i&&i(f.origUrl,a,o),c&&c(f.origUrl,a,o),T[f.url]=2})))}function a(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var f,c,h=this.yepnope.loader;if(i(e))o(e,0,h,0);else if(S(e))for(f=0;f<e.length;f++)c=e[f],i(c)?o(c,0,h,0):S(c)?k(c):Object(c)===c&&a(c,h);else Object(e)===e&&a(e,h)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,t.readyState==null&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},define("modernizr",function(){}),function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;for(;i<s;i++)f.tweens[i].run(r);return u.notifyWith(e,[f,r,n]),r<1&&s?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.style,p={},d=[],m=e.nodeType&&Gt(e);n.queue||(f=v._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,c.always(function(){c.always(function(){f.unqueued--,v.queue(e,"fx").length||f.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)),n.overflow&&(h.overflow="hidden",v.support.shrinkWrapBlocks||c.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r];if(s===(m?"hide":"show"))continue;d.push(r)}}o=d.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),m?v(e).show():c.done(function(){v(e).hide()}),c.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in p)v.style(e,t,p[t])});for(r=0;r<o;r++)i=d[r],a=c.createTween(i,m?u[i]:0),p[i]=u[i]||v.style(e,i),i in u||(u[i]=a.start,m&&(a.end=a.start,a.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("﻿ ")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":e.toString().replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||s.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"&&(!e.unique||!c.has(n))?a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return typeof e=="object"?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length||!r)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||++v.uuid:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")===0&&(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)~s.indexOf(" "+t[o]+" ")||(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>-1)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(v.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!v.nodeName(i.parentNode,"optgroup"))){t=v(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?v(u[s]).val():o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,""+r),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,l,c,h,p=(v._data(this,"events")||{})[n.type]||[],d=p.delegateCount,m=[].slice.call(arguments),g=!n.exclusive&&!n.namespace,y=v.event.special[n.type]||{},b=[];m[0]=n,n.delegateTarget=this;if(y.preDispatch&&y.preDispatch.call(this,n)===!1)return;if(d&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<d;r++)l=p[r],c=l.selector,u[c]===t&&(u[c]=v(c,this).index(s)>=0),u[c]&&f.push(l);f.length&&b.push({elem:s,matches:f})}p.length>d&&b.push({elem:this,matches:p.slice(d)});for(r=0;r<b.length&&!n.isPropagationStopped();r++){a=b[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){l=a.matches[i];if(g||!n.namespace&&!l.namespace||n.namespace_re&&n.namespace_re.test(l.namespace))n.data=l.data,n.handleObj=l,o=((v.event.special[l.origType]||{}).handle||l.handler).apply(a.elem,m),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return y.postDispatch&&y.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function Y(e,t,n,r){n=n||[],t=t||m;var i,s,o,f,l=t.nodeType;if(l!==1&&l!==9)return[];if(!e||typeof e!="string")return n;o=u(t);if(!o&&!r)if(i=j.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&a(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return w.apply(n,b.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&K&&t.getElementsByClassName)return w.apply(n,b.call(t.getElementsByClassName(f),0)),n}return lt(e,t,n,r,o)}function Z(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function et(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function tt(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function nt(e,t,n,r){var i,o,u,a,f,l,c,h,p,v,g=!n&&t!==m,y=(g?"<s>":"")+e.replace(D,"$1<s>"),w=T[d][y];if(w)return r?0:b.call(w,0);f=e,l=[],h=0,p=s.preFilter,v=s.filter;while(f){if(!i||(o=P.exec(f)))o&&(f=f.slice(o[0].length),u.selector=c),l.push(u=[]),c="",g&&(f=" "+f);i=!1;if(o=H.exec(f))c+=o[0],f=f.slice(o[0].length),i=u.push({part:o.pop().replace(D," "),string:o[0],captures:o});for(a in v)(o=W[a].exec(f))&&(!p[a]||(o=p[a](o,t,n)))&&(c+=o[0],f=f.slice(o[0].length),i=u.push({part:a,string:o.shift(),captures:o}));if(!i)break}return c&&(u.selector=c),r?f.length:f?Y.error(e):b.call(T(y,l),0)}function rt(e,t,i,s){var o=t.dir,u=y++;return e||(e=function(e){return e===i}),t.first?function(t){while(t=t[o])if(t.nodeType===1)return e(t)&&t}:s?function(t){while(t=t[o])if(t.nodeType===1&&e(t))return t}:function(t){var i,s=u+"."+n,a=s+"."+r;while(t=t[o])if(t.nodeType===1){if((i=t[d])===a)return t.sizset;if(typeof i=="string"&&i.indexOf(s)===0){if(t.sizset)return t}else{t[d]=a;if(e(t))return t.sizset=!0,t;t.sizset=!1}}}}function it(e,t){return e?function(n){var r=t(n);return r&&e(r===!0?n:r)}:t}function st(e,t,n){var r,i,o=0;for(;r=e[o];o++)s.relative[r.part]?i=rt(i,s.relative[r.part],t,n):i=it(i,s.filter[r.part].apply(null,r.captures.concat(t,n)));return i}function ot(e){return function(t){var n,r=0;for(;n=e[r];r++)if(n(t))return!0;return!1}}function ut(e,t,n,r){var i=0,s=t.length;for(;i<s;i++)Y(e,t[i],n,r)}function at(e,t,n,r,i,o){var u,a=s.setFilters[t.toLowerCase()];return a||Y.error(t),(e||!(u=i))&&ut(e||"*",r,u=[],i),u.length>0?a(u,n,o):[]}function ft(e,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y=0,b=e.length,E=W.POS,S=new RegExp("^"+E.source+"(?!"+C+")","i"),x=function(){var e=1,n=arguments.length-2;for(;e<n;e++)arguments[e]===t&&(p[e]=t)};for(;y<b;y++){s=e[y],o="",h=i;for(u=0,a=s.length;u<a;u++){f=s[u],l=f.string;if(f.part==="PSEUDO"){E.exec(""),c=0;while(p=E.exec(l)){d=!0,v=E.lastIndex=p.index+p[0].length;if(v>c){o+=l.slice(c,p.index),c=v,m=[n],H.test(o)&&(h&&(m=h),h=i);if(g=q.test(o))o=o.slice(0,-5).replace(H,"$&*"),c++;p.length>1&&p[0].replace(S,x),h=at(o,p[1],p[2],m,h,g)}o=""}}d||(o+=l),d=!1}o?H.test(o)?ut(o,h||[n],r,i):Y(o,n,r,i?i.concat(h):h):w.apply(r,h)}return b===1?r:Y.uniqueSort(r)}function lt(e,t,i,o,u){e=e.replace(D,"$1");var a,l,c,h,p,d,v,m,g,y,E=nt(e,t,u),S=t.nodeType;if(W.POS.test(e))return ft(E,t,i,o);if(o)a=b.call(o,0);else if(E.length===1){if((d=b.call(E[0],0)).length>2&&(v=d[0]).part==="ID"&&S===9&&!u&&s.relative[d[1].part]){t=s.find.ID(v.captures[0].replace(z,""),t,u)[0];if(!t)return i;e=e.slice(d.shift().string.length)}g=(E=I.exec(d[0].string))&&!E.index&&t.parentNode||t,m="";for(p=d.length-1;p>=0;p--){v=d[p],y=v.part,m=v.string+m;if(s.relative[y])break;if(s.order.test(y)){a=s.find[y](v.captures[0].replace(z,""),g,u);if(a==null)continue;e=e.slice(0,e.length-m.length)+m.replace(W[y],""),e||w.apply(i,b.call(a,0));break}}}if(e){l=f(e,t,u),n=l.dirruns++,a==null&&(a=s.find.TAG("*",I.test(e)&&t.parentNode||t));for(p=0;h=a[p];p++)r=l.runs++,l(h)&&i.push(h)}return i}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=e.document,g=m.documentElement,y=0,b=[].slice,w=[].push,E=function(e,t){return e[d]=t||!0,e},S=function(){var e={},t=[];return E(function(n,r){return t.push(n)>s.cacheLength&&delete e[t.shift()],e[n]=r},e)},x=S(),T=S(),N=S(),C="[\\x20\\t\\r\\n\\f]",k="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",L=k.replace("w","w#"),A="([*^$|!~]?=)",O="\\["+C+"*("+k+")"+C+"*(?:"+A+C+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)"+C+"*\\]",M=":("+k+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+O+")|[^:]|\\\\.)*|.*))\\)|)",_=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",D=new RegExp("^"+C+"+|((?:^|[^\\\\])(?:\\\\.)*)"+C+"+$","g"),P=new RegExp("^"+C+"*,"+C+"*"),H=new RegExp("^"+C+"*([\\x20\\t\\r\\n\\f>+~])"+C+"*"),B=new RegExp(M),j=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,F=/^:not/,I=/[\x20\t\r\n\f]*[+~]/,q=/:not\($/,R=/h\d/i,U=/input|select|textarea|button/i,z=/\\(?!\\)/g,W={ID:new RegExp("^#("+k+")"),CLASS:new RegExp("^\\.("+k+")"),NAME:new RegExp("^\\[name=['\"]?("+k+")['\"]?\\]"),TAG:new RegExp("^("+k.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+C+"*(even|odd|(([+-]|)(\\d*)n|)"+C+"*(?:([+-]|)"+C+"*(\\d+)|))"+C+"*\\)|)","i"),POS:new RegExp(_,"ig"),needsContext:new RegExp("^"+C+"*[>+~]|"+_,"i")},X=function(e){var t=m.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},V=X(function(e){return e.appendChild(m.createComment("")),!e.getElementsByTagName("*").length}),$=X(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),J=X(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),K=X(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),Q=X(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",g.insertBefore(e,g.firstChild);var t=m.getElementsByName&&m.getElementsByName(d).length===2+m.getElementsByName(d+0).length;return i=!m.getElementById(d),g.removeChild(e),t});try{b.call(g.childNodes,0)[0].nodeType}catch(G){b=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}Y.matches=function(e,t){return Y(e,null,null,t)},Y.matchesSelector=function(e,t){return Y(t,null,null,[e]).length>0},o=Y.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},u=Y.isXML=function(t){var n=t&&(t.ownerDocument||t).documentElement;return n?n.nodeName!=="HTML":!1},a=Y.contains=g.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:g.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},Y.attr=function(e,t){var n,r=u(e);return r||(t=t.toLowerCase()),s.attrHandle[t]?s.attrHandle[t](e):J||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},s=Y.selectors={cacheLength:50,createPseudo:E,match:W,order:new RegExp("ID|TAG"+(Q?"|NAME":"")+(K?"|CLASS":"")),attrHandle:$?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:i?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:V?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(z,""),e[3]=(e[4]||e[5]||"").replace(z,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||Y.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&Y.error(e[0]),e},PSEUDO:function(e,t,n){var r,i;if(W.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(r=e[4])B.test(r)&&(i=nt(r,t,n,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(r=r.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=r;return e.slice(0,3)}},filter:{ID:i?function(e){return e=e.replace(z,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(z,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(z,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=x[d][e];return t||(t=x(e,new RegExp("(^|"+C+")"+e+"("+C+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){return t?function(r){var i=Y.attr(r,e),s=i+"";if(i==null)return t==="!=";switch(t){case"=":return s===n;case"!=":return s!==n;case"^=":return n&&s.indexOf(n)===0;case"*=":return n&&s.indexOf(n)>-1;case"$=":return n&&s.substr(s.length-n.length)===n;case"~=":return(" "+s+" ").indexOf(n)>-1;case"|=":return s===n||s.substr(0,n.length+1)===n+"-"}}:function(t){return Y.attr(t,e)!=null}},CHILD:function(e,t,n,r){if(e==="nth"){var i=y++;return function(e){var t,s,o=0,u=e;if(n===1&&r===0)return!0;t=e.parentNode;if(t&&(t[d]!==i||!e.sizset)){for(u=t.firstChild;u;u=u.nextSibling)if(u.nodeType===1){u.sizset=++o;if(u===e)break}t[d]=i}return s=e.sizset-r,n===0?s===0:s%n===0&&s/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t,n,r){var i,o=s.pseudos[e]||s.pseudos[e.toLowerCase()];return o||Y.error("unsupported pseudo: "+e),o[d]?o(t,n,r):o.length>1?(i=[e,e,"",t],function(e){return o(e,0,i)}):o}},pseudos:{not:E(function(e,t,n){var r=f(e.replace(D,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!s.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},contains:E(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),has:E(function(e){return function(t){return Y(e,t).length>0}}),header:function(e){return R.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:Z("radio"),checkbox:Z("checkbox"),file:Z("file"),password:Z("password"),image:Z("image"),submit:et("submit"),reset:et("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return U.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){var r=[],i=n?1:0,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},odd:function(e,t,n){var r=[],i=n?0:1,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var r=e.splice(+t,1);return n?e:r}}},l=g.compareDocumentPosition?function(e,t){return e===t?(c=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return c=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return tt(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return tt(i[f],s[f]);return f===n?tt(e,s[f],-1):tt(i[f],t,1)},[0,0].sort(l),h=!c,Y.uniqueSort=function(e){var t,n=1;c=h,e.sort(l);if(c)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},Y.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},f=Y.compile=function(e,t,n){var r,i,s,o=N[d][e];if(o&&o.context===t)return o;r=nt(e,t,n);for(i=0,s=r.length;i<s;i++)r[i]=st(r[i],t,n);return o=N(e,ot(r)),o.context=t,o.runs=o.dirruns=0,o},m.querySelectorAll&&function(){var e,t=lt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[],s=[":active"],o=g.matchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.oMatchesSelector||g.msMatchesSelector;X(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+C+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),X(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+C+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=i.length&&new RegExp(i.join("|")),lt=function(e,r,s,o,u){if(!o&&!u&&(!i||!i.test(e)))if(r.nodeType===9)try{return w.apply(s,b.call(r.querySelectorAll(e),0)),s}catch(a){}else if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){var f,l,c,h=r.getAttribute("id"),p=h||d,v=I.test(e)&&r.parentNode||r;h?p=p.replace(n,"\\$&"):r.setAttribute("id",p),f=nt(e,r,u),p="[id='"+p+"']";for(l=0,c=f.length;l<c;l++)f[l]=p+f[l].selector;try{return w.apply(s,b.call(v.querySelectorAll(f.join(",")),0)),s}catch(a){}finally{h||r.removeAttribute("id")}}return t(e,r,s,o,u)},o&&(X(function(t){e=o.call(t,"div");try{o.call(t,"[test!='']:sizzle"),s.push(W.PSEUDO.source,W.POS.source,"!=")}catch(n){}}),s=new RegExp(s.join("|")),Y.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!u(t)&&!s.test(n)&&(!i||!i.test(n)))try{var a=o.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return Y(n,null,null,[t]).length>0})}(),s.setFilters.nth=s.setFilters.eq,s.filters=s.pseudos,Y.attr=v.attr,v.find=Y,v.expr=Y.selectors,v.expr[":"]=v.expr.pseudos,v.unique=Y.uniqueSort,v.text=Y.getText,v.isXMLDoc=Y.isXML,v.contains=Y.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{ln=s.href}catch(Nn){ln=i.createElement("a"),ln.href="",ln=ln.href}cn=wn.exec(ln.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:ln,isLocal:dn.test(cn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=""+(n||T),l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,cn[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]==cn[1]&&a[2]==cn[2]&&(a[3]||(a[1]==="http:"?80:443))==(cn[3]||(cn[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(e){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i,s=this.createTween(e,t),o=zn.exec(t),u=s.cur(),a=+u||0,f=1;if(o){n=+o[2],r=o[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&a){a=v.css(s.elem,e,!0)||n||1;do i=f=f||".5",a/=f,v.style(s.elem,e,a+r),f=s.cur()/u;while(f!==1&&f!==i)}s.unit=r,s.start=a,s.end=o[1]?a+(o[1]+1)*n:n}return s}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,t=v.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||v.fx.stop()},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f,l,c,h=this[0],p=h&&h.ownerDocument;if(!p)return;return(i=p.body)===h?v.offset.bodyOffset(h):(r=p.documentElement,v.contains(r,h)?(n=h.getBoundingClientRect(),s=tr(p),o=r.clientTop||i.clientTop||0,u=r.clientLeft||i.clientLeft||0,a=s.pageYOffset||r.scrollTop,f=s.pageXOffset||r.scrollLeft,l=n.top+a-o,c=n.left+f-u,{top:l,left:c}):{top:0,left:0})},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})}(window),function(e,t){function dt(e){if(e&&typeof e=="object"&&e.__wrapped__)return e;if(!(this instanceof dt))return new dt(e);this.__wrapped__=e}function bt(e,t,n){t||(t=0);var r=e.length,i=r-t>=(n||a);if(i){var s={},o=t-1;while(++o<r){var u=e[o]+"";(A.call(s,u)?s[u]:s[u]=[]).push(e[o])}}return function(n){if(i){var r=n+"";return A.call(s,r)&&Rn(s[r],n)>-1}return Rn(e,n,t)>-1}}function wt(e){return e.charCodeAt(0)}function Et(e,t){var n=e.index,r=t.index;e=e.criteria,t=t.criteria;if(e!==t){if(e>t||typeof e=="undefined")return 1;if(e<t||typeof t=="undefined")return-1}return n<r?-1:1}function St(e,t,n){function o(){var u=arguments,a=i?this:t;r||(e=t[s]),n.length&&(u=u.length?n.concat(Ot(u)):n);if(this instanceof o){At.prototype=e.prototype,a=new At,At.prototype=null;var f=e.apply(a,u);return tn(f)?f:a}return e.apply(a,u)}var r=en(e),i=!n,s=t;return i&&(n=t),r||(t=e),o}function xt(e,t,n){return e?typeof e!="function"?function(t){return t[e]}:typeof t!="undefined"?n?function(n,r,i,s){return e.call(t,n,r,i,s)}:function(n,r,i){return e.call(t,n,r,i)}:e:dr}function Tt(){var e={arrayLoop:"",bottom:"",hasDontEnumBug:et,isKeysFast:Z,objectLoop:"",nonEnumArgs:rt,noCharByIndex:ot,shadowed:x,top:"",useHas:!0};for(var t,n=0;t=arguments[n];n++)for(var r in t)e[r]=t[r];var i=e.args;e.firstArg=/^[^,]+/.exec(i)[0];var s=Function("createCallback, hasOwnProperty, isArguments, isString, objectTypes, nativeKeys, propertyIsEnumerable","return function("+i+") {\n"+vt(e)+"\n}");return s(xt,A,Dt,an,ht,j,M)}function Ct(e){return"\\"+pt[e]}function kt(e){return It[e]}function Lt(e){return typeof e.toString!="function"&&typeof (e+"")=="string"}function At(){}function Ot(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function Mt(e){return qt[e]}function Dt(e){return _.call(e)==R}function jt(e){var t=!1;if(!e||typeof e!="object"||Dt(e))return t;var n=e.constructor;return!en(n)&&(!ut||!Lt(e))||n instanceof n?tt?(Pt(e,function(e,n,r){return t=!A.call(r,n),!1}),t===!1):(Pt(e,function(e,n){t=n}),t===!1||A.call(e,t)):t}function Ft(e){var t=[];return Ht(e,function(e,n){t.push(n)}),t}function Rt(e,t,n,r,i){if(e==null)return e;n&&(t=!1);var s=tn(e);if(s){var o=_.call(e);if(!lt[o]||ut&&Lt(e))return e;var u=$t(e)}if(!s||!t)return s?u?Ot(e):_t({},e):e;var a=ct[o];switch(o){case z:case W:return new a(+e);case V:case K:return new a(e);case J:return a(e.source,v.exec(e))}r||(r=[]),i||(i=[]);var f=r.length;while(f--)if(r[f]==e)return i[f];var l=u?a(e.length):{};return r.push(e),i.push(l),(u?En:Ht)(e,function(e,n){l[n]=Rt(e,t,null,r,i)}),u&&(A.call(e,"index")&&(l.index=e.index),A.call(e,"input")&&(l.input=e.input)),l}function Ut(e){return Rt(e,!0)}function Wt(e){var t=[];return Pt(e,function(e,n){en(e)&&t.push(n)}),t.sort()}function Xt(e,t){return e?A.call(e,t):!1}function Vt(e){var t=-1,n=Bt(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function Jt(e){return e===!0||e===!1||_.call(e)==z}function Kt(e){return e instanceof Date||_.call(e)==W}function Qt(e){return e?e.nodeType===1:!1}function Gt(e){var t=!0;if(!e)return t;var n=_.call(e),r=e.length;return n==U||n==K||n==R||st&&Dt(e)||n==$&&typeof r=="number"&&en(e.splice)?!r:(Ht(e,function(){return t=!1}),t)}function Yt(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;var i=_.call(e),s=_.call(t);i==R&&(i=$),s==R&&(s=$);if(i!=s)return!1;switch(i){case z:case W:return+e==+t;case V:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case J:case K:return e==t+""}var o=i==U;if(!o){if(e.__wrapped__||t.__wrapped__)return Yt(e.__wrapped__||e,t.__wrapped__||t);if(i!=$||ut&&(Lt(e)||Lt(t)))return!1;var u=!it&&Dt(e)?Object:e.constructor,a=!it&&Dt(t)?Object:t.constructor;if(u!=a&&!(en(u)&&u instanceof u&&en(a)&&a instanceof a))return!1}n||(n=[]),r||(r=[]);var f=n.length;while(f--)if(n[f]==e)return r[f]==t;var l=!0,c=0;n.push(e),r.push(t);if(o){c=e.length,l=c==t.length;if(l)while(c--)if(!(l=Yt(e[c],t[c],n,r)))break;return l}return Pt(e,function(e,i,s){if(A.call(s,i))return c++,l=A.call(t,i)&&Yt(e,t[i],n,r)}),l&&Pt(t,function(e,t,n){if(A.call(n,t))return l=--c>-1}),l}function Zt(e){return H(e)&&!B(parseFloat(e))}function en(e){return typeof e=="function"}function tn(e){return e?ht[typeof e]:!1}function nn(e){return sn(e)&&e!=+e}function rn(e){return e===null}function sn(e){return typeof e=="number"||_.call(e)==V}function un(e){return e instanceof RegExp||_.call(e)==J}function an(e){return typeof e=="string"||_.call(e)==K}function fn(e){return typeof e=="undefined"}function ln(e,t,n){var r=arguments,i=0,s=2,o=r[3],a=r[4];n!==u&&(o=[],a=[],typeof n!="number"&&(s=r.length));while(++i<s)Ht(r[i],function(t,n){var r,i,s;if(t&&((i=$t(t))||on(t))){var f=o.length;while(f--){r=o[f]==t;if(r)break}r?e[n]=a[f]:(o.push(t),a.push(s=(s=e[n],i)?$t(s)?s:[]:on(s)?s:{}),e[n]=ln(s,t,u,o,a))}else t!=null&&(e[n]=t)});return e}function cn(e,t,n){var r=typeof t=="function",s={};if(r)t=xt(t,n);else var o=C.apply(i,arguments);return Pt(e,function(e,n,i){if(r?!t(e,n,i):Rn(o,n,1)<0)s[n]=e}),s}function hn(e){var t=-1,n=Bt(e),r=n.length,i=Array(r);while(++t<r){var s=n[t];i[t]=[s,e[s]]}return i}function pn(e,t,n){var r={};if(typeof t!="function"){var s=0,o=C.apply(i,arguments),u=o.length;while(++s<u){var a=o[s];a in e&&(r[a]=e[a])}}else t=xt(t,n),Pt(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function dn(e){var t=-1,n=Bt(e),r=n.length,i=Array(r);while(++t<r)i[t]=e[n[t]];return i}function vn(e){var t=-1,n=C.apply(i,Ot(arguments,1)),r=n.length,s=Array(r);ot&&an(e)&&(e=e.split(""));while(++t<r)s[t]=e[n[t]];return s}function mn(e,t,n){var r=-1,i=e?e.length:0,s=!1;return n=(n<0?F(0,i+n):n)||0,typeof i=="number"?s=(an(e)?e.indexOf(t,n):Rn(e,t,n))>-1:Nt(e,function(e){if(++r>=n)return!(s=e===t)}),s}function gn(e,t,n){var r={};return t=xt(t,n),En(e,function(e,n,i){n=t(e,n,i),A.call(r,n)?r[n]++:r[n]=1}),r}function yn(e,t,n){var r=!0;t=xt(t,n);if($t(e)){var i=-1,s=e.length;while(++i<s)if(!(r=!!t(e[i],i,e)))break}else Nt(e,function(e,n,i){return r=!!t(e,n,i)});return r}function bn(e,t,n){var r=[];t=xt(t,n);if($t(e)){var i=-1,s=e.length;while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}}else Nt(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function wn(e,t,n){var r;return t=xt(t,n),En(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function En(e,t,n){if(t&&typeof n=="undefined"&&$t(e)){var r=-1,i=e.length;while(++r<i)if(t(e[r],r,e)===!1)break}else Nt(e,t,n);return e}function Sn(e,t,n){var r={};return t=xt(t,n),En(e,function(e,n,i){n=t(e,n,i),(A.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function xn(e,t){var n=Ot(arguments,2),r=typeof t=="function",i=[];return En(e,function(e){i.push((r?t:e[t]).apply(e,n))}),i}function Tn(e,t,n){var r=-1,i=e?e.length:0,s=Array(typeof i=="number"?i:0);t=xt(t,n);if($t(e))while(++r<i)s[r]=t(e[r],r,e);else Nt(e,function(e,n,i){s[++r]=t(e,n,i)});return s}function Nn(e,t,n){var r=-Infinity,i=-1,s=e?e.length:0,o=r;if(t||!$t(e))t=!t&&an(e)?wt:xt(t,n),Nt(e,function(e,n,i){var s=t(e,n,i);s>r&&(r=s,o=e)});else while(++i<s)e[i]>o&&(o=e[i]);return o}function Cn(e,t,n){var r=Infinity,i=-1,s=e?e.length:0,o=r;if(t||!$t(e))t=!t&&an(e)?wt:xt(t,n),Nt(e,function(e,n,i){var s=t(e,n,i);s<r&&(r=s,o=e)});else while(++i<s)e[i]<o&&(o=e[i]);return o}function kn(e,t){return Tn(e,t+"")}function Ln(e,t,n,r){var i=arguments.length<3;t=xt(t,r,u);if($t(e)){var s=-1,o=e.length;i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else Nt(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function An(e,t,n,r){var i=e,s=e?e.length:0,o=arguments.length<3;if(typeof s!="number"){var a=Bt(e);s=a.length}else ot&&an(e)&&(i=e.split(""));return t=xt(t,r,u),En(e,function(e,r,u){r=a?a[--s]:--s,n=o?(o=!1,i[r]):t(n,i[r],r,u)}),n}function On(e,t,n){return t=xt(t,n),bn(e,function(e,n,r){return!t(e,n,r)})}function Mn(e){var t=-1,n=Array(e?e.length:0);return En(e,function(e){var r=k(q()*(++t+1));n[t]=n[r],n[r]=e}),n}function _n(e){var t=e?e.length:0;return typeof t=="number"?t:Bt(e).length}function Dn(e,t,n){var r;t=xt(t,n);if($t(e)){var i=-1,s=e.length;while(++i<s)if(r=t(e[i],i,e))break}else Nt(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Pn(e,t,n){var r=[];t=xt(t,n),En(e,function(e,n,i){r.push({criteria:t(e,n,i),index:n,value:e})});var i=r.length;r.sort(Et);while(i--)r[i]=r[i].value;return r}function Hn(e){var t=e?e.length:0;return typeof t=="number"?ot&&an(e)?e.split(""):Ot(e):dn(e)}function Bn(e,t){var n=Bt(t);return bn(e,function(e){var r=n.length;while(r--){var i=e[n[r]]===t[n[r]];if(!i)break}return!!i})}function jn(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function Fn(e){var t=-1,n=e?e.length:0,r=C.apply(i,arguments),s=bt(r,n),o=[];while(++t<n){var u=e[t];s(u)||o.push(u)}return o}function In(e,t,n){if(e){var r=e.length;return t==null||n?e[0]:Ot(e,0,I(F(0,t),r))}}function qn(e,t){var n=-1,r=e?e.length:0,i=[];while(++n<r){var s=e[n];$t(s)?O.apply(i,t?s:qn(s)):i.push(s)}return i}function Rn(e,t,n){var r=-1,i=e?e.length:0;if(typeof n=="number")r=(n<0?F(0,i+n):n||0)-1;else if(n)return r=Kn(e,t),e[r]===t?r:-1;while(++r<i)if(e[r]===t)return r;return-1}function Un(e,t,n){if(!e)return[];var r=e.length;return t=t==null||n?1:t||0,Ot(e,0,I(F(0,r-t),r))}function zn(e){var t=arguments,n=t.length,r={0:{}},i=-1,s=e?e.length:0,o=s>=100,u=[],a=u;e:while(++i<s){var f=e[i];if(o)var l=f+"",c=A.call(r[0],l)?!(a=r[0][l]):a=r[0][l]=[];if(c||Rn(a,f)<0){o&&a.push(f);var h=n;while(--h)if(!(r[h]||(r[h]=bt(t[h],0,100)))(f))continue e;u.push(f)}}return u}function Wn(e,t,n){if(e){var r=e.length;return t==null||n?e[r-1]:Ot(e,F(0,r-t))}}function Xn(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?F(0,r+n):I(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Vn(e,t){var n=-1,r=e?e.length:0,i={};while(++n<r){var s=e[n];t?i[s]=t[n]:i[s[0]]=s[1]}return i}function $n(e,t,n){e=+e||0,n=+n||1,t==null&&(t=e,e=0);var r=-1,i=F(0,N((t-e)/n)),s=Array(i);while(++r<i)s[r]=e,e+=n;return s}function Jn(e,t,n){return Ot(e,t==null||n?1:F(0,t))}function Kn(e,t,n,r){var i=0,s=e?e.length:i;n=n?xt(n,r):dr,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function Qn(){return Gn(C.apply(i,arguments))}function Gn(e,t,n,r){var i=-1,s=e?e.length:0,o=[],u=o;typeof t=="function"&&(r=n,n=t,t=!1);var a=!t&&s>=75;if(a)var f={};n&&(u=[],n=xt(n,r));while(++i<s){var l=e[i],c=n?n(l,i,e):l;if(a)var h=c+"",p=A.call(f,h)?!(u=f[h]):u=f[h]=[];if(t?!i||u[u.length-1]!==c:p||Rn(u,c)<0)(n||a)&&u.push(c),o.push(l)}return o}function Yn(e){var t=-1,n=e?e.length:0,r=bt(arguments,1,20),i=[];while(++t<n){var s=e[t];r(s)||i.push(s)}return i}function Zn(e){var t=-1,n=e?Nn(kn(arguments,"length")):0,r=Array(n);while(++t<n)r[t]=kn(arguments,t);return r}function er(e,t){return e<1?t():function(){if(--e<1)return t.apply(this,arguments)}}function tr(e,t){return Y||D&&arguments.length>2?D.call.apply(D,arguments):St(e,t,Ot(arguments,2))}function nr(e){var t=arguments,n=t.length>1?0:(t=Wt(e),-1),r=t.length;while(++n<r){var i=t[n];e[i]=tr(e[i],e)}return e}function rr(e,t){return St(e,t,Ot(arguments,2))}function ir(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function sr(e,t,n){function u(){o=null,n||(i=e.apply(s,r))}var r,i,s,o;return function(){var a=n&&!o;return r=arguments,s=this,clearTimeout(o),o=setTimeout(u,t),a&&(i=e.apply(s,r)),i}}function or(e,n){var r=Ot(arguments,2);return setTimeout(function(){e.apply(t,r)},n)}function ur(e){var n=Ot(arguments,1);return setTimeout(function(){e.apply(t,n)},1)}function ar(e,t){var n={};return function(){var r=t?t.apply(this,arguments):arguments[0];return A.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}}function fr(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function lr(e){return St(e,Ot(arguments,1))}function cr(e,t){function u(){o=new Date,s=null,r=e.apply(i,n)}var n,r,i,s,o=0;return function(){var a=new Date,f=t-(a-o);return n=arguments,i=this,f<=0?(clearTimeout(s),s=null,o=a,r=e.apply(i,n)):s||(s=setTimeout(u,f)),r}}function hr(e,t){return function(){var n=[e];return O.apply(n,arguments),t.apply(this,n)}}function pr(e){return e==null?"":(e+"").replace(E,kt)}function dr(e){return e}function vr(e){En(Wt(e),function(t){var n=dt[t]=e[t];dt.prototype[t]=function(){var e=[this.__wrapped__];O.apply(e,arguments);var t=n.apply(dt,e);return new dt(t)}})}function mr(){return e._=f,this}function gr(e,t){return e==null&&t==null&&(t=1),e=+e||0,t==null&&(t=e,e=0),e+k(q()*((+t||0)-e+1))}function yr(e,t){var n=e?e[t]:null;return en(n)?e[t]():n}function br(e,t,n){e||(e=""),n||(n={});var r,i,s=dt.templateSettings,o=0,u=n.interpolate||s.interpolate||w,a="__p += '",f=n.variable||s.variable,c=f,v=RegExp((n.escape||s.escape||w).source+"|"+u.source+"|"+(u===b?y:w).source+"|"+(n.evaluate||s.evaluate||w).source+"|$","g");e.replace(v,function(t,n,i,s,u,f){return i||(i=s),a+=e.slice(o,f).replace(S,Ct),n&&(a+="' +\n__e("+n+") +\n'"),u&&(a+="';\n"+u+";\n__p += '"),i&&(a+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),r||(r=u||l.test(n||i)),o=f+t.length,t}),a+="';\n";if(!c){f="obj";if(r)a="with ("+f+") {\n"+a+"\n}\n";else{var g=RegExp("(\\(\\s*)"+f+"\\."+f+"\\b","g");a=a.replace(m,"$&"+f+".").replace(g,"$1__d")}}a=(r?a.replace(h,""):a).replace(p,"$1").replace(d,"$1;"),a="function("+f+") {\n"+(c?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":(c?"":", __d = "+f+"."+f+" || "+f)+";\n")+a+"return __p\n}";var E=ft?"\n//@ sourceURL="+(n.sourceURL||"/lodash/template/source["+T++ +"]"):"";try{i=Function("_","return "+a+E)(dt)}catch(x){throw x.source=a,x}return t?i(t):(i.source=a,i)}function wr(e,t,n){e=+e||0;var r=-1,i=Array(e);while(++r<e)i[r]=t.call(n,r);return i}function Er(e){return e==null?"":(e+"").replace(c,Mt)}function Sr(e){return(e==null?"":e+"")+ ++o}function xr(e,t){return t(e),e}function Tr(){return this.__wrapped__+""}function Nr(){return this.__wrapped__}var n=typeof exports=="object"&&exports,r=typeof global=="object"&&global;r.global===r&&(e=r);var i=[],s=new function(){},o=0,u=s,a=30,f=e._,l=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,c=/&(?:amp|lt|gt|quot|#x27);/g,h=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g,v=/\w*$/,m=/(?:__e|__t = )\(\s*(?![\d\s"']|this\.)/g,g=RegExp("^"+(s.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),y=/\$\{((?:(?=\\?)\\?[\s\S])*?)}/g,b=/<%=([\s\S]+?)%>/g,w=/($^)/,E=/[&<>"']/g,S=/['\n\r\t\u2028\u2029\\]/g,x=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],T=0,N=Math.ceil,C=i.concat,k=Math.floor,L=g.test(L=Object.getPrototypeOf)&&L,A=s.hasOwnProperty,O=i.push,M=s.propertyIsEnumerable,_=s.toString,D=g.test(D=Ot.bind)&&D,P=g.test(P=Array.isArray)&&P,H=e.isFinite,B=e.isNaN,j=g.test(j=Object.keys)&&j,F=Math.max,I=Math.min,q=Math.random,R="[object Arguments]",U="[object Array]",z="[object Boolean]",W="[object Date]",X="[object Function]",V="[object Number]",$="[object Object]",J="[object RegExp]",K="[object String]",Q=!!e.attachEvent,G=D&&!/\n|true/.test(D+Q),Y=D&&!G,Z=j&&(Q||G),et,tt,nt=(nt={0:1,length:1},i.splice.call(nt,0,1),nt[0]),rt=!0;(function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments)rt=!n;et=!/valueOf/.test(e),tt=e[0]!="x"})(1);var it=arguments.constructor==Object,st=!Dt(arguments),ot="x"[0]+Object("x")[0]!="xx";try{var ut=({toString:0}+"",_.call(document)==$)}catch(at){}try{var ft=(Function("//@")(),!Q)}catch(at){}var lt={};lt[X]=!1,lt[R]=lt[U]=lt[z]=lt[W]=lt[V]=lt[$]=lt[J]=lt[K]=!0;var ct={};ct[U]=Array,ct[z]=Boolean,ct[W]=Date,ct[$]=Object,ct[V]=Number,ct[J]=RegExp,ct[K]=String;var ht={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},pt={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};dt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:""};var vt=br("<% if (obj.useStrict) { %>\n<% } %>var index, iteratee = <%= firstArg %>, result = <%= firstArg %>;\nif (!<%= firstArg %>) return result;\n<%= top %>;\n<% if (arrayLoop) { %>var length = iteratee.length; index = -1;\nif (typeof length == 'number') {  <% if (noCharByIndex) { %>\n  if (isString(iteratee)) {\n    iteratee = iteratee.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= arrayLoop %>\n  }\n}\nelse {  <%  } else if (nonEnumArgs) { %>\n  var length = iteratee.length; index = -1;\n  if (length && isArguments(iteratee)) {\n    while (++index < length) {\n      index += '';\n      <%= objectLoop %>\n    }\n  } else {  <% } %>  <% if (!hasDontEnumBug) { %>\n  var skipProto = typeof iteratee == 'function' && \n    propertyIsEnumerable.call(iteratee, 'prototype');\n  <% } %>  <% if (isKeysFast && useHas) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iteratee] ? nativeKeys(iteratee) : [],\n      length = ownProps.length;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    <% if (!hasDontEnumBug) { %>if (!(skipProto && index == 'prototype')) {\n  <% } %>    <%= objectLoop %>\n    <% if (!hasDontEnumBug) { %>}\n<% } %>  }  <% } else { %>\n  for (index in iteratee) {<%    if (!hasDontEnumBug || useHas) { %>\n    if (<%      if (!hasDontEnumBug) { %>!(skipProto && index == 'prototype')<% }      if (!hasDontEnumBug && useHas) { %> && <% }      if (useHas) { %>hasOwnProperty.call(iteratee, index)<% }    %>) {    <% } %>\n    <%= objectLoop %>;    <% if (!hasDontEnumBug || useHas) { %>\n    }<% } %>\n  }  <% } %>  <% if (hasDontEnumBug) { %>\n\n  var ctor = iteratee.constructor;\n    <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowed[k] %>';\n  if (<%      if (shadowed[k] == 'constructor') {        %>!(ctor && ctor.prototype === iteratee) && <%      } %>hasOwnProperty.call(iteratee, index)) {\n    <%= objectLoop %>\n  }    <% } %>  <% } %>  <% if (arrayLoop || nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result"),mt={args:"object, source, guard",top:"for (var argsIndex = 1, argsLength = typeof guard == 'number' ? 2 : arguments.length; argsIndex < argsLength; argsIndex++) {\n  if ((iteratee = arguments[argsIndex])) {",objectLoop:"result[index] = iteratee[index]",bottom:"  }\n}"},gt={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : createCallback(callback, thisArg)",arrayLoop:"if (callback(iteratee[index], index, collection) === false) return result",objectLoop:"if (callback(iteratee[index], index, collection) === false) return result"},yt={arrayLoop:null},Nt=Tt(gt),_t=Tt(mt);st&&(Dt=function(e){return e?A.call(e,"callee"):!1});var Pt=Tt(gt,yt,{useHas:!1}),Ht=Tt(gt,yt),Bt=j?function(e){return typeof e=="function"&&M.call(e,"prototype")?Ft(e):tn(e)?j(e):[]}:Ft,It={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},qt=Vt(It),zt=Tt(mt,{objectLoop:"if (result[index] == null) "+mt.objectLoop}),$t=P||function(e){return it&&e instanceof Array||_.call(e)==U};en(/x/)&&(en=function(e){return e instanceof Function||_.call(e)==X});var on=L?function(e){if(!e||typeof e!="object")return!1;var t=e.valueOf,n=typeof t=="function"&&(n=L(t))&&L(n);return n?e==n||L(e)==n&&!Dt(e):jt(e)}:jt;dt.after=er,dt.assign=_t,dt.at=vn,dt.bind=tr,dt.bindAll=nr,dt.bindKey=rr,dt.compact=jn,dt.compose=ir,dt.countBy=gn,dt.debounce=sr,dt.defaults=zt,dt.defer=ur,dt.delay=or,dt.difference=Fn,dt.filter=bn,dt.flatten=qn,dt.forEach=En,dt.forIn=Pt,dt.forOwn=Ht,dt.functions=Wt,dt.groupBy=Sn,dt.initial=Un,dt.intersection=zn,dt.invert=Vt,dt.invoke=xn,dt.keys=Bt,dt.map=Tn,dt.max=Nn,dt.memoize=ar,dt.merge=ln,dt.min=Cn,dt.object=Vn,dt.omit=cn,dt.once=fr,dt.pairs=hn,dt.partial=lr,dt.pick=pn,dt.pluck=kn,dt.range=$n,dt.reject=On,dt.rest=Jn,dt.shuffle=Mn,dt.sortBy=Pn,dt.tap=xr,dt.throttle=cr,dt.times=wr,dt.toArray=Hn,dt.union=Qn,dt.uniq=Gn,dt.values=dn,dt.where=Bn,dt.without=Yn,dt.wrap=hr,dt.zip=Zn,dt.collect=Tn,dt.drop=Jn,dt.each=En,dt.extend=_t,dt.methods=Wt,dt.select=bn,dt.tail=Jn,dt.unique=Gn,vr(dt),dt.clone=Rt,dt.cloneDeep=Ut,dt.contains=mn,dt.escape=pr,dt.every=yn,dt.find=wn,dt.has=Xt,dt.identity=dr,dt.indexOf=Rn,dt.isArguments=Dt,dt.isArray=$t,dt.isBoolean=Jt,dt.isDate=Kt,dt.isElement=Qt,dt.isEmpty=Gt,dt.isEqual=Yt,dt.isFinite=Zt,dt.isFunction=en,dt.isNaN=nn,dt.isNull=rn,dt.isNumber=sn,dt.isObject=tn,dt.isPlainObject=on,dt.isRegExp=un,dt.isString=an,dt.isUndefined=fn,dt.lastIndexOf=Xn,dt.mixin=vr,dt.noConflict=mr,dt.random=gr,dt.reduce=Ln,dt.reduceRight=An,dt.result=yr,dt.size=_n,dt.some=Dn,dt.sortedIndex=Kn,dt.template=br,dt.unescape=Er,dt.uniqueId=Sr,dt.all=yn,dt.any=Dn,dt.detect=wn,dt.foldl=Ln,dt.foldr=An,dt.include=mn,dt.inject=Ln,Ht(dt,function(e,t){dt.prototype[t]||(dt.prototype[t]=function(){var t=[this.__wrapped__];return O.apply(t,arguments),e.apply(dt,t)})}),dt.first=In,dt.last=Wn,dt.take=In,dt.head=In,Ht(dt,function(e,t){dt.prototype[t]||(dt.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return t==null||n?r:new dt(r)})}),dt.VERSION="1.0.0-rc.3",dt.prototype.toString=Tr,dt.prototype.value=Nr,dt.prototype.valueOf=Nr,Nt(["join","pop","shift"],function(e){var t=i[e];dt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),Nt(["push","reverse","sort","unshift"],function(e){var t=i[e];dt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Nt(["concat","slice","splice"],function(e){var t=i[e];dt.prototype[e]=function(){var e=t.apply(this.__wrapped__,arguments);return new dt(e)}}),nt&&Nt(["pop","shift","splice"],function(e){var t=i[e],n=e=="splice";dt.prototype[e]=function(){var e=this.__wrapped__,r=t.apply(e,arguments);return e.length===0&&delete e[0],n?new dt(r):r}}),dt._each=Nt,dt._iteratorTemplate=vt,typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e._=dt,define("underscore",[],function(){return dt})):n?typeof module=="object"&&module&&module.exports==n?(module.exports=dt)._=dt:n._=dt:e._=dt}(this),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;typeof exports!="undefined"?i=exports:i=e.Backbone={},i.VERSION="0.9.2";var s=e._;!s&&typeof require!="undefined"&&(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;i.setDomLibrary=function(e){o=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var u=/\s+/,a=i.Events={on:function(e,t,n){var r,i,s,o,a;if(!t)return this;e=e.split(u),r=this._callbacks||(this._callbacks={});while(i=e.shift())a=r[i],s=a?a.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:a?a.next:s};return this},off:function(e,t,n){var r,i,o,a,f,l;if(!(i=this._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(u):s.keys(i);while(r=e.shift()){o=i[r],delete i[r];if(!o||!t&&!n)continue;a=o.tail;while((o=o.next)!==a)f=o.callback,l=o.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,r,i,s,o,a,f;if(!(i=this._callbacks))return this;a=i.all,e=e.split(u),f=n.call(arguments,1);while(t=e.shift()){if(r=i[t]){s=r.tail;while((r=r.next)!==s)r.callback.apply(r.context||this,f)}if(r=a){s=r.tail,o=[t].concat(f);while((r=r.next)!==s)r.callback.apply(r.context||this,o)}}return this}};a.bind=a.on,a.unbind=a.off;var f=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=C(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(f.prototype,a,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof f&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},a=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){o=r[i];if(!s.isEqual(a[i],o)||n.unset&&s.has(a,i))delete l[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete a[i]:a[i]=o,!s.isEqual(c[i],o)||s.has(a,i)!=s.has(c,i)?(this.changed[i]=o,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}var u=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var o=a.parse(e,i);n.wait&&(delete n.wait,o=s.extend(r||{},o));if(!a.set(o,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=i.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||i.sync).call(this,l,this,n);return n.wait&&this.set(o,u),c},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=C(this,"urlRoot")||C(this.collection,"url")||k();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!s.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent[n])continue;delete this.changed[n]}this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(s.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var l=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(l.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f,l={},c={},h=[];t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length;while(n--)e.splice(h[n],1);for(n=0,o=e.length;n<o;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=o,i=t.at!=null?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,o=this.models.length;n<o;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){o=this.getByCid(e[n])||this.get(e[n]);if(!o)continue;delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof f)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(c,function(e){l.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var h=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,d=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(h.prototype,a,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new m),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);n&&n.apply(this,s),this.trigger.apply(this,["route:"+t].concat(s)),i.history.trigger("route",this,t,s)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(d,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},g=/^[#\/]/,y=/msie [\w.]+/;m.started=!1,s.extend(m.prototype,a,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(g,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started");m.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,u=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&u&&i.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!m.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(g,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var b=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];s.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o(r).attr(t),n&&o(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o?e:o(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=C(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(w),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,o===""?this.$el.bind(i,n):this.$el.delegate(o,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=E.length;t<n;t++){var r=E[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=C(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var S=function(e,t){var n=N(this,e,t);return n.extend=this.extend,n};f.extend=l.extend=h.extend=b.extend=S;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=x[e];n||(n={});var u={type:r,dataType:"json"};return u.headers={"X-Auth-Token":API.getAuthToken()},n.url||(u.url=C(t,"url")||k()),!n.data&&t&&(e=="create"||e=="update")&&(u.contentType="application/json",u.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),i.emulateHTTP&&(r==="PUT"||r==="DELETE")&&(i.emulateJSON&&(u.data._method=r),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),u.type!=="GET"&&!i.emulateJSON&&(u.processData=!1),o.ajax(s.extend(u,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var T=function(){},N=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},s.extend(r,e),T.prototype=e.prototype,r.prototype=new T,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},C=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},k=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){return e.Backbone}}(this)),function(e){typeof define!="undefined"&&define.amd?define("promise",[],e):typeof module!="undefined"&&module.exports?module.exports=e():window.Promise=e()}(function(){function t(e){return function(){return e}}function n(t){var n=e.call(arguments,1);return function(e){return e[t].apply(e,n.concat(arguments))}}function r(e){return function(t){return t[e]}}function i(){Object.defineProperty(this,"future",{get:t(new s)})}function s(){this.state="unfulfilled",Object.defineProperty(this,"_cbk",{get:t([])})}function o(e,t,n,r){if(typeof e!="function")return n[r](t);if(i.debug)return n.resolve(e(t));try{n.resolve(e(t))}catch(s){n.reject(s)}}var e=Array.prototype.slice;return i.prototype={constructor:i,resolve:function(e){if(this.future.state!=="unfulfilled")return;if(e instanceof s)return e.then(this.resolve.bind(this),this.reject.bind(this));this.future.value=e,this.future.state="fulfilled",this.future._cbk.forEach(function(e){e()})},reject:function(e){if(this.future.state!=="unfulfilled")return;this.future.error=e,this.future.state="failed",this.future._cbk.forEach(function(e){e()})}},i.resolved=function(e){var t=new i;return t.resolve(e),t.future},i.rejected=function(e){var t=new i;return t.reject(e),t.future},i.normalize=i.when=function(e){return e instanceof i&&(e=e.future),e instanceof s?e:i.resolved(e)},i.all=i.parallel=function(t){t instanceof Array||(t=e.call(arguments));if(!t.length)return i.resolved([]);var s=new i;return t=t.map(i.normalize),t.forEach(n("then",function(){t.every(n("isResolved"))&&s.resolve(t.map(r("value")))},s.reject.bind(s))),s.future},s.prototype={constructor:s,isResolved:function(){return this.state==="fulfilled"},isRejected:function(){return this.state==="failed"},isCompleted:function(){return this.state!=="unfulfilled"},then:function(e,t){function s(){n.state==="fulfilled"?o(e,n.value,r,"resolve"):o(t,n.error,r,"reject")}var n=this,r=new i;return this.state==="unfulfilled"?this._cbk.push(s):setTimeout(s,0),r.future},fin:function(e){return this.then(function(n){return i.normalize(e()).then(t(n))},function(t){return i.normalize(e()).then(function(){return i.rejected(t)})})},spread:function(e,t){return typeof e!="function"?this.then(null,t):this.then(function(t){return e.apply(null,t)},t)},timeout:function(e){var t=new i;return setTimeout(t.reject.bind(t,new Error("timeout")),e),t.future},flat:function(){return this.then(function(e){return[].concat.apply([],e)})},prop:function(e){return this.then(function(t){return t[e]})},set:function(e,t){return this.then(function(n){return n[e]=t,n})},method:function(t){return this.invoke(t,e.call(arguments,1))},invoke:function(e,t){return this.then(function(n){return n[e].apply(n,t)})},execute:function(){var t=e.call(arguments);return this.then(function(e){return e.apply(null,t)})}},i}),define("text",["module"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o=typeof location!="undefined"&&location.href,u=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,f=o&&(location.port||undefined),l=[],c=e.config&&e.config()||{};t={version:"2.0.3",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,c.isBuild&&(l[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}c.isBuild=i.isBuild;var s=t.parseName(e),l=s.moduleName+"."+s.ext,h=n.toUrl(l),p=c.useXhr||t.useXhr;!o||p(h,u,a,f)?t.get(h,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([l],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(l.hasOwnProperty(n)){var s=t.jsEscape(l[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.moduleName+"."+o.ext,a=r.toUrl(o.moduleName+"."+o.ext)+".js";t.load(u,r,function(n){var r=function(e){return i(a,e)};r.asModule=function(e,t){return i.asModule(e,a,t)},t.write(e,u,r,s)},s)}};if(c.env==="node"||!c.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("﻿")===0&&(r=r.substring(1)),t(r)};else if(c.env==="xhr"||!c.env&&t.createXhr())t.get=function(e,n,r){var i=t.createXhr();i.open("GET",e,!0),c.onXhr&&c.onXhr(i,e),i.onreadystatechange=function(t){var s,o;i.readyState===4&&(s=i.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=i,r(o)):n(i.responseText))},i.send(null)};else if(c.env==="rhino"||!c.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return t});var Handlebars={};typeof define!="undefined"&&define.amd&&define("handlebars",[],function(){return Handlebars}),function(e){e.VERSION="1.0.rc.1",e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,n="[object Function]";e.registerHelper("blockHelperMissing",function(r,i){var s=i.inverse||function(){},o=i.fn,u="",a=t.call(r);return a===n&&(r=r.call(this)),r===!0?o(this):r===!1||r==null?s(this):a==="[object Array]"?r.length>0?e.helpers.each(r,i):s(this):o(r)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.registerHelper("each",function(t,n){var r=n.fn,i=n.inverse,s="",o;n.data&&(o=e.createFrame(n.data));if(t&&t.length>0)for(var u=0,a=t.length;u<a;u++)o&&(o.index=u),s+=r(t[u],{data:o});else s=i(this);return s}),e.registerHelper("if",function(r,i){var s=t.call(r);return s===n&&(r=r.call(this)),!r||e.Utils.isEmpty(r)?i.inverse(this):i.fn(this)}),e.registerHelper("unless",function(t,n){var r=n.fn,i=n.inverse;return n.fn=i,n.inverse=r,e.helpers["if"].call(this,t,n)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t){e.log(t)})}(Handlebars);var handlebars=function(){function n(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,DATA:27,param:28,STRING:29,INTEGER:30,BOOLEAN:31,hashSegments:32,hashSegment:33,ID:34,EQUALS:35,pathSegments:36,SEP:37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",27:"DATA",29:"STRING",30:"INTEGER",31:"BOOLEAN",34:"ID",35:"EQUALS",37:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[17,1],[25,2],[25,1],[28,1],[28,1],[28,1],[28,1],[28,1],[26,1],[32,2],[32,1],[33,3],[33,3],[33,3],[33,3],[33,3],[21,1],[36,3],[36,1]],performAction:function(t,n,r,i,s,o,u){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=new i.ProgramNode(o[a-2],o[a]);break;case 3:this.$=new i.ProgramNode(o[a]);break;case 4:this.$=new i.ProgramNode([]);break;case 5:this.$=[o[a]];break;case 6:o[a-1].push(o[a]),this.$=o[a-1];break;case 7:this.$=new i.BlockNode(o[a-2],o[a-1].inverse,o[a-1],o[a]);break;case 8:this.$=new i.BlockNode(o[a-2],o[a-1],o[a-1].inverse,o[a]);break;case 9:this.$=o[a];break;case 10:this.$=o[a];break;case 11:this.$=new i.ContentNode(o[a]);break;case 12:this.$=new i.CommentNode(o[a]);break;case 13:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 14:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 15:this.$=o[a-1];break;case 16:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 17:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1],!0);break;case 18:this.$=new i.PartialNode(o[a-1]);break;case 19:this.$=new i.PartialNode(o[a-2],o[a-1]);break;case 20:break;case 21:this.$=[[o[a-2]].concat(o[a-1]),o[a]];break;case 22:this.$=[[o[a-1]].concat(o[a]),null];break;case 23:this.$=[[o[a-1]],o[a]];break;case 24:this.$=[[o[a]],null];break;case 25:this.$=[[new i.DataNode(o[a])],null];break;case 26:o[a-1].push(o[a]),this.$=o[a-1];break;case 27:this.$=[o[a]];break;case 28:this.$=o[a];break;case 29:this.$=new i.StringNode(o[a]);break;case 30:this.$=new i.IntegerNode(o[a]);break;case 31:this.$=new i.BooleanNode(o[a]);break;case 32:this.$=new i.DataNode(o[a]);break;case 33:this.$=new i.HashNode(o[a]);break;case 34:o[a-1].push(o[a]),this.$=o[a-1];break;case 35:this.$=[o[a]];break;case 36:this.$=[o[a-2],o[a]];break;case 37:this.$=[o[a-2],new i.StringNode(o[a])];break;case 38:this.$=[o[a-2],new i.IntegerNode(o[a])];break;case 39:this.$=[o[a-2],new i.BooleanNode(o[a])];break;case 40:this.$=[o[a-2],new i.DataNode(o[a])];break;case 41:this.$=new i.IdNode(o[a]);break;case 42:o[a-2].push(o[a]),this.$=o[a-2];break;case 43:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,27:[1,24],34:[1,26],36:25},{17:27,21:23,27:[1,24],34:[1,26],36:25},{17:28,21:23,27:[1,24],34:[1,26],36:25},{17:29,21:23,27:[1,24],34:[1,26],36:25},{21:30,34:[1,26],36:25},{1:[2,1]},{6:31,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,32],21:23,27:[1,24],34:[1,26],36:25},{10:33,20:[1,34]},{10:35,20:[1,34]},{18:[1,36]},{18:[2,24],21:41,25:37,26:38,27:[1,45],28:39,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,25]},{18:[2,41],27:[2,41],29:[2,41],30:[2,41],31:[2,41],34:[2,41],37:[1,48]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],37:[2,43]},{18:[1,49]},{18:[1,50]},{18:[1,51]},{18:[1,52],21:53,34:[1,26],36:25},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:54,34:[1,26],36:25},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:41,26:55,27:[1,45],28:56,29:[1,42],30:[1,43],31:[1,44],32:40,33:46,34:[1,47],36:25},{18:[2,23]},{18:[2,27],27:[2,27],29:[2,27],30:[2,27],31:[2,27],34:[2,27]},{18:[2,33],33:57,34:[1,58]},{18:[2,28],27:[2,28],29:[2,28],30:[2,28],31:[2,28],34:[2,28]},{18:[2,29],27:[2,29],29:[2,29],30:[2,29],31:[2,29],34:[2,29]},{18:[2,30],27:[2,30],29:[2,30],30:[2,30],31:[2,30],34:[2,30]},{18:[2,31],27:[2,31],29:[2,31],30:[2,31],31:[2,31],34:[2,31]},{18:[2,32],27:[2,32],29:[2,32],30:[2,32],31:[2,32],34:[2,32]},{18:[2,35],34:[2,35]},{18:[2,43],27:[2,43],29:[2,43],30:[2,43],31:[2,43],34:[2,43],35:[1,59],37:[2,43]},{34:[1,60]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,61]},{18:[1,62]},{18:[2,21]},{18:[2,26],27:[2,26],29:[2,26],30:[2,26],31:[2,26],34:[2,26]},{18:[2,34],34:[2,34]},{35:[1,59]},{21:63,27:[1,67],29:[1,64],30:[1,65],31:[1,66],34:[1,26],36:25},{18:[2,42],27:[2,42],29:[2,42],30:[2,42],31:[2,42],34:[2,42],37:[2,42]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,36],34:[2,36]},{18:[2,37],34:[2,37]},{18:[2,38],34:[2,38]},{18:[2,39],34:[2,39]},{18:[2,40],34:[2,40]}],defaultActions:{16:[2,1],24:[2,25],38:[2,23],55:[2,21]},parseError:function(t,n){throw new Error(t)},parse:function(t){function v(e){r.length=r.length-2*e,i.length=i.length-e,s.length=s.length-e}function m(){var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p);var d=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var g,y,b,w,E,S,x={},T,N,C,k;for(;;){b=r[r.length-1];if(this.defaultActions[b])w=this.defaultActions[b];else{if(g===null||typeof g=="undefined")g=m();w=o[b]&&o[b][g]}if(typeof w=="undefined"||!w.length||!w[0]){var L="";if(!l){k=[];for(T in o[b])this.terminals_[T]&&T>2&&k.push("'"+this.terminals_[T]+"'");this.lexer.showPosition?L="Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":L="Parse error on line "+(a+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(L,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:k})}}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(w[0]){case 1:r.push(g),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(w[1]),g=null,y?(g=y,y=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:N=this.productions_[w[1]][1],x.$=i[i.length-N],x._$={first_line:s[s.length-(N||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(N||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(N||1)].range[0],s[s.length-1].range[1]]),S=this.performAction.call(x,u,f,a,this.yy,w[1],i,s);if(typeof S!="undefined")return S;N&&(r=r.slice(0,-1*N*2),i=i.slice(0,-1*N),s=s.slice(0,-1*N)),r.push(this.productions_[w[1]][0]),i.push(x.$),s.push(x._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i,s;this._more||(this.yytext="",this.match="");var o=this._currentRules();for(var u=0;u<o.length;u++){n=this._input.match(this.rules[o[u]]);if(n&&(!t||n[0].length>t[0].length)){t=n,r=u;if(!this.options.flex)break}}if(t){s=t[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1);if(e)return e;return}return this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return typeof t!="undefined"?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return e.options={},e.performAction=function(t,n,r,i){var s=i;switch(r){case 0:n.yytext.slice(-1)!=="\\"&&this.begin("mu"),n.yytext.slice(-1)==="\\"&&(n.yytext=n.yytext.substr(0,n.yyleng-1),this.begin("emu"));if(n.yytext)return 14;break;case 1:return 14;case 2:return n.yytext.slice(-1)!=="\\"&&this.popState(),n.yytext.slice(-1)==="\\"&&(n.yytext=n.yytext.substr(0,n.yyleng-1)),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return n.yytext=n.yytext.substr(3,n.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 35;case 13:return 34;case 14:return 34;case 15:return 37;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return n.yytext=n.yytext.substr(1,n.yyleng-2).replace(/\\"/g,'"'),29;case 20:return n.yytext=n.yytext.substr(1,n.yyleng-2).replace(/\\"/g,'"'),29;case 21:return n.yytext=n.yytext.substr(1),27;case 22:return 31;case 23:return 31;case 24:return 30;case 25:return 34;case 26:return n.yytext=n.yytext.substr(1,n.yyleng-2),34;case 27:return"INVALID";case 28:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,28],inclusive:!0}},e}();return e.lexer=t,n.prototype=e,e.Parser=n,new n}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=handlebars,exports.Parser=handlebars.Parser,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");var n,r;return typeof process!="undefined"?n=require("fs").readFileSync(require("path").resolve(t[1]),"utf8"):n=require("file").path(require("file").cwd()).join(t[1]).read({charset:"utf-8"}),exports.parser.parse(n)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args)),Handlebars.Parser=handlebars,Handlebars.parse=function(e){return Handlebars.Parser.yy=Handlebars.AST,Handlebars.Parser.parse(e)},Handlebars.print=function(e){return(new Handlebars.PrintVisitor).accept(e)},Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){}},Handlebars.log=function(e,t){Handlebars.logger.log(e,t)},function(){Handlebars.AST={},Handlebars.AST.ProgramNode=function(e,t){this.type="program",this.statements=e,t&&(this.inverse=new Handlebars.AST.ProgramNode(t))},Handlebars.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var r=this.id=e[0],i=this.params=e.slice(1),s=this.eligibleHelper=r.isSimple;this.isHelper=s&&(i.length||t)},Handlebars.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var e=function(e,t){if(e.original!==t.original)throw new Handlebars.Exception(e.original+" doesn't match "+t.original)};Handlebars.AST.BlockNode=function(t,n,r,i){e(t.id,i),this.type="block",this.mustache=t,this.program=n,this.inverse=r,this.inverse&&!this.program&&(this.isInverse=!0)},Handlebars.AST.ContentNode=function(e){this.type="content",this.string=e},Handlebars.AST.HashNode=function(e){this.type="hash",this.pairs=e},Handlebars.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");var t=[],n=0;for(var r=0,i=e.length;r<i;r++){var s=e[r];s===".."?n++:s==="."||s==="this"?this.isScoped=!0:t.push(s)}this.parts=t,this.string=t.join("."),this.depth=n,this.isSimple=e.length===1&&!this.isScoped&&n===0},Handlebars.AST.DataNode=function(e){this.type="DATA",this.id=e},Handlebars.AST.StringNode=function(e){this.type="STRING",this.string=e},Handlebars.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},Handlebars.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},Handlebars.AST.CommentNode=function(e){this.type="comment",this.comment=e}}(),Handlebars.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.message=t.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,n=/[&<>"'`]/,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():e==null||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return typeof e=="undefined"?!0:e===null?!0:e===!1?!0:Object.prototype.toString.call(e)==="[object Array]"&&e.length===0?!0:!1}}}(),Handlebars.Compiler=function(){},Handlebars.JavaScriptCompiler=function(){},function(e,t){e.prototype={compiler:e,disassemble:function(){var e=this.opcodes,t,n=[],r,i;for(var s=0,o=e.length;s<o;s++){t=e[s];if(t.opcode==="DECLARE")n.push("DECLARE "+t.name+"="+t.value);else{r=[];for(var u=0;u<t.args.length;u++)i=t.args[u],typeof i=="string"&&(i='"'+i.replace("\n","\\n")+'"'),r.push(i);n.push(t.opcode+" "+r.join(" "))}}return n.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t=e.statements,n;this.opcodes=[];for(var r=0,i=t.length;r<i;r++)n=t[r],this[n.type](n);return this.isSimple=i===1,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++,r;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var i=0,s=t.depths.list.length;i<s;i++){r=t.depths.list[i];if(r<2)continue;this.addDepth(r-1)}return n},block:function(e){var t=e.mustache,n=e.program,r=e.inverse;n&&(n=this.compileProgram(n)),r&&(r=this.compileProgram(r));var i=this.classifyMustache(t);i==="helper"?this.helperMustache(t,n,r):i==="simple"?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("pushLiteral","{}"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,r),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("pushLiteral","{}"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t=e.pairs,n,r;this.opcode("push","{}");for(var i=0,s=t.length;i<s;i++)n=t[i],r=n[1],this.accept(r),this.opcode("assignToHash",n[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);n==="simple"?this.simpleMustache(e):n==="helper"?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var r=e.id,i=r.parts[0];this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",i)},simpleMustache:function(e,t,n){var r=e.id;r.type==="DATA"?this.DATA(r):r.parts.length?this.ID(r):(this.addDepth(r.depth),this.opcode("getContext",r.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),i=e.id.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else{if(this.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+i);this.opcode("invokeHelper",r.length,i)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,r=e.parts.length;n<r;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");if(e===0)return;this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,r=this.options;if(n&&!t){var i=e.id.parts[0];r.knownHelpers[i]?t=!0:r.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){var t=e.length,n;while(t--)n=e[t],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.string)):this[n.type](n)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),t},setupFullMustacheParams:function(e,t,n){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("pushLiteral","{}"),r}};var n=function(e){this.value=e};t.prototype={nameLookup:function(e,n,r){return/^[0-9]+$/.test(n)?e+"["+n+"]":t.isValidJavaScriptVariableName(n)?e+"."+n:e+"['"+n+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.compileChildren(e,t);var i=e.opcodes,s;this.i=0;for(o=i.length;this.i<o;this.i++)s=i[this.i],s.opcode==="DECLARE"?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(r)},nextOpcode:function(){var e=this.environment.opcodes,t=e[this.i+1];return e[this.i+1]},eat:function(e){this.i=this.i+1},preamble:function(){var e=[];if(!this.isChild){var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),this.options.data&&(n+=" data = data || {};"),e.push(n)}else e.push("");this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", "));if(!this.isChild){var n=[];for(var r in this.context.aliases)this.source[1]=this.source[1]+", "+r+"="+this.context.aliases[r]}this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var s=0,o=this.environment.depths.list.length;s<o;s++)i.push("depth"+this.environment.depths.list[s]);if(e)return i.push(this.source.join("\n  ")),Function.apply(this,i);var u="function "+(this.name||"")+"("+i.join(",")+") {\n  "+this.source.join("\n  ")+"}";return Handlebars.log(Handlebars.logger.DEBUG,u+"\n\n"),u},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),t+" = blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(),t="";this.context.aliases.escapeExpression="this.escapeExpression",e&&e.opcode==="appendContent"&&(t=" + "+this.quotedString(e.args[0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.pushStack(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+"() : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.pushStack(this.nameLookup("data",e,"data"))},pushStringParam:function(e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){this.pushStack(e)},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){e!=null?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t);this.register("foundHelper",n.name),this.pushStack("foundHelper ? foundHelper.call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+")")},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.pushStack(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var t=this.setupHelper(0,e),n=this.lastHelper=this.nameLookup("helpers",e,"helper");this.register("foundHelper",n);var r=this.nameLookup("depth"+this.lastContext,e,"context"),i=this.nextStack();this.source.push("if (foundHelper) { "+i+" = foundHelper.call("+t.callParams+"); }"),this.source.push("else { "+i+" = "+r+"; "+i+" = typeof "+i+" === functionType ? "+i+"() : "+i+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.pushStack("self.invokePartial("+t.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),n=this.topStack();this.source.push(n+"['"+e+"'] = "+t+";")},compiler:t,compileChildren:function(e,t){var n=e.children,r,i;for(var s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler,this.context.programs.push("");var u=this.context.programs.length;r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,t,this.context)}},programExpression:function(e){this.context.aliases.self="this";if(e==null)return"self.noop";var t=this.environment.children[e],n=t.depths.list,r,i=[t.index,t.name,"data"];for(var s=0,o=n.length;s<o;s++)r=n[s],r===1?i.push("depth0"):i.push("depth"+(r-1));return n.length===0?"self.program("+i.join(", ")+")":(i.shift(),"self.programWithDepth("+i.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.compileStack.push(new n(e)),e},pushStack:function(e){return this.source.push(this.incrStack()+" = "+e+";"),this.compileStack.push("stack"+this.stackSlot),"stack"+this.stackSlot},replaceStack:function(e){var t=e.call(this,this.topStack());return this.source.push(this.topStack()+" = "+t+";"),"stack"+this.stackSlot},nextStack:function(e){var t=this.incrStack();return this.compileStack.push("stack"+this.stackSlot),t},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){var e=this.compileStack.pop();return e instanceof n?e.value:(this.stackSlot--,e)},topStack:function(){var e=this.compileStack[this.compileStack.length-1];return e instanceof n?e.value:e},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t){var n=[];this.setupParams(e,n);var r=this.nameLookup("helpers",t,"helper");return{params:n,name:r,callParams:["depth0"].concat(n).join(", "),helperMissingParams:["depth0",this.quotedString(t)].concat(n).join(", ")}},setupParams:function(e,t){var n=[],r=[],i,s,o;n.push("hash:"+this.popStack()),s=this.popStack(),o=this.popStack();if(o||s)o||(this.context.aliases.self="this",o="self.noop"),s||(this.context.aliases.self="this",s="self.noop"),n.push("inverse:"+s),n.push("fn:"+o);for(var u=0;u<e;u++)i=this.popStack(),t.push(i),this.options.stringParams&&r.push(this.popStack());return this.options.stringParams&&n.push("contexts:["+r.join(",")+"]"),this.options.data&&n.push("data:data"),t.push("{"+n.join(",")+"}"),t.join(", ")}};var r="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),i=t.RESERVED_WORDS={};for(var s=0,o=r.length;s<o;s++)i[r[s]]=!0;t.isValidJavaScriptVariableName=function(e){return!t.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(Handlebars.Compiler,Handlebars.JavaScriptCompiler),Handlebars.precompile=function(e,t){t=t||{};var n=Handlebars.parse(e),r=(new Handlebars.Compiler).compile(n,t);return(new Handlebars.JavaScriptCompiler).compile(r,t)},Handlebars.compile=function(e,t){function r(){var n=Handlebars.parse(e),r=(new Handlebars.Compiler).compile(n,t),i=(new Handlebars.JavaScriptCompiler).compile(r,t,undefined,!0);return Handlebars.template(i)}t=t||{};var n;return function(e,t){return n||(n=r()),n.call(this,e,t)}},Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:(r=this.programs[e]=Handlebars.VM.program(t),r)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},e.call(t,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return function(n,i){return i=i||{},e.apply(this,[n,i.data||t].concat(r))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,s){var o={helpers:r,partials:i,data:s};if(e===undefined)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,o);if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return i[t]=Handlebars.compile(e,{data:s!==undefined}),i[t](n,o)}},Handlebars.template=Handlebars.VM.template,define("core/view",["require","underscore","handlebars"],function(e){function i(e){var n=t.object(t.values(e),t.keys(e)),r=e;if(e instanceof Array){var i=r;r=n,n=i}return r.fromValue=function(e){return n[e]},r}var t=e("underscore"),n=e("handlebars");n.registerHelper("equals",function(e,t,r){return n.helpers["if"].call(this,e==t,r)}),n.registerHelper("unless_equals",function(e,t,r){return n.helpers.unless.call(this,e==t,r)}),n.registerHelper("if_any",function(){var e=t.toArray(arguments),r=e.pop(),i=e.reduce(function(e,t){return e||!!t},!1);return n.helpers["if"].call(this,i,r)}),n.registerHelper("if_contains",function(e,t,r){return n.helpers["if"].call(this,e&&e.indexOf(t)!==-1,r)}),n.registerHelper("unless_contains",function(e,t,r){return n.helpers.unless.call(this,e&&e.indexOf(t)!==-1,r)}),n.registerHelper("escape",function(e,t){return new n.SafeString(e.replace(/\n/g,"<br>"))}),n.registerHelper("date",function(e,t){var n=typeof e=="number"?moment.unix(e):moment(e);return t==="from now"?n.fromNow():n.format(typeof t=="string"?t:"L")}),n.registerHelper("enum",function(e,t){return s[t]?s[t].fromValue(e):window[t][e]}),n.registerHelper("rate",function(e){return new n.SafeString(e===-1?"-":e+"%")});var r=n.helpers.each;n.registerHelper("each",function(e,n){return e instanceof Array&&(e=e.map(function(n,r){return t.extend({},n,{self:n,index:r,indexPlusOne:r+1,indexMinusOne:r-1,first:r===0,last:r===e.length-1,secondLast:r===e.length-2})})),r.call(this,e,n)}),n.registerHelper("range",function(e,t,r,i){arguments.length===3?(i=r,r=1):arguments.length===2?(i=t,r=1,t=e,e=1):r=+r;var s=r>0?function(e){return e<=t}:function(e){return e>=t},o=[];for(var u=e;s(u);u+=r)o.push(u);return n.helpers.each.call(this,o,i)}),n.registerHelper("selected",function(e,t){return e==t?new n.SafeString(" selected"):""}),n.registerHelper("checked",function(e,t){return e==t?new n.SafeString(' checked="checked"'):""});var s={"notification-type":i({Request:"request",Invitation:"invite",Message:"message"}),"notification-state":i({pending:"P",maybe:"M",accepted:"A",denied:"D"})};return function(e){var r=n.compile(e);return function(e){return arguments.length>1&&(e=t.extend.apply(t,[{}].concat(t.toArray(arguments)))),r(e||{})}}}),define("tmpl",["require","text","core/view"],function(e){function i(e,i,s,o){t.load(e,i,function(t){r[e]=t,s(n(t))},o)}function s(e,n,i,s){i.asModule(e+"!"+n,["define([ 'core/view' ], function(view) {","return view('",t.jsEscape(r[n]),"');","});"].join(""))}var t=e("text"),n=e("core/view"),r={};return{load:i,write:s}}),define("tmpl!templates/lib/alert2.html",["core/view"],function(e){return e('<div class="alert {{#if options.block }}alert-block{{/if}} {{#if type }}alert-{{ type }}{{/if}}">\n	{{#unless options.noClose }}\n		<button type="button" class="close" data-dismiss="alert">×</button>\n	{{/unless}}\n  <!--   <h2>{{ title }}</h2> -->\n  <p>{{{ content }}}</p>\n</div>\n')}),define("views/lib/alerts",["require","tmpl!templates/lib/alert2.html"],function(e){function r(e,r,i){var s;typeof i=="string"&&(s=r,r=i,i=arguments[3]),i=i||{},"autoclose"in i||(i.autoclose=1e4);var o=$(t({type:e,title:s,content:r,options:i}));return n&&n.alert("close"),n=o,$("#alerts-container").append(o),i.autoclose&&setTimeout(function(){o.alert("close")},i.autoclose),o.alert(),o}var t=e("tmpl!templates/lib/alert2.html"),n;return{success:r.bind(null,"success"),info:r.bind(null,"info"),warning:r.bind(null,null),error:r.bind(null,"error"),defaultError:r.bind(null,"error","Sorry, an error ocurred, it has been reported")}}),define("views/lib/spinner",[],function(){function i(e){n.push(e),t.spin($("#mini-spinner").get(0)),$("#mini-spinner span").show()}function s(e){clearTimeout(r[e]),n=n.filter(function(t){return t!==e}),n.length||(t.stop(),$("#mini-spinner span").hide())}function o(e,t){if(!t)return i(e);r[e]=setTimeout(i.bind(null,e),t)}var e={lines:13,length:3,width:1,radius:7,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},t=new Spinner(e),n=[],r={};return{show:o,hide:s,options:e}}),define("config",[],function(){function t(){if(document.location.hostname.indexOf("192.168.1.")===0)return"local";switch(document.location.hostname){case"localhost":case"peoplewings":case"0.0.0.0":case"127.0.0.1":return"local";case"peoplewings-test.herokuapp.com":case"test.peoplewings.com":return"test";case"peoplewings-alpha.herokuapp.com":case"alpha.peoplewings.com":return"alpha";case"www.peoplewings.com":case"peoplewings.com":return"production"}throw"Unknown environment: "+window.location.hostname}function n(n){return e[t()][n]}var e={local:{domain:"localhost",server:"https://peoplewings-be-development.herokuapp.com",apiVersion:"/api/v1",debug:!0},test:{domain:"test.peoplewings.com",server:"https://peoplewings-be-test.herokuapp.com",apiVersion:"/api/v1",debug:!1},alpha:{domain:"alpha.peoplewings.com",server:"https://peoplewings-be-alpha.herokuapp.com",apiVersion:"/api/v1",debug:!1},production:{domain:"peoplewings.com",server:"https://peoplewings-be-alpha.herokuapp.com",apiVersion:"/api/v1",debug:!1}};return{getEnv:t,getValue:n}}),define("api2",["require","underscore","promise","views/lib/alerts","views/lib/spinner","config"],function(e){function a(){r.error("Your session has expired"),localStorage.removeItem("Peoplewings-Auth-Token"),document.location.hash="/login",document.location.reload(),a=function(){}}function l(e){console.log("UPDATES",e),t.each(e,function(e,t){var n=f[t];if(!n)return;n.forEach(function(t){t(e)})})}function c(e,t){f[e]||(f[e]=[]),f[e].push(t)}function h(e,r,i,s){var o=new n,u=new XMLHttpRequest;return u.open(e,r,!0),t.each(i,function(e,t){u.setRequestHeader(t,e)}),u.onreadystatechange=function(){u.readyState===4&&o.resolve(u)},u.send(s),o.future}function p(e,u,f){var c=t.uniqueId("request"),h=new n,p=o+u,d=new XMLHttpRequest,m=null,y=/\/api\/v1\/(\w+)/.exec(u)[1];y!=="control"&&i.show(c,1e3),d.open(e,p,!0),d.onreadystatechange=function(){if(d.readyState===4){i.hide(c);if(d.status===401)return a();v.restart();var e;try{e=JSON.parse(d.responseText)}catch(t){return console.error("Invalid JSON (",u,"): ",d.responseText),h.reject(t)}e.updates&&l(e.updates);if(e.status)return h.resolve(e);if(!e.errors||!e.errors.length){h.reject(new Error("Server error")),r.error("ERROR","Sorry an error ocurred");return}var n={autoclose:6e4};e.errors.forEach(function(e){f;switch(e.type){case"AUTH_REQUIRED":a();break;case"INVALID_USER_OR_PASS":r.error("Wrong email or password",n);break;case"INACTIVE_USER":r.error("Your account is not activated. Please check your email inbox",n);break;case"EXPIRED_KEY":r.error("Your key has expired.",n);break;case"USED_KEY":r.error("This key is already activated.",n);break;case"EMAIL_IN_USE":r.error("The gicen email is already in use",n);break;case"INCORRECT_PASSWORD":r.error("Incorrect password",n);break;case"UNDERAGE":h.resolve({errors:[{type:"UNDERAGE"}],status:!1});break;case"INVALID":if(e.extras.length!==0)r.error("Invalid field "+e.extras[0],n);else debugger;break;case"BAD_REQUEST":case"FIELD_REQUIRED":case"FORBIDDEN":case"INTERNAL_ERROR":case"INVALID_FIELD":case"JSON_ERROR":case"METHOD_NOT_ALLOWED":case"NO_CONTENT":case"NOT_EMPTY":case"START_DATE_GT_END_DATE":case"TOO_LONG":case"VALIDATION_ERROR":s.getValue("debug")&&r.error(JSON.stringify(e,null,"	"),{autoclose:0});break;default:s.getValue("debug")&&r.error("UNKNOWN ERROR TYPE:\n"+JSON.stringify(e,null,"	"),{autoclose:0})}}),h.reject(e.errors)}},f&&(m=JSON.stringify(f),d.setRequestHeader("Content-Type","application/json; charset=utf-8"));var b=g();return b&&d.setRequestHeader("X-Auth-Token",b.auth),d.send(m),h.future}function d(e,n){return e+"?"+t.map(n,function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&")}function m(e){return e?JSON.parse(e):null}function g(){var e=m(localStorage.getItem("Peoplewings-Auth-Token"));return e?e.remember?e:m(sessionStorage.getItem("Peoplewings-Auth-Token")):null}function y(e){var t=JSON.stringify(e);localStorage.setItem("Peoplewings-Auth-Token",t),sessionStorage.setItem("Peoplewings-Auth-Token",t)}function b(){localStorage.removeItem("Peoplewings-Auth-Token"),sessionStorage.removeItem("Peoplewings-Auth-Token")}var t=e("underscore"),n=e("promise"),r=e("views/lib/alerts"),i=e("views/lib/spinner"),s=e("config"),o=s.getValue("server"),u=s.getValue("apiVersion"),f={},v={interval:60,start:function(){this.timeout=setTimeout(this.tick,this.interval*1e3)},stop:function(){clearTimeout(this.timeout)},restart:function(){this.stop(),this.start()},tick:function(){this.stop(),g()&&p("GET",u+"/control")}};return v.tick=v.tick.bind(v),v.start(),{request:h,"delete":function(e,t){return p("DELETE",e,t)},put:function(e,t){return p("PUT",e,t)},post:function(e,t){return p("POST",e,t)},get:function(e,t){return p("GET",d(e,t),null)},control:function(){p("GET",u+"/control")},listenUpdate:c,urlEncode:function(e){return d("",e)},saveAuthToken:y,clearAuthToken:b,userIsLoggedIn:function(){return g()},getServerUrl:function(){return o},getApiVersion:function(){return u},getUserId:function(){var e=g();return e?e.uid:null},getAuthToken:function(){var e=g();return e?e.auth:null}}}),function(e,t){function n(t,n){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&r(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var i=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,s=e(this[0]);s.length&&s[0]!==document;){if(r=s.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;i.length>r;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(n,r,i){var s,o,u,a,f={},l=n.split(".")[0];n=n.split(".")[1],s=l+"-"+n,i||(i=r,r=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},o=e[l][n],u=e[l][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new u(e,n)},e.extend(u,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new r,a.options=e.widget.extend({},a.options),e.each(i,function(n,i){return e.isFunction(i)?(f[n]=function(){var e=function(){return r.prototype[n].apply(this,arguments)},t=function(e){return r.prototype[n].apply(this,e)};return function(){var n,r=this._super,s=this._superApply;return this._super=e,this._superApply=t,n=i.apply(this,arguments),this._super=r,this._superApply=s,n}}(),t):(f[n]=i,t)}),u.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:n},f,{constructor:u,namespace:l,widgetName:n,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,u,n._proto)}),delete o._childConstructors):r._childConstructors.push(u),e.widget.bridge(n,u)},e.widget.extend=function(n){for(var i,o,u=r.call(arguments,1),a=0,f=u.length;f>a;a++)for(i in u[a])o=u[a][i],u[a].hasOwnProperty(i)&&o!==t&&(n[i]=e.isPlainObject(o)?e.isPlainObject(n[i])?e.widget.extend({},n[i],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;e.fn[n]=function(u){var f="string"==typeof u,l=r.call(arguments,1),c=this;return u=!f&&l.length?e.widget.extend.apply(null,[u].concat(l)):u,f?this.each(function(){var r,i=e.data(this,o);return i?e.isFunction(i[u])&&"_"!==u.charAt(0)?(r=i[u].apply(i,l),r!==i&&r!==t?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):t):e.error("no such method '"+u+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+u+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(u||{})._init():e.data(this,o,new i(u,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,s,o,u=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(u={},i=n.split("."),n=i.shift(),i.length){for(s=u[n]=e.widget.extend({},this.options[n]),o=0;i.length-1>o;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];if(n=i.pop(),r===t)return s[n]===t?null:s[n];s[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];u[n]=r}return this._setOptions(u),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,r,i){var s,o=this;"boolean"!=typeof n&&(i=r,r=n,n=!1),i?(r=s=e(r),this.bindings=this.bindings.add(r)):(i=r,r=this.element,s=this.widget()),e.each(i,function(i,u){function f(){return n||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof u?o[u]:u).apply(o,arguments):t}"string"!=typeof u&&(f.guid=u.guid=u.guid||f.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?s.delegate(h,c,f):r.bind(c,f)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,s="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return i&&!s&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(r=e(this),!1):undefined}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target)),r?!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,r){var i,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r),s&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&a>r+f&&t+l>s&&o>t+l;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:t+this.helperProportions.width/2>s&&o>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>u&&a>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&r||"left"===s&&!r:i&&("down"===i&&n||"up"===i&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--)for(i=e(a[n]),r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=u.length-1;n>=0;n--)u[n][0].each(function(){o.push(this)});return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n]),r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=c.length-1;n>=0;n--)for(o=c[n][1],u=c[n][0],r=0,f=u.length;f>r;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),s=e(t.document[0].createElement(r)).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===r?s.append("<td colspan='99'>&#160;</td>"):"img"===r&&s.attr("src",t.currentItem.attr("src")),n||s.css("visibility","hidden"),s},update:function(e,o){(!n||r.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(r){var s,o,u,a,f,l,c,h,p,d,v=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!e.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(v&&e.contains(this.containers[s].element[0],v.element[0]))continue;v=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",r,this._uiHash(this)),this.containers[s].containerCache.over=0);if(v)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",r,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(u=1e4,a=null,d=v.floating||n(this.currentItem),f=d?"left":"top",l=d?"width":"height",c=this.positionAbs[f]+this.offset.click[f],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!d||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(h=this.items[o].item.offset()[f],p=!1,Math.abs(h-c)>Math.abs(h+this.items[o][l]-c)&&(p=!0,h+=this.items[o][l]),u>Math.abs(h-c)&&(u=Math.abs(h-c),a=this.items[o],this.direction=p?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(r,a,null,!0):this._rearrange(r,null,this.containers[m].element,!0),this._trigger("change",r,this._uiHash()),this.containers[m]._trigger("change",r,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",r,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){e.datepicker._isDisabledDatepicker(s.inline?t.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function i(t,n){e.extend(t,n);for(var r in n)null==n[r]&&(t[r]=n[r]);return t}e.extend(e.ui,{datepicker:{version:"1.10.2"}});var s,o="datepicker",u=(new Date).getTime();e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return i(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase(),i="div"===r||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),i),s.settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,s):i&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var r=e(t);n.append=e([]),n.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,o,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[u?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),("focus"===r||"both"===r)&&t.focus(this._showDatepicker),("button"===r||"both"===r)&&(i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:i,title:i}):i)),t[u?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;e.length>i;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),e.data(t,o,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,r,s,u){var a,f,l,c,h,p=this._dialogInst;return p||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],o,p)),i(p.settings,s||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=u?u.length?u:[u.pageX,u.pageY]:null,this._pos||(f=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[f/2-100+c,l/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],o,p),this},_destroyDatepicker:function(t){var n,r=e(t),i=e.data(t,o);r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,o),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,o);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,r,i=e(t),s=e.data(t,o);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,o)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,r,s){var o,u,a,f,l=this._getInst(n);return 2===arguments.length&&"string"==typeof r?"defaults"===r?e.extend({},e.datepicker._defaults):l?"all"===r?e.extend({},l.settings):this._get(l,r):null:(o=r||{},"string"==typeof r&&(o={},o[r]=s),l&&(this._curInst===l&&this._hideDatepicker(),u=this._getDateDatepicker(n,!0),a=this._getMinMaxDate(l,"min"),f=this._getMinMaxDate(l,"max"),i(l.settings,o),null!==a&&o.dateFormat!==t&&o.minDate===t&&(l.settings.minDate=this._formatDate(l,a)),null!==f&&o.dateFormat!==t&&o.maxDate===t&&(l.settings.maxDate=this._formatDate(l,f)),"disabled"in o&&(o.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),l),this._autoSize(l),this._setDate(l,u),this._updateAlternate(l),this._updateDatepicker(l)),t)},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=!0,u=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),i[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),n=e.datepicker._get(s,"onSelect"),n?(r=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,u?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(n){var r,i,s=e.datepicker._getInst(n.target);return e.datepicker._get(s,"constrainInput")?(r=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat")),i=String.fromCharCode(null==n.charCode?n.keyCode:n.charCode),n.ctrlKey||n.metaKey||" ">i||!r||r.indexOf(i)>-1):t},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r)),n&&(e.datepicker._setDateFromField(r),e.datepicker._updateAlternate(r),e.datepicker._updateDatepicker(r))}catch(i){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,r,s,o,u,a,f;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),s=r?r.apply(t,[t,n]):{},s!==!1&&(i(n.settings,s),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),u={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),u=e.datepicker._checkOffset(n,u,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),n.inline||(a=e.datepicker._get(n,"showAnim"),f=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[a]?n.dpDiv.show(a,e.datepicker._get(n,"showOptions"),f):n.dpDiv[a||"show"](a?f:null),n.input.is(":visible")&&!n.input.is(":disabled")&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,r=this._getNumberOfMonths(t),i=r[1],o=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",o*i+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!==document.activeElement&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-o:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0),n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,r,i,s,u=this._curInst;!u||t&&u!==e.data(t,o)||this._datepickerShowing&&(n=this._get(u,"showAnim"),r=this._get(u,"duration"),i=function(){e.datepicker._tidyDialog(u)},e.effects&&(e.effects.effect[n]||e.effects[n])?u.dpDiv.hide(n,e.datepicker._get(u,"showOptions"),r,i):u.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,s=this._get(u,"onClose"),s&&s.apply(u.input?u.input[0]:null,[u.input?u.input.val():"",u]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(s,n+("M"===r?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+("M"===r?"Month":"Year")]=s["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(s).each(function(){e(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,r,i){if(null==n||null==r)throw"Invalid arguments";if(r="object"==typeof r?""+r:r+"",""===r)return null;var s,o,u,a,f=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,p=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,v=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,y=-1,b=-1,w=!1,E=function(e){var t=n.length>s+1&&n.charAt(s+1)===e;return t&&s++,t},S=function(e){var t=E(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=RegExp("^\\d{1,"+n+"}"),s=r.substring(f).match(i);if(!s)throw"Missing number at position "+f;return f+=s[0].length,parseInt(s[0],10)},x=function(n,i,s){var o=-1,u=e.map(E(n)?s:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(u,function(e,n){var i=n[1];return r.substr(f,i.length).toLowerCase()===i.toLowerCase()?(o=n[0],f+=i.length,!1):t}),-1!==o)return o+1;throw"Unknown name at position "+f},T=function(){if(r.charAt(f)!==n.charAt(s))throw"Unexpected literal at position "+f;f++};for(s=0;n.length>s;s++)if(w)"'"!==n.charAt(s)||E("'")?T():w=!1;else switch(n.charAt(s)){case"d":y=S("d");break;case"D":x("D",h,p);break;case"o":b=S("o");break;case"m":g=S("m");break;case"M":g=x("M",d,v);break;case"y":m=S("y");break;case"@":a=new Date(S("@")),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"!":a=new Date((S("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,y=a.getDate();break;case"'":E("'")?T():w=!0;break;default:T()}if(r.length>f&&(u=r.substr(f),!/^\s+/.test(u)))throw"Extra/unparsed characters found in date: "+u;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),b>-1)for(g=1,y=b;;){if(o=this._getDaysInMonth(m,g-1),o>=y)break;g++,y-=o}if(a=this._daylightSavingAdjust(new Date(m,g-1,y)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==y)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))for(;n>r.length;)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;e.length>r;r++)if(h)"'"!==e.charAt(r)||a("'")?c+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=e.length>t+1&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;e.length>t;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);f;){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=7*parseInt(f[1],10);break;case"m":case"M":o+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10),u=Math.min(u,e.datepicker._getDaysInMonth(s,o))}f=a.exec(n)}return new Date(s,o,u)},o=null==n||""===n?r:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?r:i(n):new Date(n.getTime());return o=o&&"Invalid Date"==""+o?r:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),i===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+u].datepicker._adjustDate(r,-n,"M")},next:function(){window["DP_jQuery_"+u].datepicker._adjustDate(r,+n,"M")},hide:function(){window["DP_jQuery_"+u].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+u].datepicker._gotoToday(r)},selectDay:function(){return window["DP_jQuery_"+u].datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+u].datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+u].datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;if(0>Z&&(Z+=12,et--),Y)for(t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",S=0;V[0]>S;S++){for(x="",this.maxRows=4,T=0;V[1]>T;T++){if(N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="",K){if(k+="<div class='ui-datepicker-group",V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===S?U?s:r:"")+(/all|right/.test(C)&&0===S?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",E=0;7>E;E++)A=(E+l)%7,L+="<th"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";for(k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M)),H=0;D>H;H++){for(k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",E=0;7>E;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&G>P||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!a||l>=r.getMonth())&&(!f||i.getMonth()>=l)&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}if(y||(b+=w+(!s&&m&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";v>=d;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!s&&m&&g?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&n>t?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(0>t?t:i[0]*i[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.2",window["DP_jQuery_"+u]=e}(jQuery),define("jquery.Datepicker",function(){}),define("tmpl!templates/lib/modal2.html",["core/view"],function(e){return e('<div id="generic-modal" class="generic-modal modal hide fade {{#if thinModal}}thin-modal{{/if}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n	<div class="modal-header">\n		<h1 id="myModalLabel">{{header}}</h1>\n		<button type="button" class="button-close" data-dismiss="modal" aria-hidden="true">×</button>\n	</div>\n	<div class="modal-body">{{{content}}}</div>\n	<div class="modal-footer">\n		<div class="button-group">\n			{{#if close}}\n			<button class="button" data-dismiss="modal" aria-hidden="true">Cancel</button>\n			{{/if}}\n			{{#if accept}}\n			<button {{{formRel}}} class="button-highlight accept-modal-btn" {{#if loadingText}}data-loading-text="{{loadingText}}"{{/if}}>{{accept}}</button>\n			{{/if}}\n		</div>\n	</div>\n</div>\n')}),define("utils",["require","jquery","api2","tmpl!templates/lib/modal2.html"],function(e){function i(e){var t={};return _.each(e,function(e){_.each(e.types,function(n){switch(n){case"locality":t.city=e.long_name;break;case"country":t.country=e.long_name;break;case"administrative_area_level_1":t.region=e.long_name}})}),t}function h(e){if(e===-1)return"-";e*=1e3;var t=Math.floor(e/a);if(t>4)return"+4w";if(t>0)return t+"w";var n=Math.floor(e/f);if(n>0)return n+"d";var r=Math.floor(e/l);if(r>0)return r+"h";var i=Math.floor(e/c);return i>5?i+"m":"5m"}function p(e,t,r){r=r||e.name,t=t?t+"/":"";var i="BTgUM/6/4QqS5n8jPZl5+lJhjJpvy0wVy668nb75",s="image/",o="peoplewings-test-media",u="public-read",a=t+r,f={expiration:"2013-12-12T12:00:00.000Z",conditions:[["eq","$bucket",o],["starts-with","$key",a],{acl:u},{"x-amz-meta-filename":r},["starts-with","$Content-Type",s]]},l=Base64.encode(JSON.stringify(f)),c=b64_hmac_sha1(i,l),h=new FormData;return h.append("AWSAccessKeyId","AKIAI5TSJI7DYXGRQDYA"),h.append("acl",u),h.append("Policy",l),h.append("Signature",c),h.append("Content-Type",s),h.append("x-amz-meta-filename",r),h.append("key",a),h.append("file",e),n.request("POST","//peoplewings-test-media.s3.amazonaws.com",{},h).then(function(){return"https://s3-eu-west-1.amazonaws.com/"+o+"/"+a})}var t=e("jquery"),n=e("api2"),r=e("tmpl!templates/lib/modal2.html"),s=function(e,t){var n=e.getPlace();if(!n.geometry)return;var r=i(n.address_components);r.lat=n.geometry.location.lat()+"",r.lon=n.geometry.location.lng()+"",r.name=r.city,r=_.omit(r,"city"),t.city=r},o=function(e){var n=e?"form#"+e:"form",r={};return t.each(jQuery(n).serializeArray(),function(e,t){if(!t.value)return;var n=t.name,i=t.value;if(!r.hasOwnProperty(n))return r[n]=i,i;r[n]instanceof Array||(r[n]=[r[n]]),r[n].push(i)}),r},u=function(e){var n=t(r({header:e.header,accept:e.accept,content:e.content,close:e.close||!0,thinModal:e.thin,loadingText:e.loadingText,formRel:'form="'+e.form+'"'}));t("#main").append(n),n.modal("show");var i=n.find(".accept-modal-btn");return i.click(e.callback),e.form&&i.attr("form",e.form),n.on("hidden",function(){n.remove()}),n},a=moment(0).add("weeks",1).valueOf(),f=moment(0).add("days",1).valueOf(),l=moment(0).add("hours",1).valueOf(),c=moment(0).add("minutes",1).valueOf();return{serializeForm:o,showModal:u,setAutocomplete:s,getCityAndCountry:i,formatReplyTime:h,uploadAmazon:p}}),define("tmpl!templates/home/main.html",["core/view"],function(e){return e('<div class="row">\n	<div class="span8">\n		<div class="tab-content">\n			<ul class="nav nav-tabs">\n				<li class="{{#equals selected \'people\' }}active{{/equals}}">\n					<a href="#/search/people/" class="people">Poeple</a>\n				</li>\n				<li class="{{#equals selected \'accommodation\' }}active{{/equals}}">\n					<a href="#/search/accommodation/" class="accommodation">Accommodation</a>\n				</li>\n			</ul>\n			<div class="tab-pane {{#equals selected \'people\' }}active{{/equals}}" id="people">People</div>\n			<div class="tab-pane {{#equals selected \'accommodation\' }}active{{/equals}}" id="accommodation">Accommodation</div>\n		</div><!-- EOF tab-content -->\n	</div><!-- EOF span8 -->\n</div><!-- EOF row -->\n<div id="search-results"></div>\n')}),define("tmpl!templates/home/search.people.html",["core/view"],function(e){return e('<form id="people-search-form">\n	<div class="form-errors date-error"></div>\n	<div class="form-block">\n		<div class="control-group">\n			<label>Wings</label>\n			<input type="text" id="inputLocation" name="location" class="input-large" placeholder="City or town">\n		</div>\n		<div class="control-group">\n			<label>Age</label>\n			<select name="startAge" class="input-age1">\n				<option value="18">Age 18</option>\n				{{#range 20 98 2}}\n				<option value="{{self}}">{{self}}</option>\n				{{/range}}\n			</select>\n			<select name="endAge" class="input-age2">\n				{{#range 98 18 \'-2\'}}\n				<option value="{{self}}">{{self}}</option>\n				{{/range}}\n			</select>\n		</div>\n		<div class="control-group">\n			<label>Gender</label>\n			<select class="input-others" name="gender">\n				<option value="Both" selected>Both genders</option>\n				<option value="Male">Male</option>\n				<option value="Female">Female</option>\n			</select>\n		</div>\n		<div class="control-group">\n			<label>Language</label>\n			<select name="language" class="input-language">\n				<option value="all">All languages</option>\n				<option value="Abkhazian" >Abkhazian</option>\n				<option value="Acholi" >Acholi</option>\n				<option value="Afar" >Afar</option>\n				<option value="Afrikaans" >Afrikaans</option>\n				<option value="Ainu" >Ainu</option>\n				<option value="Albanian" >Albanian</option>\n				<option value="Algonquin" >Algonquin</option>\n				<option value="Alsatian" >Alsatian</option>\n				<option value="Amharic" >Amharic</option>\n				<option value="Ancient Greek" >Ancient Greek</option>\n				<option value="Arabic" >Arabic</option>\n				<option value="Arabic (Baharna)" >Arabic (Baharna)</option>\n				<option value="Arabic (Egypt)" >Arabic (Egypt)</option>\n				<option value="Arabic (Gulf)" >Arabic (Gulf)</option>\n				<option value="Arabic (Levantine / Shami)" >Arabic (Levantine / Shami)</option>\n				<option value="Arabic (Morocco)" >Arabic (Morocco)</option>\n				<option value="Arabic (Tunisia)" >Arabic (Tunisia)</option>\n				<option value="Aragonese" >Aragonese</option>\n				<option value="Aramaic" >Aramaic</option>\n				<option value="Armenian" >Armenian</option>\n				<option value="Arpitan" >Arpitan</option>\n				<option value="Assamese" >Assamese</option>\n				<option value="Asturian" >Asturian</option>\n				<option value="Aymara" >Aymara</option>\n				<option value="Azerbaijani" >Azerbaijani</option>\n				<option value="Bambara" >Bambara</option>\n				<option value="Bashkir" >Bashkir</option>\n				<option value="Basque" >Basque</option>\n				<option value="Belarusian" >Belarusian</option>\n				<option value="Bengali" >Bengali</option>\n				<option value="Berber" >Berber</option>\n				<option value="Bihari" >Bihari</option>\n				<option value="Bislama" >Bislama</option>\n				<option value="Bosnian" >Bosnian</option>\n				<option value="Breton" >Breton</option>\n				<option value="Bulgarian" >Bulgarian</option>\n				<option value="Bunun" >Bunun</option>\n				<option value="Burmese" >Burmese</option>\n				<option value="Calabrian" >Calabrian</option>\n				<option value="Catalan" >Catalan</option>\n				<option value="Chichewa" >Chichewa</option>\n				<option value="Chilean Sign Language" >Chilean Sign Language</option>\n				<option value="Chinese (Mandarin)" >Chinese (Mandarin)</option>\n				<option value="Chinese (Simplified)" >Chinese (Simplified)</option>\n				<option value="Chinese (Traditional)" >Chinese (Traditional)</option>\n				<option value="Chinuk Wawa" >Chinuk Wawa</option>\n				<option value="Chuukese" >Chuukese</option>\n				<option value="Chuvash" >Chuvash</option>\n				<option value="Cornish" >Cornish</option>\n				<option value="Corsican" >Corsican</option>\n				<option value="Cree" >Cree</option>\n				<option value="Creole" >Creole</option>\n				<option value="Creole (Guyana)" >Creole (Guyana)</option>\n				<option value="Creole (Haiti)" >Creole (Haiti)</option>\n				<option value="Creole (Jamaica)" >Creole (Jamaica)</option>\n				<option value="Creole (Louisiana)" >Creole (Louisiana)</option>\n				<option value="Croatian" >Croatian</option>\n				<option value="Czech" >Czech</option>\n				<option value="Danish" >Danish</option>\n				<option value="Dari" >Dari</option>\n				<option value="Dhivehi" >Dhivehi</option>\n				<option value="Dutch" >Dutch</option>\n				<option value="Dutch (Belgium)" >Dutch (Belgium)</option>\n				<option value="Dutch (Netherlands)" >Dutch (Netherlands)</option>\n				<option value="Dzongkha" >Dzongkha</option>\n				<option value="English" >English</option>\n				<option value="English (Australia)" >English (Australia)</option>\n				<option value="English (Belize)" >English (Belize)</option>\n				<option value="English (Canada)" >English (Canada)</option>\n				<option value="English (Caribbean)" >English (Caribbean)</option>\n				<option value="English (Guyana)" >English (Guyana)</option>\n				<option value="English (Ireland)" >English (Ireland)</option>\n				<option value="English (Jamaica)" >English (Jamaica)</option>\n				<option value="English (New Zealand)" >English (New Zealand)</option>\n				<option value="English (Philippines)" >English (Philippines)</option>\n				<option value="English (South Africa)" >English (South Africa)</option>\n				<option value="English (Trinidad)" >English (Trinidad)</option>\n				<option value="English (United Kingdom)" >English (United Kingdom)</option>\n				<option value="English (United States)" >English (United States)</option>\n				<option value="English (Zimbabwe)" >English (Zimbabwe)</option>\n				<option value="Erzya" >Erzya</option>\n				<option value="Esperanto" >Esperanto</option>\n				<option value="Estonian" >Estonian</option>\n				<option value="Fang" >Fang</option>\n				<option value="Faroese" >Faroese</option>\n				<option value="Fijian" >Fijian</option>\n				<option value="Finnish" >Finnish</option>\n				<option value="French" >French</option>\n				<option value="French (Acadian)" >French (Acadian)</option>\n				<option value="French (Belgium)" >French (Belgium)</option>\n				<option value="French (Cajun)" >French (Cajun)</option>\n				<option value="French (Canada)" >French (Canada)</option>\n				<option value="French (France)" >French (France)</option>\n				<option value="French (Luxembourg)" >French (Luxembourg)</option>\n				<option value="French (Monaco)" >French (Monaco)</option>\n				<option value="French (Quebec)" >French (Quebec)</option>\n				<option value="French (Switzerland)" >French (Switzerland)</option>\n				<option value="Frisian" >Frisian</option>\n				<option value="Fulah" >Fulah</option>\n				<option value="Gaelic" >Gaelic</option>\n				<option value="Galician" >Galician</option>\n				<option value="Ganda" >Ganda</option>\n				<option value="Georgian" >Georgian</option>\n				<option value="German" >German</option>\n				<option value="German (Austria)" >German (Austria)</option>\n				<option value="German (Germany)" >German (Germany)</option>\n				<option value="German (Liechtenstein)" >German (Liechtenstein)</option>\n				<option value="German (Luxembourg)" >German (Luxembourg)</option>\n				<option value="German (Switzerland)" >German (Switzerland)</option>\n				<option value="Greek" >Greek</option>\n				<option value="Greenlandic" >Greenlandic</option>\n				<option value="Guahibo" >Guahibo</option>\n				<option value="Guarani" >Guarani</option>\n				<option value="Gujarati" >Gujarati</option>\n				<option value="Hakka" >Hakka</option>\n				<option value="Hausa" >Hausa</option>\n				<option value="Hawaiian" >Hawaiian</option>\n				<option value="Hebrew" >Hebrew</option>\n				<option value="Hiligaynon" >Hiligaynon</option>\n				<option value="Hindi" >Hindi</option>\n				<option value="Hindko" >Hindko</option>\n				<option value="Hmong" >Hmong</option>\n				<option value="Hungarian" >Hungarian</option>\n				<option value="Icelandic" >Icelandic</option>\n				<option value="Igbo" >Igbo</option>\n				<option value="Indonesian" >Indonesian</option>\n				<option value="Ingush" >Ingush</option>\n				<option value="Interlingua" >Interlingua</option>\n				<option value="Interlingue" >Interlingue</option>\n				<option value="Inuktitut" >Inuktitut</option>\n				<option value="Inupiaq" >Inupiaq</option>\n				<option value="Irish" >Irish</option>\n				<option value="Irish Gaelic" >Irish Gaelic</option>\n				<option value="Italian" >Italian</option>\n				<option value="Italian (Italy)" >Italian (Italy)</option>\n				<option value="Italian (Switzerland)" >Italian (Switzerland)</option>\n				<option value="Japanese" >Japanese</option>\n				<option value="Javanese" >Javanese</option>\n				<option value="Kannada" >Kannada</option>\n				<option value="Kaqchikel" >Kaqchikel</option>\n				<option value="Karelian" >Karelian</option>\n				<option value="Kashmiri" >Kashmiri</option>\n				<option value="Kashubian" >Kashubian</option>\n				<option value="Kazakh" >Kazakh</option>\n				<option value="Khmer" >Khmer</option>\n				<option value="Kichwa" >Kichwa</option>\n				<option value="Kinyarwanda" >Kinyarwanda</option>\n				<option value="Klingon" >Klingon</option>\n				<option value="Komi" >Komi</option>\n				<option value="Konkani" >Konkani</option>\n				<option value="Korean" >Korean</option>\n				<option value="Kosraean" >Kosraean</option>\n				<option value="Kurdish" >Kurdish</option>\n				<option value="Kurmanji" >Kurmanji</option>\n				<option value="Kyrgyz" >Kyrgyz</option>\n				<option value="Láadan" >Láadan</option>\n				<option value="Ladakhi" >Ladakhi</option>\n				<option value="Ladin" >Ladin</option>\n				<option value="Lao" >Lao</option>\n				<option value="Latin" >Latin</option>\n				<option value="Latvian" >Latvian</option>\n				<option value="Ligurian" >Ligurian</option>\n				<option value="Limburgish" >Limburgish</option>\n				<option value="Lingala" >Lingala</option>\n				<option value="Lithuanian" >Lithuanian</option>\n				<option value="Lojban" >Lojban</option>\n				<option value="Lombard" >Lombard</option>\n				<option value="Lower Sorbian" >Lower Sorbian</option>\n				<option value="Low German" >Low German</option>\n				<option value="Luganda" >Luganda</option>\n				<option value="Luxembourgish" >Luxembourgish</option>\n				<option value="Macedonian" >Macedonian</option>\n				<option value="Maithili" >Maithili</option>\n				<option value="Malagasy" >Malagasy</option>\n				<option value="Malay" >Malay</option>\n				<option value="Malayalam" >Malayalam</option>\n				<option value="Maltese" >Maltese</option>\n				<option value="Manchu" >Manchu</option>\n				<option value="Manx" >Manx</option>\n				<option value="Maori" >Maori</option>\n				<option value="Mapudungun" >Mapudungun</option>\n				<option value="Marathi" >Marathi</option>\n				<option value="Mari" >Mari</option>\n				<option value="Marshallese" >Marshallese</option>\n				<option value="Min Nan" >Min Nan</option>\n				<option value="Moksha" >Moksha</option>\n				<option value="Moldovan" >Moldovan</option>\n				<option value="Mongolian" >Mongolian</option>\n				<option value="Montenegrin" >Montenegrin</option>\n				<option value="More" >More</option>\n				<option value="Mortlockese" >Mortlockese</option>\n				<option value="Nahuatl" >Nahuatl</option>\n				<option value="Nauruan" >Nauruan</option>\n				<option value="Navajo" >Navajo</option>\n				<option value="Neapolitan" >Neapolitan</option>\n				<option value="Nepal Bhasa" >Nepal Bhasa</option>\n				<option value="Nepali" >Nepali</option>\n				<option value="Norwegian" >Norwegian</option>\n				<option value="Norwegian (Bokmål)" >Norwegian (Bokmål)</option>\n				<option value="Norwegian (Nynorsk)" >Norwegian (Nynorsk)</option>\n				<option value="Occitan" >Occitan</option>\n				<option value="Ojibwe" >Ojibwe</option>\n				<option value="Okinawan" >Okinawan</option>\n				<option value="Oriya" >Oriya</option>\n				<option value="Oromo" >Oromo</option>\n				<option value="Ossetian" >Ossetian</option>\n				<option value="Palauan" >Palauan</option>\n				<option value="Papiamento" >Papiamento</option>\n				<option value="Pashto" >Pashto</option>\n				<option value="Pemon" >Pemon</option>\n				<option value="Persian" >Persian</option>\n				<option value="Pidgin" >Pidgin</option>\n				<option value="Piedmontese" >Piedmontese</option>\n				<option value="Pohnpeian" >Pohnpeian</option>\n				<option value="Polish" >Polish</option>\n				<option value="Portuguese" >Portuguese</option>\n				<option value="Portuguese (Brazil)" >Portuguese (Brazil)</option>\n				<option value="Portuguese (Portugal)" >Portuguese (Portugal)</option>\n				<option value="Punjabi" >Punjabi</option>\n				<option value="Quechua" >Quechua</option>\n				<option value="Quenya" >Quenya</option>\n				<option value="Quiche" >Quiche</option>\n				<option value="Rapa Nui" >Rapa Nui</option>\n				<option value="Romani" >Romani</option>\n				<option value="Romanian" >Romanian</option>\n				<option value="Romanian (Moldova)" >Romanian (Moldova)</option>\n				<option value="Romanian (Romania)" >Romanian (Romania)</option>\n				<option value="Romansh" >Romansh</option>\n				<option value="Rundi" >Rundi</option>\n				<option value="Russian" >Russian</option>\n				<option value="Russian (Moldova)" >Russian (Moldova)</option>\n				<option value="Russian (Russia)" >Russian (Russia)</option>\n				<option value="Sakha" >Sakha</option>\n				<option value="Sami" >Sami</option>\n				<option value="Samoan" >Samoan</option>\n				<option value="Sango" >Sango</option>\n				<option value="Sanskrit" >Sanskrit</option>\n				<option value="Saramaccan" >Saramaccan</option>\n				<option value="Sardinian" >Sardinian</option>\n				<option value="Scots" >Scots</option>\n				<option value="Scottish Gaelic" >Scottish Gaelic</option>\n				<option value="Serbian (Cyrillic)" >Serbian (Cyrillic)</option>\n				<option value="Serbian (Latin)" >Serbian (Latin)</option>\n				<option value="Serbo-Croatian" >Serbo-Croatian</option>\n				<option value="Shona" >Shona</option>\n				<option value="Sibe" >Sibe</option>\n				<option value="Sicilian" >Sicilian</option>\n				<option value="Sign Language - American" >Sign Language - American</option>\n				<option value="Sign Language - Austrian" >Sign Language - Austrian</option>\n				<option value="Sign Language - Brazilian" >Sign Language - Brazilian</option>\n				<option value="Sign Language - British" >Sign Language - British</option>\n				<option value="Sign Language - BSL, AUSLAN, NZS" >Sign Language - BSL, AUSLAN, NZS</option>\n				<option value="Sign Language - Catalan" >Sign Language - Catalan</option>\n				<option value="Sign Language - Chinese" >Sign Language - Chinese</option>\n				<option value="Sign Language - Danish" >Sign Language - Danish</option>\n				<option value="Sign Language - Dutch (NGT)" >Sign Language - Dutch (NGT)</option>\n				<option value="Sign Language - Finnish" >Sign Language - Finnish</option>\n				<option value="Sign Language - Flemish" >Sign Language - Flemish</option>\n				<option value="Sign Language - French" >Sign Language - French</option>\n				<option value="Sign Language - German" >Sign Language - German</option>\n				<option value="Sign Language - Greek" >Sign Language - Greek</option>\n				<option value="Sign Language - Honduran" >Sign Language - Honduran</option>\n				<option value="Sign Language - Honduras" >Sign Language - Honduras</option>\n				<option value="Sign Language - Hungarian" >Sign Language - Hungarian</option>\n				<option value="Sign Language - Indian" >Sign Language - Indian</option>\n				<option value="Sign Language - International" >Sign Language - International</option>\n				<option value="Sign Language - Irish" >Sign Language - Irish</option>\n				<option value="Sign Language - Israeli" >Sign Language - Israeli</option>\n				<option value="Sign Language - Italian" >Sign Language - Italian</option>\n				<option value="Sign Language - Japanese" >Sign Language - Japanese</option>\n				<option value="Sign Language - Kenyan" >Sign Language - Kenyan</option>\n				<option value="Sign Language - Korean" >Sign Language - Korean</option>\n				<option value="Sign Language - Mexican" >Sign Language - Mexican</option>\n				<option value="Sign Language - New Zealand" >Sign Language - New Zealand</option>\n				<option value="Sign Language - Nicaragua" >Sign Language - Nicaragua</option>\n				<option value="Sign Language - Norwegian" >Sign Language - Norwegian</option>\n				<option value="Sign Language - Poland" >Sign Language - Poland</option>\n				<option value="Sign Language - Quebec" >Sign Language - Quebec</option>\n				<option value="Sign Language - Russian" >Sign Language - Russian</option>\n				<option value="Sign Language - Spanish" >Sign Language - Spanish</option>\n				<option value="Sign Language - Swedish" >Sign Language - Swedish</option>\n				<option value="Sign Language - Switzerland" >Sign Language - Switzerland</option>\n				<option value="Sign Language - Taiwanese" >Sign Language - Taiwanese</option>\n				<option value="Sign Language - Trinidad and Tob" >Sign Language - Trinidad and Tob</option>\n				<option value="Sign Language - Turkish" >Sign Language - Turkish</option>\n				<option value="Sign Language - Yugoslavian" >Sign Language - Yugoslavian</option>\n				<option value="Silesian" >Silesian</option>\n				<option value="Sindhi" >Sindhi</option>\n				<option value="Sinhala" >Sinhala</option>\n				<option value="Slavic Languages" >Slavic Languages</option>\n				<option value="Slovak" >Slovak</option>\n				<option value="Slovenian" >Slovenian</option>\n				<option value="Slovio" >Slovio</option>\n				<option value="Somali" >Somali</option>\n				<option value="Soranî" >Soranî</option>\n				<option value="Sotho" >Sotho</option>\n				<option value="Spanish" >Spanish</option>\n				<option value="Spanish (Argentina)" >Spanish (Argentina)</option>\n				<option value="Spanish (Bolivia)" >Spanish (Bolivia)</option>\n				<option value="Spanish (Chile)" >Spanish (Chile)</option>\n				<option value="Spanish (Colombia)" >Spanish (Colombia)</option>\n				<option value="Spanish (Costa Rica)" >Spanish (Costa Rica)</option>\n				<option value="Spanish (Dominican Republic)" >Spanish (Dominican Republic)</option>\n				<option value="Spanish (Ecuador)" >Spanish (Ecuador)</option>\n				<option value="Spanish (El Salvador)" >Spanish (El Salvador)</option>\n				<option value="Spanish (Guatemala)" >Spanish (Guatemala)</option>\n				<option value="Spanish (Honduras)" >Spanish (Honduras)</option>\n				<option value="Spanish (Mexico)" >Spanish (Mexico)</option>\n				<option value="Spanish (Nicaragua)" >Spanish (Nicaragua)</option>\n				<option value="Spanish (Panama)" >Spanish (Panama)</option>\n				<option value="Spanish (Paraguay)" >Spanish (Paraguay)</option>\n				<option value="Spanish (Peru)" >Spanish (Peru)</option>\n				<option value="Spanish (Puerto Rico)" >Spanish (Puerto Rico)</option>\n				<option value="Spanish (Spain)" >Spanish (Spain)</option>\n				<option value="Spanish (Uruguay)" >Spanish (Uruguay)</option>\n				<option value="Spanish (Venezuela)" >Spanish (Venezuela)</option>\n				<option value="Sranan Tongo" >Sranan Tongo</option>\n				<option value="Sundanese" >Sundanese</option>\n				<option value="Swahili" >Swahili</option>\n				<option value="Swati" >Swati</option>\n				<option value="Swedish" >Swedish</option>\n				<option value="Swedish (Finland)" >Swedish (Finland)</option>\n				<option value="Swedish (Sweden)" >Swedish (Sweden)</option>\n				<option value="Tagalog" >Tagalog</option>\n				<option value="Tahitian" >Tahitian</option>\n				<option value="Taiwanese" >Taiwanese</option>\n				<option value="Tajik" >Tajik</option>\n				<option value="Tamil" >Tamil</option>\n				<option value="Tatar" >Tatar</option>\n				<option value="Telugu" >Telugu</option>\n				<option value="Tetum" >Tetum</option>\n				<option value="Thai" >Thai</option>\n				<option value="Tibetan" >Tibetan</option>\n				<option value="Tigrinya" >Tigrinya</option>\n				<option value="Tongan" >Tongan</option>\n				<option value="Tsonga" >Tsonga</option>\n				<option value="Tswana" >Tswana</option>\n				<option value="Turkish" >Turkish</option>\n				<option value="Turkmen" >Turkmen</option>\n				<option value="Twi" >Twi</option>\n				<option value="Udmurt" >Udmurt</option>\n				<option value="Ukrainian" >Ukrainian</option>\n				<option value="Ulster Scots" >Ulster Scots</option>\n				<option value="Upper Sorbian" >Upper Sorbian</option>\n				<option value="Urdu" >Urdu</option>\n				<option value="Uyghur" >Uyghur</option>\n				<option value="Uzbek" >Uzbek</option>\n				<option value="Venetian" >Venetian</option>\n				<option value="Vietnamese" >Vietnamese</option>\n				<option value="Volapük" >Volapük</option>\n				<option value="Waray Waray" >Waray Waray</option>\n				<option value="Wayuu" >Wayuu</option>\n				<option value="Welsh" >Welsh</option>\n				<option value="Wolof" >Wolof</option>\n				<option value="Wu" >Wu</option>\n				<option value="Xhosa" >Xhosa</option>\n				<option value="Yapese" >Yapese</option>\n				<option value="Yiddish" >Yiddish</option>\n				<option value="Yoruba" >Yoruba</option>\n				<option value="Yucatec Maya" >Yucatec Maya</option>\n				<option value="Yue (Cantonese)" >Yue (Cantonese)</option>\n				<option value="Yupik" >Yupik</option>\n				<option value="Zulu" >Zulu</option>\n			</select>\n		</div>\n	</div><!-- EOF form-block -->\n\n	<div class="form-errors age-error"></div>\n	<div class="form-actions">\n		<button type="reset" class="btn" style="display: none;">Clear</button>\n		<button type="submit" class="button-peoplewings">SEARCH PEOPLEWINGS</button>\n	</div>\n</form>\n')}),define("tmpl!templates/home/search.accomodation.html",["core/view"],function(e){return e('<form id="accomodation-search-form">\n	<div class="form-errors date-error"></div>\n	<div class="form-block">\n		<label class="wings_text">Wings</label>\n		<div class="control-group">\n			<label>Wings</label>\n			<input type="text" id="inputWings" name="wings" class="input-large" placeholder="City or town">\n		</div>\n		<div class="control-group">\n			<label>Date</label>\n			<input type="text" name="startDate" class="input-sdate" placeholder="Start date">\n			<input type="text" name="endDate" class="input-edate" placeholder="End date">\n		</div>\n		<div class="control-group">\n			<label>Capacity</label>\n			<select name="capacity" class="input-guests">\n				<option value="1">1 Guest</option>\n				<option value="2">2 Guests</option>\n				<option value="3">3 Guests</option>\n				<option value="4">4 Guests</option>\n				<option value="5">5 Guests</option>\n				<option value="6">6 Guests</option>\n				<option value="7">7 Guests</option>\n				<option value="8">8 Guests</option>\n				<option value="9">9 Guests</option>\n				<option value="+9">+9 Guests</option>\n			</select>\n		</div>\n	</div><!-- EOF form-block -->\n\n	<div class="form-block">\n		<label class="people_text">People</label>\n		<div class="control-group">\n			<label>Age</label>\n			<select name="startAge" class="input-age1">\n				<option value="18">Age 18</option>\n				{{#range 20 98 2}}\n				<option value="{{self}}">{{self}}</option>\n				{{/range}}\n			</select>\n			<select name="endAge" class="input-age2">\n				{{#range 98 18 \'-2\'}}\n				<option value="{{self}}">{{self}}</option>\n				{{/range}}\n			</select>\n		</div>\n		<div class="control-group">\n			<label>Language</label>\n			<select name="language" class="input-language">\n				<option value="all">Language</option>\n				<option value="all">All</option>\n				<option value="Abkhazian" >Abkhazian</option>\n				<option value="Acholi" >Acholi</option>\n				<option value="Afar" >Afar</option>\n				<option value="Afrikaans" >Afrikaans</option>\n				<option value="Ainu" >Ainu</option>\n				<option value="Albanian" >Albanian</option>\n				<option value="Algonquin" >Algonquin</option>\n				<option value="Alsatian" >Alsatian</option>\n				<option value="Amharic" >Amharic</option>\n				<option value="Ancient Greek" >Ancient Greek</option>\n				<option value="Arabic" >Arabic</option>\n				<option value="Arabic (Baharna)" >Arabic (Baharna)</option>\n				<option value="Arabic (Egypt)" >Arabic (Egypt)</option>\n				<option value="Arabic (Gulf)" >Arabic (Gulf)</option>\n				<option value="Arabic (Levantine / Shami)" >Arabic (Levantine / Shami)</option>\n				<option value="Arabic (Morocco)" >Arabic (Morocco)</option>\n				<option value="Arabic (Tunisia)" >Arabic (Tunisia)</option>\n				<option value="Aragonese" >Aragonese</option>\n				<option value="Aramaic" >Aramaic</option>\n				<option value="Armenian" >Armenian</option>\n				<option value="Arpitan" >Arpitan</option>\n				<option value="Assamese" >Assamese</option>\n				<option value="Asturian" >Asturian</option>\n				<option value="Aymara" >Aymara</option>\n				<option value="Azerbaijani" >Azerbaijani</option>\n				<option value="Bambara" >Bambara</option>\n				<option value="Bashkir" >Bashkir</option>\n				<option value="Basque" >Basque</option>\n				<option value="Belarusian" >Belarusian</option>\n				<option value="Bengali" >Bengali</option>\n				<option value="Berber" >Berber</option>\n				<option value="Bihari" >Bihari</option>\n				<option value="Bislama" >Bislama</option>\n				<option value="Bosnian" >Bosnian</option>\n				<option value="Breton" >Breton</option>\n				<option value="Bulgarian" >Bulgarian</option>\n				<option value="Bunun" >Bunun</option>\n				<option value="Burmese" >Burmese</option>\n				<option value="Calabrian" >Calabrian</option>\n				<option value="Catalan" >Catalan</option>\n				<option value="Chichewa" >Chichewa</option>\n				<option value="Chilean Sign Language" >Chilean Sign Language</option>\n				<option value="Chinese (Mandarin)" >Chinese (Mandarin)</option>\n				<option value="Chinese (Simplified)" >Chinese (Simplified)</option>\n				<option value="Chinese (Traditional)" >Chinese (Traditional)</option>\n				<option value="Chinuk Wawa" >Chinuk Wawa</option>\n				<option value="Chuukese" >Chuukese</option>\n				<option value="Chuvash" >Chuvash</option>\n				<option value="Cornish" >Cornish</option>\n				<option value="Corsican" >Corsican</option>\n				<option value="Cree" >Cree</option>\n				<option value="Creole" >Creole</option>\n				<option value="Creole (Guyana)" >Creole (Guyana)</option>\n				<option value="Creole (Haiti)" >Creole (Haiti)</option>\n				<option value="Creole (Jamaica)" >Creole (Jamaica)</option>\n				<option value="Creole (Louisiana)" >Creole (Louisiana)</option>\n				<option value="Croatian" >Croatian</option>\n				<option value="Czech" >Czech</option>\n				<option value="Danish" >Danish</option>\n				<option value="Dari" >Dari</option>\n				<option value="Dhivehi" >Dhivehi</option>\n				<option value="Dutch" >Dutch</option>\n				<option value="Dutch (Belgium)" >Dutch (Belgium)</option>\n				<option value="Dutch (Netherlands)" >Dutch (Netherlands)</option>\n				<option value="Dzongkha" >Dzongkha</option>\n				<option value="English" >English</option>\n				<option value="English (Australia)" >English (Australia)</option>\n				<option value="English (Belize)" >English (Belize)</option>\n				<option value="English (Canada)" >English (Canada)</option>\n				<option value="English (Caribbean)" >English (Caribbean)</option>\n				<option value="English (Guyana)" >English (Guyana)</option>\n				<option value="English (Ireland)" >English (Ireland)</option>\n				<option value="English (Jamaica)" >English (Jamaica)</option>\n				<option value="English (New Zealand)" >English (New Zealand)</option>\n				<option value="English (Philippines)" >English (Philippines)</option>\n				<option value="English (South Africa)" >English (South Africa)</option>\n				<option value="English (Trinidad)" >English (Trinidad)</option>\n				<option value="English (United Kingdom)" >English (United Kingdom)</option>\n				<option value="English (United States)" >English (United States)</option>\n				<option value="English (Zimbabwe)" >English (Zimbabwe)</option>\n				<option value="Erzya" >Erzya</option>\n				<option value="Esperanto" >Esperanto</option>\n				<option value="Estonian" >Estonian</option>\n				<option value="Fang" >Fang</option>\n				<option value="Faroese" >Faroese</option>\n				<option value="Fijian" >Fijian</option>\n				<option value="Finnish" >Finnish</option>\n				<option value="French" >French</option>\n				<option value="French (Acadian)" >French (Acadian)</option>\n				<option value="French (Belgium)" >French (Belgium)</option>\n				<option value="French (Cajun)" >French (Cajun)</option>\n				<option value="French (Canada)" >French (Canada)</option>\n				<option value="French (France)" >French (France)</option>\n				<option value="French (Luxembourg)" >French (Luxembourg)</option>\n				<option value="French (Monaco)" >French (Monaco)</option>\n				<option value="French (Quebec)" >French (Quebec)</option>\n				<option value="French (Switzerland)" >French (Switzerland)</option>\n				<option value="Frisian" >Frisian</option>\n				<option value="Fulah" >Fulah</option>\n				<option value="Gaelic" >Gaelic</option>\n				<option value="Galician" >Galician</option>\n				<option value="Ganda" >Ganda</option>\n				<option value="Georgian" >Georgian</option>\n				<option value="German" >German</option>\n				<option value="German (Austria)" >German (Austria)</option>\n				<option value="German (Germany)" >German (Germany)</option>\n				<option value="German (Liechtenstein)" >German (Liechtenstein)</option>\n				<option value="German (Luxembourg)" >German (Luxembourg)</option>\n				<option value="German (Switzerland)" >German (Switzerland)</option>\n				<option value="Greek" >Greek</option>\n				<option value="Greenlandic" >Greenlandic</option>\n				<option value="Guahibo" >Guahibo</option>\n				<option value="Guarani" >Guarani</option>\n				<option value="Gujarati" >Gujarati</option>\n				<option value="Hakka" >Hakka</option>\n				<option value="Hausa" >Hausa</option>\n				<option value="Hawaiian" >Hawaiian</option>\n				<option value="Hebrew" >Hebrew</option>\n				<option value="Hiligaynon" >Hiligaynon</option>\n				<option value="Hindi" >Hindi</option>\n				<option value="Hindko" >Hindko</option>\n				<option value="Hmong" >Hmong</option>\n				<option value="Hungarian" >Hungarian</option>\n				<option value="Icelandic" >Icelandic</option>\n				<option value="Igbo" >Igbo</option>\n				<option value="Indonesian" >Indonesian</option>\n				<option value="Ingush" >Ingush</option>\n				<option value="Interlingua" >Interlingua</option>\n				<option value="Interlingue" >Interlingue</option>\n				<option value="Inuktitut" >Inuktitut</option>\n				<option value="Inupiaq" >Inupiaq</option>\n				<option value="Irish" >Irish</option>\n				<option value="Irish Gaelic" >Irish Gaelic</option>\n				<option value="Italian" >Italian</option>\n				<option value="Italian (Italy)" >Italian (Italy)</option>\n				<option value="Italian (Switzerland)" >Italian (Switzerland)</option>\n				<option value="Japanese" >Japanese</option>\n				<option value="Javanese" >Javanese</option>\n				<option value="Kannada" >Kannada</option>\n				<option value="Kaqchikel" >Kaqchikel</option>\n				<option value="Karelian" >Karelian</option>\n				<option value="Kashmiri" >Kashmiri</option>\n				<option value="Kashubian" >Kashubian</option>\n				<option value="Kazakh" >Kazakh</option>\n				<option value="Khmer" >Khmer</option>\n				<option value="Kichwa" >Kichwa</option>\n				<option value="Kinyarwanda" >Kinyarwanda</option>\n				<option value="Klingon" >Klingon</option>\n				<option value="Komi" >Komi</option>\n				<option value="Konkani" >Konkani</option>\n				<option value="Korean" >Korean</option>\n				<option value="Kosraean" >Kosraean</option>\n				<option value="Kurdish" >Kurdish</option>\n				<option value="Kurmanji" >Kurmanji</option>\n				<option value="Kyrgyz" >Kyrgyz</option>\n				<option value="Láadan" >Láadan</option>\n				<option value="Ladakhi" >Ladakhi</option>\n				<option value="Ladin" >Ladin</option>\n				<option value="Lao" >Lao</option>\n				<option value="Latin" >Latin</option>\n				<option value="Latvian" >Latvian</option>\n				<option value="Ligurian" >Ligurian</option>\n				<option value="Limburgish" >Limburgish</option>\n				<option value="Lingala" >Lingala</option>\n				<option value="Lithuanian" >Lithuanian</option>\n				<option value="Lojban" >Lojban</option>\n				<option value="Lombard" >Lombard</option>\n				<option value="Lower Sorbian" >Lower Sorbian</option>\n				<option value="Low German" >Low German</option>\n				<option value="Luganda" >Luganda</option>\n				<option value="Luxembourgish" >Luxembourgish</option>\n				<option value="Macedonian" >Macedonian</option>\n				<option value="Maithili" >Maithili</option>\n				<option value="Malagasy" >Malagasy</option>\n				<option value="Malay" >Malay</option>\n				<option value="Malayalam" >Malayalam</option>\n				<option value="Maltese" >Maltese</option>\n				<option value="Manchu" >Manchu</option>\n				<option value="Manx" >Manx</option>\n				<option value="Maori" >Maori</option>\n				<option value="Mapudungun" >Mapudungun</option>\n				<option value="Marathi" >Marathi</option>\n				<option value="Mari" >Mari</option>\n				<option value="Marshallese" >Marshallese</option>\n				<option value="Min Nan" >Min Nan</option>\n				<option value="Moksha" >Moksha</option>\n				<option value="Moldovan" >Moldovan</option>\n				<option value="Mongolian" >Mongolian</option>\n				<option value="Montenegrin" >Montenegrin</option>\n				<option value="More" >More</option>\n				<option value="Mortlockese" >Mortlockese</option>\n				<option value="Nahuatl" >Nahuatl</option>\n				<option value="Nauruan" >Nauruan</option>\n				<option value="Navajo" >Navajo</option>\n				<option value="Neapolitan" >Neapolitan</option>\n				<option value="Nepal Bhasa" >Nepal Bhasa</option>\n				<option value="Nepali" >Nepali</option>\n				<option value="Norwegian" >Norwegian</option>\n				<option value="Norwegian (Bokmål)" >Norwegian (Bokmål)</option>\n				<option value="Norwegian (Nynorsk)" >Norwegian (Nynorsk)</option>\n				<option value="Occitan" >Occitan</option>\n				<option value="Ojibwe" >Ojibwe</option>\n				<option value="Okinawan" >Okinawan</option>\n				<option value="Oriya" >Oriya</option>\n				<option value="Oromo" >Oromo</option>\n				<option value="Ossetian" >Ossetian</option>\n				<option value="Palauan" >Palauan</option>\n				<option value="Papiamento" >Papiamento</option>\n				<option value="Pashto" >Pashto</option>\n				<option value="Pemon" >Pemon</option>\n				<option value="Persian" >Persian</option>\n				<option value="Pidgin" >Pidgin</option>\n				<option value="Piedmontese" >Piedmontese</option>\n				<option value="Pohnpeian" >Pohnpeian</option>\n				<option value="Polish" >Polish</option>\n				<option value="Portuguese" >Portuguese</option>\n				<option value="Portuguese (Brazil)" >Portuguese (Brazil)</option>\n				<option value="Portuguese (Portugal)" >Portuguese (Portugal)</option>\n				<option value="Punjabi" >Punjabi</option>\n				<option value="Quechua" >Quechua</option>\n				<option value="Quenya" >Quenya</option>\n				<option value="Quiche" >Quiche</option>\n				<option value="Rapa Nui" >Rapa Nui</option>\n				<option value="Romani" >Romani</option>\n				<option value="Romanian" >Romanian</option>\n				<option value="Romanian (Moldova)" >Romanian (Moldova)</option>\n				<option value="Romanian (Romania)" >Romanian (Romania)</option>\n				<option value="Romansh" >Romansh</option>\n				<option value="Rundi" >Rundi</option>\n				<option value="Russian" >Russian</option>\n				<option value="Russian (Moldova)" >Russian (Moldova)</option>\n				<option value="Russian (Russia)" >Russian (Russia)</option>\n				<option value="Sakha" >Sakha</option>\n				<option value="Sami" >Sami</option>\n				<option value="Samoan" >Samoan</option>\n				<option value="Sango" >Sango</option>\n				<option value="Sanskrit" >Sanskrit</option>\n				<option value="Saramaccan" >Saramaccan</option>\n				<option value="Sardinian" >Sardinian</option>\n				<option value="Scots" >Scots</option>\n				<option value="Scottish Gaelic" >Scottish Gaelic</option>\n				<option value="Serbian (Cyrillic)" >Serbian (Cyrillic)</option>\n				<option value="Serbian (Latin)" >Serbian (Latin)</option>\n				<option value="Serbo-Croatian" >Serbo-Croatian</option>\n				<option value="Shona" >Shona</option>\n				<option value="Sibe" >Sibe</option>\n				<option value="Sicilian" >Sicilian</option>\n				<option value="Sign Language - American" >Sign Language - American</option>\n				<option value="Sign Language - Austrian" >Sign Language - Austrian</option>\n				<option value="Sign Language - Brazilian" >Sign Language - Brazilian</option>\n				<option value="Sign Language - British" >Sign Language - British</option>\n				<option value="Sign Language - BSL, AUSLAN, NZS" >Sign Language - BSL, AUSLAN, NZS</option>\n				<option value="Sign Language - Catalan" >Sign Language - Catalan</option>\n				<option value="Sign Language - Chinese" >Sign Language - Chinese</option>\n				<option value="Sign Language - Danish" >Sign Language - Danish</option>\n				<option value="Sign Language - Dutch (NGT)" >Sign Language - Dutch (NGT)</option>\n				<option value="Sign Language - Finnish" >Sign Language - Finnish</option>\n				<option value="Sign Language - Flemish" >Sign Language - Flemish</option>\n				<option value="Sign Language - French" >Sign Language - French</option>\n				<option value="Sign Language - German" >Sign Language - German</option>\n				<option value="Sign Language - Greek" >Sign Language - Greek</option>\n				<option value="Sign Language - Honduran" >Sign Language - Honduran</option>\n				<option value="Sign Language - Honduras" >Sign Language - Honduras</option>\n				<option value="Sign Language - Hungarian" >Sign Language - Hungarian</option>\n				<option value="Sign Language - Indian" >Sign Language - Indian</option>\n				<option value="Sign Language - International" >Sign Language - International</option>\n				<option value="Sign Language - Irish" >Sign Language - Irish</option>\n				<option value="Sign Language - Israeli" >Sign Language - Israeli</option>\n				<option value="Sign Language - Italian" >Sign Language - Italian</option>\n				<option value="Sign Language - Japanese" >Sign Language - Japanese</option>\n				<option value="Sign Language - Kenyan" >Sign Language - Kenyan</option>\n				<option value="Sign Language - Korean" >Sign Language - Korean</option>\n				<option value="Sign Language - Mexican" >Sign Language - Mexican</option>\n				<option value="Sign Language - New Zealand" >Sign Language - New Zealand</option>\n				<option value="Sign Language - Nicaragua" >Sign Language - Nicaragua</option>\n				<option value="Sign Language - Norwegian" >Sign Language - Norwegian</option>\n				<option value="Sign Language - Poland" >Sign Language - Poland</option>\n				<option value="Sign Language - Quebec" >Sign Language - Quebec</option>\n				<option value="Sign Language - Russian" >Sign Language - Russian</option>\n				<option value="Sign Language - Spanish" >Sign Language - Spanish</option>\n				<option value="Sign Language - Swedish" >Sign Language - Swedish</option>\n				<option value="Sign Language - Switzerland" >Sign Language - Switzerland</option>\n				<option value="Sign Language - Taiwanese" >Sign Language - Taiwanese</option>\n				<option value="Sign Language - Trinidad and Tob" >Sign Language - Trinidad and Tob</option>\n				<option value="Sign Language - Turkish" >Sign Language - Turkish</option>\n				<option value="Sign Language - Yugoslavian" >Sign Language - Yugoslavian</option>\n				<option value="Silesian" >Silesian</option>\n				<option value="Sindhi" >Sindhi</option>\n				<option value="Sinhala" >Sinhala</option>\n				<option value="Slavic Languages" >Slavic Languages</option>\n				<option value="Slovak" >Slovak</option>\n				<option value="Slovenian" >Slovenian</option>\n				<option value="Slovio" >Slovio</option>\n				<option value="Somali" >Somali</option>\n				<option value="Soranî" >Soranî</option>\n				<option value="Sotho" >Sotho</option>\n				<option value="Spanish" >Spanish</option>\n				<option value="Spanish (Argentina)" >Spanish (Argentina)</option>\n				<option value="Spanish (Bolivia)" >Spanish (Bolivia)</option>\n				<option value="Spanish (Chile)" >Spanish (Chile)</option>\n				<option value="Spanish (Colombia)" >Spanish (Colombia)</option>\n				<option value="Spanish (Costa Rica)" >Spanish (Costa Rica)</option>\n				<option value="Spanish (Dominican Republic)" >Spanish (Dominican Republic)</option>\n				<option value="Spanish (Ecuador)" >Spanish (Ecuador)</option>\n				<option value="Spanish (El Salvador)" >Spanish (El Salvador)</option>\n				<option value="Spanish (Guatemala)" >Spanish (Guatemala)</option>\n				<option value="Spanish (Honduras)" >Spanish (Honduras)</option>\n				<option value="Spanish (Mexico)" >Spanish (Mexico)</option>\n				<option value="Spanish (Nicaragua)" >Spanish (Nicaragua)</option>\n				<option value="Spanish (Panama)" >Spanish (Panama)</option>\n				<option value="Spanish (Paraguay)" >Spanish (Paraguay)</option>\n				<option value="Spanish (Peru)" >Spanish (Peru)</option>\n				<option value="Spanish (Puerto Rico)" >Spanish (Puerto Rico)</option>\n				<option value="Spanish (Spain)" >Spanish (Spain)</option>\n				<option value="Spanish (Uruguay)" >Spanish (Uruguay)</option>\n				<option value="Spanish (Venezuela)" >Spanish (Venezuela)</option>\n				<option value="Sranan Tongo" >Sranan Tongo</option>\n				<option value="Sundanese" >Sundanese</option>\n				<option value="Swahili" >Swahili</option>\n				<option value="Swati" >Swati</option>\n				<option value="Swedish" >Swedish</option>\n				<option value="Swedish (Finland)" >Swedish (Finland)</option>\n				<option value="Swedish (Sweden)" >Swedish (Sweden)</option>\n				<option value="Tagalog" >Tagalog</option>\n				<option value="Tahitian" >Tahitian</option>\n				<option value="Taiwanese" >Taiwanese</option>\n				<option value="Tajik" >Tajik</option>\n				<option value="Tamil" >Tamil</option>\n				<option value="Tatar" >Tatar</option>\n				<option value="Telugu" >Telugu</option>\n				<option value="Tetum" >Tetum</option>\n				<option value="Thai" >Thai</option>\n				<option value="Tibetan" >Tibetan</option>\n				<option value="Tigrinya" >Tigrinya</option>\n				<option value="Tongan" >Tongan</option>\n				<option value="Tsonga" >Tsonga</option>\n				<option value="Tswana" >Tswana</option>\n				<option value="Turkish" >Turkish</option>\n				<option value="Turkmen" >Turkmen</option>\n				<option value="Twi" >Twi</option>\n				<option value="Udmurt" >Udmurt</option>\n				<option value="Ukrainian" >Ukrainian</option>\n				<option value="Ulster Scots" >Ulster Scots</option>\n				<option value="Upper Sorbian" >Upper Sorbian</option>\n				<option value="Urdu" >Urdu</option>\n				<option value="Uyghur" >Uyghur</option>\n				<option value="Uzbek" >Uzbek</option>\n				<option value="Venetian" >Venetian</option>\n				<option value="Vietnamese" >Vietnamese</option>\n				<option value="Volapük" >Volapük</option>\n				<option value="Waray Waray" >Waray Waray</option>\n				<option value="Wayuu" >Wayuu</option>\n				<option value="Welsh" >Welsh</option>\n				<option value="Wolof" >Wolof</option>\n				<option value="Wu" >Wu</option>\n				<option value="Xhosa" >Xhosa</option>\n				<option value="Yapese" >Yapese</option>\n				<option value="Yiddish" >Yiddish</option>\n				<option value="Yoruba" >Yoruba</option>\n				<option value="Yucatec Maya" >Yucatec Maya</option>\n				<option value="Yue (Cantonese)" >Yue (Cantonese)</option>\n				<option value="Yupik" >Yupik</option>\n				<option value="Zulu" >Zulu</option>\n			</select>\n		</div>\n		<div class="control-group">\n			<label>Gender</label>\n			<select class="input-others" name="gender">\n				<option value="Both" selected>Both genders</option>\n				<option value="Male">Male</option>\n				<option value="Female">Female</option>\n			</select>\n		</div>\n		<div class="control-group">\n			<label>Host</label>\n			<select class="input-others" name="type">\n				<option value="Host">Host</option>\n				<option value="Applicant">Applicant</option>\n			</select>\n		</div>\n	</div><!-- EOF form-block -->\n\n	<div class="form-errors age-error"></div>\n	<div class="form-actions">\n		<button type="reset" class="btn" style="display: none;">Clear</button>\n		<button type="submit" class="button-peoplewings">SEARCH PEOPLEWINGS</button>\n	</div>\n</form>\n')}),define("core/factory",[],function(){return function(t){function r(e,r){var i=this.idAttribute;if(!!e&&i in e){var s=e[i];return n.hasOwnProperty(s)?n[s].set(e,r):(t.call(this,e,r),n[s]=this),n[s]}throw new Error("Cool Models always have IDs!")}var n={};return r.prototype=Object.create(t.prototype),r}}),define("models/Account",["require","backbone","api2","core/factory"],function(e){var t=e("backbone"),n=e("api2"),r=e("core/factory"),i=t.Model.extend({urlRoot:n.getApiVersion()+"/accounts/",fetch:function(e){var t=this;n.get(this.url()).then(function(n){t.attributes=n.data,n.updates&&(t.attributes.notifs=n.updates.notifs),t.trigger("change"),e&&e.success&&e.success()})},save:function(e,t){var r=this;return n.put(this.urlRoot+this.id,{resource:e,currentPassword:t}).prop("status").then(function(t){return t&&_.each(e,function(e,t){r.set(t,e)}),t})},destroy:function(e){return n.post(n.getApiVersion()+"/accounts/",e)}});return r(i)}),define("tmpl!templates/lib/send-notification.html",["core/view"],function(e){return e('<div data-reciver-id="{{to.id}}">\n	<div class="control-group">\n		<label class="control-label" for="reciver-name">For</label>\n		<div class="controls">\n			<input type="text" id="reciver-name" class="autocompletePeople" placeholder="Name" value="{{to.fullname}}" data-provide="typeahead" {{#if to.id}}readonly="readonly"{{/if}}>\n		</div>\n	</div>\n	<div class="control-group avatar-message">\n		<label class="control-label" for="message-content">\n			<img src="{{avatar}}">\n		</label>\n		<form>\n			<div class="controls">\n				{{#unless_equals kind \'message\'}}\n				<div id="new-invitation-content" class="request-options">\n					<div id="wing-data">\n						<select id="wings" class="required size-extralarge">\n							{{#each wings}}\n							<option value="{{idWing}}" data-type="{{wingType}}">\n								{{ wingName}} ({{ wingType }})\n							</option>\n							{{/each}}\n						</select>\n						<span class="help-block"></span>\n						<div id="wing-parameters"></div>\n					</div>\n				</div><!-- EOF new-invitation-content -->\n				{{/unless_equals}}\n\n				{{#equals kind \'request\'}}\n				<textarea name="publicMessage" id="public-message-content" maxlength="1500" class="required" placeholder="Introduce yourself and explain a little your interest in the wing you are looking for"></textarea>\n				<span class="help-block"></span>\n				<i class="icon-public-state">Public state icon</i>\n				<label class="checkbox" for="public-request">\n					<input type="checkbox" id="public-request" checked>Let other hosts send me invitations (this text will be visible to all hosts)\n				</label>\n				<h3>Personal message to host</h3>\n				{{/equals}}\n				\n				<textarea name="privateMessage" id="message-content" maxlength="1500" class="required"\n				{{#equals kind \'request\'}}\n				placeholder="Tell your host why you\'d like to meet them..."\n				{{else}}\n				placeholder="Write a message"\n				{{/equals}}\n				></textarea>\n				<span class="help-block"></span>\n\n			</div><!-- EOF controls -->\n		</form>\n	</div>\n</div>\n')}),define("tmpl!templates/lib/wing.accomodation.html",["core/view"],function(e){return e('<div id="wing-accomodation-params">\n	<div class="control-group">\n		<div class="controls">\n			<input type="text" name="start-date" class="required input-sdate" placeholder="Start date">\n			<span class="help-block"></span>\n			<input type="text" name="end-date" class="required input-edate" placeholder="End date">\n			<span class="help-block"></span>\n			<select name="capacity" class="size-medium">\n				<option value="1">1 Guest</option>\n				{{#range 2 8}}\n				<option value="{{self}}">{{self}}</option>\n				{{/range}}\n				<option value="+9">+9</option>\n			</select>\n			{{#unless_equals kind \'invite\' }}\n			<select name="via" class="size-large">\n				<option value="">Choose transport</option>\n				<option value="metro">Metro</option>\n				<option value="bus">Bus</option>\n				<option value="tram">Tram</option>\n				<option value="train">Train</option>\n				<option value="car">Car</option>\n				<option value="motorbike">Motorbike</option>\n				<option value="bicycle">Bicycle</option>\n				<option value="boat">Boat</option>\n				<option value="plane">Plane</option>\n				<option value="other">Other</option>\n			</select>\n			{{/unless_equals}}\n		</div>\n	</div>\n	<div class="control-group flexible-dates">\n		<div class="controls">\n			<label class="checkbox">\n				<input type="checkbox" id="flexible-start-date" name="flexibleStart" class="input-edate">Flexible date\n			</label>\n			<label class="checkbox">\n				<input type="checkbox" id="flexible-end-date" name="flexibleEnd">Flexible date\n			</label>\n		</div>\n	</div>\n</div>\n')}),define("views/lib/notifications",["require","jquery","api2","promise","utils","views/lib/alerts","models/Account","tmpl!templates/lib/send-notification.html","tmpl!templates/lib/wing.accomodation.html"],function(e){function c(e){return e.find('option[value="'+e.find("#wings").val()+'"]').data("type")}function h(e,a,h,p,d,v){var m=new r,g=!!e;return r.parallel(g||n.get(n.getApiVersion()+"/contacts?type="+h),d).spread(function(r,d){function E(){if(!w.find("form").valid())return;var i=v(w);if(!g){var o=w.find(".autocompletePeople").val();e=r.filter(function(e){return e.fullname===o})[0].id}return t(".accept-modal-btn").button("loading"),n.post("/api/v1/notificationslist",{idReceiver:e,kind:h,data:i}).then(function(){s.success("Message Sent"),m.resolve(!0)},function(e){debugger;s.defaultError(),m.reject(e)}).fin(function(){t(".accept-modal-btn").button("reset"),w.modal("hide")})}var y=(new o({id:n.getUserId()})).get("avatar"),b=u({avatar:y,kind:h,to:{id:e,fullname:a},wings:d?[{idWing:null,wingName:"Select a wing",wingType:"none"}].concat(d.items):null}),w=i.showModal({header:p,accept:"Send",loadingText:"Sending..",content:b,callback:E});w.on("hidden",function(){m.future.isCompleted()||m.resolve(!1)}),w.delegate("#wings","change",function(){var e=t(this).closest("#wing-data"),n=c(e);f[n.toLowerCase()](e.find("#wing-parameters"),{kind:h})}),g||(r.forEach(function(e){e.fullname=e.name+" "+e.last_name}),w.find(".autocompletePeople").typeahead({source:r.map(function(e){return e.fullname})})),w.find("form").validate(l)}),m}function p(e,t,r,i,s){var o=n.get("/api/v1/wings",{profile:s}).prop("data");return h(e,t,r,i,o,function(e){return{privateText:e.find("#message-content").val(),publicText:e.find("#public-message-content").val(),makePublic:e.find("#public-request").is(":checked"),wingType:c(e),wingParameters:{wingId:e.find("#wings").val(),startDate:+(new Date(e.find('#wing-parameters [name="start-date"]').val()))/1e3,endDate:+(new Date(e.find('#wing-parameters [name="end-date"]').val()))/1e3,capacity:e.find('#wing-parameters [name="capacity"]').val(),arrivingVia:e.find('#wing-parameters [name="via"]').val(),flexibleStart:e.find("#wing-parameters #flexible-start-date").is(":checked"),flexibleEnd:e.find("#wing-parameters #flexible-end-date").is(":checked")}}})}var t=e("jquery"),n=e("api2"),r=e("promise"),i=e("utils"),s=e("views/lib/alerts"),o=e("models/Account"),u=e("tmpl!templates/lib/send-notification.html"),a=e("tmpl!templates/lib/wing.accomodation.html"),f={none:function(e){e.html("")},accomodation:function(e,t){e.html(a(t)),e.parents("form").validate(l),e.find("input[name=start-date]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"}),e.find("input[name=end-date]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"})}},l={rules:{publicMessage:{maxlength:1500},privateMessage:{maxlength:1500}},errorPlacement:function(e,t){e.appendTo(t.next("span.help-block"))}};return{message:function(e,t){h(e,t,"message","New message",null,function(e){return{content:e.find("#message-content").val()}})},request:function(e,t){return p(e,t,"request","New request",e)},invitation:function(e,t){return p(e,t,"invite","New invitation",n.getUserId())}}}),define("tmpl!templates/home/search_result.html",["core/view"],function(e){return e('	<div class="row">\n		<div class="span8">\n\n			<div class="pager-content">\n				<div class="pager-left">\n					<span>{{totalCount}}</span>\n					{{#if isPeople}}\n					<p>results of people in</p>\n					{{else}}\n					<p>results of {{#if applicant}}applicant{{else}}accommodation{{/if}} in</p>\n					{{/if}}					\n					{{#if locationSearch}}\n					<span class="location">{{locationSearch}}</span>\n					{{else}}\n					<span class="location">the world</span>\n					{{/if}}\n				</div>\n				<div class="pager-right">\n					<div class="resultCounter">\n						<span>{{startResult}}</span>\n						<span>{{endResult}}</span>\n						<span>{{totalCount}}</span>\n					</div>\n					<div class="button-group">\n						<a href="" class="button-pager-previous">\n							<i class="icon-pager-previous">button previous</i>\n						</a>\n						<a href="" class="button-pager-next">\n							<i class="icon-pager-next">button next</i>\n						</a>\n					</div>\n				</div><!-- EOF button-group -->\n			</div><!-- EOF pager content -->\n\n			{{#each results}}\n			<div class="profile search-result" data-profile-id="{{ id }}">\n				<div class="content-left">\n					<span class="dot {{#if online }}online{{/if}}" title="online">online dot</span>\n					<a href="#/profiles/{{id}}/about">\n						<img src="{{ avatar }}" alt="avatar">\n					</a>\n				</div>\n				<div class="content-right">\n					<div class="personal-info">\n						<div class="first-info">\n							<h1 id="user-name-label" class="name">\n								<a\n								{{#if ../notlogged}}\n								href="#/register"\n								style="color: transparent; text-shadow: 3px 3px 11px rgba(0,0,0,1)"\n								{{else}}\n								href="#/profiles/{{id}}/about"\n								{{/if}}\n								>{{firstName}} {{lastName}}</a>\n							</h1>\n							<span class="age">[{{age}}]</span>\n							{{#if online }}<span class="online">Online</span>{{/if}}\n						<!--\n						{{#if verified }}\n							<span class="label label-success">Verified</span>\n						{{else}}\n							<span class="label label-important">Not verified</span>\n						{{/if}}\n						{{#if lastLogin}}\n								<p><b>Last in:</b> {{ lastLogin }}</p>\n						{{/if}}\n					-->\n					{{#if current.name }}\n					<h2 class="home-town">{{ current.name }}, {{ current.country }}</h2>\n					<!--<h3 class="current-location">Now in {{ current.name }}, {{ current.country }}</h3>-->\n					{{/if}}\n				</div>\n				{{#if wings.length }}\n				<dl>\n					<dt class="wings-tag">Wings</dt>\n					<dd class="wings">\n						{{#each wings }}\n							{{ self }}{{#unless last}},{{/unless}}\n						{{/each}}\n					</dd>\n				</dl>\n				{{/if}}\n				{{#if languages.length }}\n				<dl>\n					<dt class="languages-tag">Languages</dt>\n					<dd class="languages">\n						{{#each languages }}\n							{{ name }} ({{ level }}){{#unless last}},{{/unless}}\n						{{/each}}\n					</dd>\n				</dl>\n				{{/if}}\n			</div>\n			<div class="main-bar">\n				<div class="info-bar">\n					<span class="">Reply time</span>\n					<span class="results">{{replyTime}}</span>\n					<span class="">Reply rate</span>\n					<span class="results">{{rate replyRate}}</span>\n				</div>\n				<div class="button-bar">\n					<ul>\n						<li><button class="button send-message-btn">MESSAGE</button></li>\n						{{#if ../isPeople }}\n							{{#if wings.length }}\n								<li><button class="button-highlight send-request-btn selected">REQUEST</button></li>\n							{{/if}}\n						{{else}}\n							<li><button class="button-highlight send-request-btn selected">REQUEST</button></li>\n						{{/if}}\n						<li><button class="button send-invitation-btn">INVITE</button></li>\n					</ul>\n				</div><!-- EOF button-bar -->\n			</div><!-- EOF main-bar -->\n		</div><!-- EOF content-right -->\n		<div class="accordion">\n			<div class="accordion-group">\n				<div id="collapse-{{@index}}" class="accordion-body collapse">\n					<div class="accordion-inner">\n						<h1>About me!</h1>\n						<p>{{ allAboutYou }}</p>\n						{{#if ../applicant}}\n						<h1>Looking for...</h1>\n						<p>City: <span>{{ wingCity }}</span></p>\n						<p>Capacity: <span>{{ wingCapacity }}</span></p>\n						<p>Start Date: <span>{{ wingStartDate }}</span></p>\n						<p>End date: <span>{{ wingEndDate }}</span></p>\n						<p>Type <span>{{ wingType }}</span></p>\n						<p><span>{{ wingIntroduction }}</span></p>\n						{{/if}}\n					</div>\n				</div>\n				<div class="accordion-heading" data-toggle="collapse" href="#collapse-{{@index}}">\n					<span>See more</span>\n				</div>\n			</div>\n		</div><!-- EOF accordion -->\n	</div>\n	{{/each}}\n\n	<div class="pager-content">\n		<div class="pager-left">\n			<span>{{totalCount}}</span>\n			{{#if isPeople}}\n				<p>results of people in</p>\n			{{else}}\n				<p>results of {{#if applicant}}applicant{{else}}accommodation{{/if}} in</p>\n			{{/if}}\n			{{#if locationSearch}}\n			<span class="location">{{locationSearch}}</span>\n			{{else}}\n			<span class="location">the world</span>\n			{{/if}}\n		</div>\n		<div class="pager-right">\n			<div class="resultCounter">\n				<span>{{startResult}}</span>\n				<span>{{endResult}}</span>\n				<span>{{totalCount}}</span>\n			</div>\n			<div class="button-group">\n				<a href="" class="button-pager-previous">\n					<i class="icon-pager-previous">button previous</i>\n				</a>\n				<a href="" class="button-pager-next">\n					<i class="icon-pager-next">button next</i>\n				</a>\n			</div>\n		</div><!-- EOF button-group -->\n	</div><!-- EOF pager content -->\n\n</div>\n')}),define("views/home/results",["require","jquery","backbone","api2","utils","views/lib/notifications","tmpl!templates/home/search_result.html"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("views/lib/notifications"),o=e("tmpl!templates/home/search_result.html"),u=n.View.extend({el:"#search-results",events:{"click button.send-message-btn":"sendMessage","click button.send-request-btn":"sendRequest","click button.send-invitation-btn":"sendInvitation","click .pager-content a.button-pager-next":"nextPage","click .pager-content a.button-pager-previous":"previousPage"},initialize:function(e){this.$el=t("#search-results"),this.el=this.$el[0],this.namesById={},this.logged=e.logged,this.query=e.query,this.type=e.type},setQuery:function(e){this.query=e},render:function(e){var n=this;this.$el.html(o({notlogged:!n.logged,isPeople:this.type==="people",startResult:e.startResult,endResult:e.endResult,totalCount:e.count,locationSearch:n.query.wings,applicant:n.query.type==="Applicant",results:e.profiles.map(function(e){return e.id=e.profileId,e.replyTime=i.formatReplyTime(+e.replyTime),n.namesById[e.id]=e.firstName+" "+e.lastName,e})})),this.$("span.dot.online").tooltip({animation:!0,placement:"right",trigger:"hover",delay:{show:500,hide:100}}),this.lastPage=e.count/e.endResult,t("[id^=collapse]").on("hide",function(){n.toggleCollapsibleText(this,"less","more")}),t("[id^=collapse]").on("show",function(){n.toggleCollapsibleText(this,"more","less")}),n.logged||t("#feedback-btn").hide()},nextPage:function(){var e=this;return+this.query.page===this.lastPage?!1:(this.query.page++,r.get(r.getApiVersion()+"/profiles",this.query).then(function(t){e.render(t.data)}),!1)},previousPage:function(){var e=this;return+this.query.page===1?!1:(this.query.page--,r.get(r.getApiVersion()+"/profiles",this.query).then(function(t){e.render(t.data)}),!1)},close:function(){this.remove(),this.unbind()},_sendNotification:function(e,n){if(!this.logged)return router.navigate("#/register");var r=t(e.target).parents(".search-result").data("profile-id"),i=this.namesById[r];s[n](r,i)},sendMessage:function(e){this._sendNotification(e,"message")},sendRequest:function(e){this._sendNotification(e,"request")},sendInvitation:function(e){this._sendNotification(e,"invitation")},toggleCollapsibleText:function(e,n,r){var i=t(e).next(".accordion-heading").find("span"),s=new RegExp("("+n+")"),o=i.html().replace(s,r);i.html(o),n==="more"?t(i).css("background-position","-858px -16px"):t(i).css("background-position","-658px -16px")}});return u}),define("views/home/main",["require","jquery.Datepicker","jquery","backbone","api2","utils","tmpl!templates/home/main.html","tmpl!templates/home/search.people.html","tmpl!templates/home/search.accomodation.html","views/home/results"],function(e){e("jquery.Datepicker");var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("tmpl!templates/home/main.html"),o=e("tmpl!templates/home/search.people.html"),u=e("tmpl!templates/home/search.accomodation.html"),a=e("views/home/results"),f=n.View.extend({el:"#main",events:{"submit form#people-search-form":"searchPeople","submit form#accomodation-search-form":"searchAccommodation"},initialize:function(){},render:function(e,n){t(this.el).html(s({selected:e})),this.$("#people").html(o(n)),this.$("#accommodation").html(u(n)),this.$("input[name=startDate]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"}),this.$("input[name=endDate]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"}),this.search=new google.maps.places.Autocomplete(document.getElementById("inputLocation"),{types:["(cities)"]}),this.search=new google.maps.places.Autocomplete(document.getElementById("inputWings"),{types:["(cities)"]}),google.maps.event.addListener(this.search,"place_changed",this.setCityField.bind(this)),n&&this.unserializeParams(n),r.userIsLoggedIn()||t("#feedback-btn").hide()},setCityField:function(){var e=this.search.getPlace(),t=null;e&&(t=i.getCityAndCountry(e.address_components));if(!t)return;this.cityField=t.city},unserializeParams:function(e){var t=this;_.each(e,function(e,n){t.$("[name="+n+"]").val(e)})},renderResults:function(e,t,n){this.resultsView&&this.resultsView.close(),this.resultsView=new a({logged:r.userIsLoggedIn(),query:t,type:e}),this.resultsView.render(n)},displayErrors:function(e){var t=this;e.map(function(e){t.$(".form-errors."+e.css).html('<label class="error">'+e.text+"</label>")})},_defaults:{people:{wingType:"people",language:"all",gender:"Both",startAge:18,endAge:98,page:1},accommodation:{capacity:1,language:"all",type:"Host",gender:"Both",startAge:18,endAge:98,page:1}},execute:function(e,t){var n=_.defaults(t,this._defaults[e]);return this.render(e,n),r.get(r.getApiVersion()+"/profiles",n).prop("data").then(this.renderResults.bind(this,e,n))},searchPeople:function(e){var t=[];e.preventDefault();var n=this.$("#inputLocation").val();this.$("#inputLocation").val(n.split(",")[0]);if(t.length)return this.displayErrors(t);var s=i.serializeForm(e.target.id);this.cityField&&(s.wings=this.cityField,this.cityField=null),s.page=1,_.each(this._defaults.people,function(e,t){s[t]==e&&delete s[t]}),router.navigate("#/search/people/"+r.urlEncode(s),{trigger:!1})},searchAccommodation:function(e){var n=[];e.preventDefault();var s=this.$("#inputWings").val();this.$("#inputWings").val(s.split(",")[0]),new Date(t("input[name=endDate]").val())<new Date(t("input[name=startDate]").val())&&n.push({css:"date-error",text:"Invalid dates"}),+t("select[name=endAge]").val()<+t("select[name=startAge]").val()&&n.push({css:"age-error",text:"Invalid age"});if(n.length)return this.displayErrors(n);var o=i.serializeForm(e.target.id);this.cityField&&(o.wings=this.cityField,this.cityField=null),o.page=1,_.each(this._defaults.accommodation,function(e,t){o[t]==e&&delete o[t]}),router.navigate("#/search/accommodation/"+r.urlEncode(o),{trigger:!1})}});return new f}),define("tmpl!templates/app/feedback.html",["core/view"],function(e){return e('<form id="feedback-form">\n	<div class="control-group">\n		<label class="control-label" for="inputHost">Typology</label>\n		<div class="controls radios">\n			<i class="icon-like-up">Like up icon</i>\n			<label>\n				<input type="radio" name="ftype" id="optionsType" value="Positive" checked="">Cool\n			</label>\n			<i class="icon-like-down">Like down icon</i>\n			<label class="radio-like-down">\n				<input type="radio" name="ftype" id="optionsRadios2" value="Negative">Sucks\n			</label>\n		</div>\n	</div>\n	<div class="control-group avatar-message">\n		<label class="control-label">\n			<a href="">\n				<img id="avatar" src="{{avatar}}" alt="avatar">\n			</a>\n		</label>\n		<div class="controls">\n			<textarea rows="3" maxlength="1500" name="text" placeholder="Write a message..." class="required"></textarea>\n			<span class="help-block"></span>\n		</div>\n	</div>\n</form>\n')}),define("views/app/feedback",["require","jquery","backbone","api2","utils","views/lib/alerts","tmpl!templates/app/feedback.html","models/Account"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("views/lib/alerts"),o=e("tmpl!templates/app/feedback.html"),u=e("models/Account");t(window).scroll(function(){t(window).scrollTop()+t(window).height()>t(document).height()-1?t("#feedback-btn-submit").css("bottom",54):t("#feedback-btn-submit").css("bottom",0)});var a=n.View.extend({validation:{rules:{text:{required:!0,maxlength:1e3}}},initialize:function(e){this.model=new u({id:e})},render:function(){var e=o({avatar:this.model.get("avatar")});this.modal=i.showModal({header:"New suggestion",accept:"Send",loadingText:"Sending...",content:e,form:"feedback-form"}),this.modal.on("hidden",this.close.bind(this)),t("#feedback-form").on("submit",this.submitFeedback.bind(this)),t("#feedback-form").validate(this.validation)},submitFeedback:function(e){e.preventDefault();var t=this,n=i.serializeForm("feedback-form");this.modal.find("#feedback-form").valid()&&(this.modal.find(".accept-modal-btn").button("loading"),r.post(r.getApiVersion()+"/feedback",n).then(function(e){t.modal.find(".accept-modal-btn").button("reset"),t.modal.modal("hide"),e.status===!0&&s.success("Feedback received, thanks for your help.")}))},close:function(){this.remove(),this.unbind()}});return a}),define("views/app/home",["require","jquery","backbone","api2","views/home/main","views/app/feedback"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("views/home/main"),s=e("views/app/feedback"),o=n.View.extend({initialize:function(){this.eventBinds()},eventBinds:function(){t("#feedback-btn-submit").live("click",this.showFeedback.bind(this))},render:function(){i.render(),t("#feedback-btn").show()},showFeedback:function(e){e.preventDefault(),this.feedbackView||(this.feedbackView=new s(r.getUserId())),this.feedbackView.render()}});return new o}),define("phrases",[],function(){var e={SI:"Single",EN:"Engaged",MA:"Married",WI:"Widowed",IR:"In a relationship",IO:"In an open relationship",IC:"It's complicated",DI:"Divorced",SE:"Separated"},t={S:"I smoke",D:"I don't smoke, but guests can smoke here",N:"No smoking allowed"},n={C:"Common area",P:"Private area",S:"Shared private area"},r={Y:"Yes",N:"No",M:"Maybe"},i={A:"Any",F:"From Monday to Friday",T:"From Monday to Thursday",W:"Weekend"},s=[{name:"January"},{name:"Feburary"},{name:"March"},{name:"April"},{name:"May"},{name:"June"},{name:"July"},{name:"August"},{name:"September"},{name:"October"},{name:"November"},{name:"December"}];return{choices:{civilState:e,smoking:t,whereSleepingType:n,wingStatus:r,wingDaysChoices:i},months:s}}),define("cookies",["require"],function(e){function t(){var e={},t=document.cookie.split(/; ?/);return t.forEach(function(t){var n=t.substr(0,t.indexOf("=")),r=t.substr(t.indexOf("=")+1);e[n]=r}),e}return{getAll:t,get:function(e){return t()[e]||null},startWith:function(e){var n=t(),r=null;return Object.keys(n).some(function(t){if(t.indexOf(e)!==0)return;return r={name:t,value:n[t]},!0}),r}}}),define("tmpl!templates/app/header.html",["core/view"],function(e){return e('<div class="navbar nav navbar-fixed-top">\n	<div class="navbar-inner">\n			<a class="brand" href="#">Peoplewings</a>\n			<input type="text" id="header-search" placeholder="Where do you need wings ?">\n			<div class="btn-group pull-right">\n				<a class="dropdown-toggle" data-toggle="dropdown" href="#">\n					<span class="icon-config"></span>\n				</a>\n				<ul class="dropdown-menu">\n					<li><a href="#/settings">Account settings</a></li>\n					<li><a href="#/logout">Log Out</a></li>\n				</ul>\n			</div>\n			<div class="nav-menu">\n				<ul class="nav pull-right">\n					<li><a href="#/messages"><span id="notif-count" style="display:none">{{notifs}}</span>Messages</a></li>\n					<li><a href="#/profiles/{{id}}/wings">My Wings</a></li>\n					<li class="logged"><a href="#/profiles/{{id}}/about">{{firstName}} {{lastName}}<img src="{{avatar}}"></a></li>\n				</ul>\n			</div>\n			<div id="mini-spinner"><span style="display: none">loading</span></div>\n		</div>\n	</div>\n</div>\n')}),define("views/app/header",["require","jquery","backbone","api2","utils","tmpl!templates/app/header.html","models/Account"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("tmpl!templates/app/header.html"),o=e("models/Account"),u=n.View.extend({el:"header",initialize:function(){this.model=new o({id:r.getUserId()}),this.model.on("change",this.render.bind(this)),this.model.fetch(),this.searchVisible=!0},render:function(){t(this.el).html(s(this.model.toJSON(),{lastName:this.model.get("lastName")[0]+"."})),this.search=new google.maps.places.Autocomplete(document.getElementById("header-search"),{types:["(cities)"]}),google.maps.event.addListener(this.search,"place_changed",this.doSearch.bind(this)),this.showSearch(this.searchVisible)},refresh:function(){this.model.fetch()},destroy:function(){this.remove(),this.unbind()},showSearch:function(e){this.searchVisible=e,this.$("#header-search")[e?"show":"hide"](),this.$("#header-search").val("")},doSearch:function(){var e=this.$("#header-search"),t=i.getCityAndCountry(this.search.getPlace().address_components);if(!t)return;e.val(""),e.blur(),document.location.hash="/search/people/?location="+t.city}});return u}),define("tools/facebook",["require","promise","api2","cookies","views/app/header"],function(e){function s(){var e=new t;return FB.login(function(t){t.authResponse?e.resolve(t.authResponse):e.reject()},{scope:"email,user_about_me,user_birthday,user_hometown,user_location"}),e.future}function o(e){var t=r.startWith("fbsr_");return n.post(n.getApiVersion()+"/authfb/",{fbid:e.userID,appid:t.name,token:t.value})}function u(e){return s().then(o).then(function(t){return t.status&&e(t.data),t.status})}var t=e("promise"),n=e("api2"),r=e("cookies"),i=e("views/app/header");return{connect:u}}),define("tmpl!templates/lib/balloon.html",["core/view"],function(e){return e('<div class="balloon-alert">\n	<span class="ribbon"></span>\n	<div class="balloon-content">\n		{{#with options}}\n			{{{content}}}\n		{{/with}}\n	</div>\n</div>\n<span class="signal-bottom"></span>')}),define("views/lib/balloon.response",["require","jquery","backbone","tmpl!templates/lib/balloon.html"],function(e){var t=e("jquery"),n=e("backbone"),r=e("tmpl!templates/lib/balloon.html"),i=n.View.extend({el:"#main",render:function(e){t(this.el).html(r({options:e}))}});return new i}),define("tmpl!templates/home/forms/register.html",["core/view"],function(e){return e('<form id="register-form" class="form-horizontal pull-right wrap">\n	<span class="signal">register signal</span>\n	<legend>Sign up</legend>\n	<div class="control-group clear">\n		<div class="controls facebook-bright fb-login">\n			<span class="icon-facebook-login">Icon facebook login</span>\n			<div class="button-facebook">\n				<strong>Log in </strong> with <strong> Facebook</strong>\n			</div>\n		</div>\n	</div>\n\n	<div class="control-group">\n		<div class="controls facebook-separator">\n			<span></span>\n			<span class="odd">Or</span>\n			<span></span>\n		</div>\n	</div>\n\n	<div class="control-group clear">\n		<label class="control-label" for="inputName">Name</label>\n		<div class="controls two-elements">\n			<input type="text" id="firstName" name="firstName" placeholder="First Name" class="input-small required" maxlength="14">\n			<input type="text" name="lastName" placeholder="Last Name" class="input-small required" maxlength="30">\n			<span class="help-block"></span>\n		</div>\n	</div>\n	<div class="control-group">\n		<label class="control-label" for="inputPassword">Password</label>\n		<div class="controls two-elements">\n			<input id="pass" type="password" name="password" placeholder="Password" class="required" maxlength="20">\n			<input type="password" name="confirm_password" placeholder="Repeat Password" class="required">\n			<span class="help-block"></span>\n		</div>\n	</div>\n	<div class="control-group">\n		<label class="control-label" for="inputEmail">Your email</label>\n		<div class="controls">\n			<input id="email" type="email" name="email" placeholder="Your current email address" class="required" maxlength="50">\n			<span class="help-block"></span>\n		</div>\n	</div>\n	<div class="control-group">\n		<div class="controls">\n			<input type="email" name="repeatEmail" placeholder="Repeat your email address" class="required">\n			<span class="help-block"></span>\n		</div>\n	</div>\n	<div class="control-group">\n		<label class="control-label" for="inputBirthday">Birthday</label>\n		<div class="controls">\n			<select id="id_birthday_month" name="birthdayMonth" class="input-small required">\n				<option value="">Month</option>\n				{{#each month}}\n				<option value="{{indexPlusOne}}">{{name}}</option>\n				{{/each}}\n			</select>\n			<select id="id_birthday_day" name="birthdayDay" class="input-mini required">\n				<option value="">Day</option>\n				{{#range 1 31 1}}\n				<option value="{{self}}">{{self}}</option>\n				{{/range}}\n			</select>\n			<select id="id_birthday_year" name="birthdayYear" class="input-mini required">\n				<option value="">Year</option>\n				{{#range 2006 1900 \'-1\'}}\n				<option value="{{self}}">{{self}}</option>\n				{{/range}}\n			</select>\n			<span class="help-block"></span>\n	</div>\n	<div class="control-group">\n		<label class="control-label" for="inputGender">Gender</label>\n		<div class="controls">\n			<select name="gender" id="id_gender" class="required">\n				<option value="">I am</option>\n				<option value="Male">Male</option>\n				<option value="Female">Female</option>\n			</select>\n			<span class="help-block"></span>\n		</div>\n	</div>\n	<div class="control-group">\n		<div class="controls terms">\n			<p>By continuing, you\'re confirming that you\'ve read and agree to our the <a id="terms-link" href="#/help#terms-of-service" target="_blank">Terms and Conditions</a>, <a id="terms-link" href="#/help#privacy-policy" target="_blank">Privacy Policy and Cookie Policy</a>, and that you\'re 18 or older.</p>\n			<button type="submit" class="button-peoplewings">Sign up!</button>\n		</div>\n	</div>\n</form>\n')}),define("tmpl!templates/lib/responses/register.check-email.html",["core/view"],function(e){return e("<h1>Almost there!</h1>\n<h2>Confirm your email address!</h2>\n<p>A confirmation email has been sent to <strong>{{email}}</strong></p>\n<p>Click on the confirmation link in the email to activate your account</p>\n<p class=\"description\">Didn't get your email ? Check your email account's junk or spam folder, just in case our email landed there. If it's in there, please remember to mark it <strong>Not junk/spam</strong></p>")}),define("tmpl!templates/lib/responses/register.underage.html",["core/view"],function(e){return e("<h1>OOOOPS!</h1>\n<h2>You are too young to be a superhero...</h2>\n<p>Sorry, we are not able to process your registration</p>\n<p>In order to have an account, you must meet certain age requirements</p>")}),define("views/home/register",["require","jquery","backbone","api2","utils","phrases","views/lib/spinner","tools/facebook","views/lib/balloon.response","tmpl!templates/home/forms/register.html","tmpl!templates/lib/responses/register.check-email.html","tmpl!templates/lib/responses/register.underage.html"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("phrases"),o=e("views/lib/spinner"),u=e("tools/facebook"),a=e("views/lib/balloon.response"),f=e("tmpl!templates/home/forms/register.html"),l=e("tmpl!templates/lib/responses/register.check-email.html"),c=e("tmpl!templates/lib/responses/register.underage.html"),h=n.View.extend({el:"#main",events:{"submit form#register-form":"submitRegister","click .fb-register":"facebookConnect"},validation:{rules:{password:{minlength:8,validpassword:!0},confirm_password:{minlength:8,equalTo:"#pass"},email:{email:!0},repeatEmail:{email:!0,equalTo:"#email"},terms:{required:!0}},messages:{birthdayYear:{max:"You need to be +18 years old to register"},hasAcceptedTerms:"Please accept our terms"},errorPlacement:function(e,t){e.appendTo(t.nextAll("span.help-block"))}},facebookConnect:function(){u.connect(function(t){r.saveAuthToken({auth:t.xAuthToken,uid:t.idAccount}),router.header=new Header,router.navigate("#/search")})},render:function(){t(this.el).html(f({month:s.months})),this.$("#register-form").validate(this.validation),t("#feedback-btn").hide()},submitRegister:function(e){e.preventDefault(e);var t=this,n=i.serializeForm(e.target.id);n.birthdayYear=+n.birthdayYear,n.birthdayMonth=+n.birthdayMonth,n.birthdayDay=+n.birthdayDay,o.show("register"),r.post(r.getApiVersion()+"/newuser",n).then(function(e){o.hide("register"),t.$("#register-form").remove(),e.status===!0?a.render({content:l({email:e.data.email})}):a.render({content:c})})}});return new h}),define("text!templates/home/forms/login.html",[],function(){return'<form id="login-form" class="form-horizontal pull-right">\n	<legend>Log in</legend>\n	<span class="signal">register signal</span>\n\n	<div class="control-group clear">\n		<div class="controls facebook-bright fb-login">\n			<span class="icon-facebook-login">Icon facebook login</span>\n			<div class="button-facebook">\n				<strong>Log in </strong> with <strong> Facebook</strong>\n			</div>\n		</div>\n	</div>\n\n	<div class="control-group">\n		<div class="controls facebook-separator">\n			<span></span>\n			<span class="odd">Or</span>\n			<span></span>\n		</div>\n	</div>\n\n	<div class="control-group">\n		<label class="control-label" for="inputEmail">Email</label>\n		<div class="controls">\n			<input type="email" id="inputEmail" name="username" placeholder="Email" class="span3 required" maxlength="50">\n		</div>\n	</div>\n	<div class="control-group">\n		<label class="control-label" for="inputPassword">Password</label>\n		<div class="controls">\n			<input type="password" id="inputPassword" name="password" placeholder="Password" class="span3 required"maxlength="20">\n		</div>\n	</div>\n	<div class="control-group">\n		<div class="controls terms">\n			<label class="checkbox">\n				<input type="checkbox" name="remember">Remember me\n			</label>\n			<a href="#/forgot">Can\'t access your account?</a>\n			<button type="submit" class="button-peoplewings">Log in</button>\n		</div>\n	</div>\n</form>\n'}),define("views/home/login",["require","jquery","backbone","utils","api2","tools/facebook","views/app/header","text!templates/home/forms/login.html","views/lib/spinner"],function(e){function f(e,t){i.saveAuthToken({auth:e.xAuthToken,uid:e.idAccount,remember:t}),router.header=new o,router.navigate("#/search")}var t=e("jquery"),n=e("backbone"),r=e("utils"),i=e("api2"),s=e("tools/facebook"),o=e("views/app/header"),u=e("text!templates/home/forms/login.html"),a=e("views/lib/spinner"),l=n.View.extend({el:"#main",events:{"submit form#login-form":"submitLogin","click .fb-login":"facebookLogin"},render:function(){t(this.el).html(u),this.$("form").validate(),this.$inputEmail=this.$("#inputEmail"),this.$inputPassword=this.$("#inputPassword"),t("#feedback-btn").hide()},facebookLogin:function(){s.connect(f)},submitLogin:function(e){e.preventDefault(e);if(this.$inputPassword.val()===""||this.$inputEmail.val()==="")return;a.show("login");var t=this,n=r.serializeForm();i.post(i.getApiVersion()+"/auth/",n).prop("data").then(function(e){t.loginSuccess(e,n.remember==="on")}).fin(function(){t.$inputPassword.val(""),a.hide("login")})},loginSuccess:function(e,t){this.$inputPassword.val(""),this.$inputEmail.val(""),f(e,t)}});return new l}),define("tmpl!templates/home/help-center.html",["core/view"],function(e){return e('<div class="tabs sidebar">\r\n\r\n	<ul>\r\n		<li class="active"><a href="#how-it-works" data-toggle="tab">How it works</a></li>\r\n		<li><a href="#terms-of-service" data-toggle="tab">Terms of service</a></li>\r\n		<li><a href="#privacy-policy" data-toggle="tab">Privacy policy</a></li>\r\n	</ul>\r\n\r\n</div>\r\n\r\n<div id="help-center" class="tab-content">\r\n\r\n	<legend>Help center</legend>\r\n\r\n	<div class="help-center-content tab-pane fade active in" id="how-it-works">\r\n\r\n		<h1>How to Start</h1>\r\n\r\n		<h2>Welcome to our global community!</h2>\r\n		<p>This is a guide that will help you to start, so you can easily share the world.</p>\r\n\r\n		<h1>1 Search</h1>\r\n\r\n		<h2>Find the best PEOPLEWINGS can help.</h2>\r\n		<p>On the home page or search page www.peoplewings.com/search, find the ideal PEOPLEWINGS			typing where you need to share your WINGS.</p>\r\n\r\n		<h1>2 Request</h1>\r\n\r\n		<h2>Send requests to multiple PEOPLEWINGS.</h2>\r\n		<p>Send WINGS requests with the yellow button "request", located to the right PEOPLEWINGS search results.</p>\r\n\r\n		<p>We recommend that you make public requests to receive invitations from other PEOPLEWINGS. To make your public applications, you have to select the flag "Let other hosts can send me invitations". It shows in the popup "New Request" that appears when you click the yellow button "request".</p>\r\n\r\n		<h1>3 Receive confirmation</h1>\r\n\r\n		<h2>Wait confirmation of PEOPLEWINGS</h2>\r\n		<p>Soon, you will receive confirmation messages of acceptance from PEOPLEWINGS users, who have requested them WINGS, on the message page:  www.peoplewings.com/messages.</p>\r\n\r\n		<h1>4 "Fly"</h1> \r\n		\r\n		<h2>Enjoy your flight with your new WINGS!</h2>\r\n		<p>The sharing WINGS day is very close. However, before you have to contact the host to confirm the time and place that you will find. </p>\r\n\r\n	</div>\r\n\r\n	<div class="help-center-content tab-pane fade in" id="terms-of-service">\r\n\r\n		<h1>Terms of Service</h1>\r\n\r\n		<h2>Company Data</h2>\r\n		<p>The general Terms of Service are those that regulate the access and use of the website www.peoplewings.com (hereinafter Website); peoplewings.com is an </p>\r\n\r\n		<p>Internet domain owned by PEOPLEWINGS, SL (Hereinafter, PEOPLEWINGS) provided with Tax Identification Number B65781072, registered in the Mercantile Registry of Barcelona,  Tomo 43131, folio 48, hoja B-423188, inscripción 1, located at Llacuna 162 (Barcelona Activa) number 3, 5 º 2 ª, 08018, Barcelona (Spain).</p>\r\n\r\n		<p>In case you need to contact us to communicate any information or for any questions, concerns, complaints, comments, clarifications or suggestions, we provide you our contact details which are as follows:</p>\r\n\r\n		<ul>\r\n			<li>Email: info@peoplewings.com</li>\r\n			<li>Phone: (0034) 934 869 034</li>\r\n			<li>Fax: (0034) 933 009 015</li>\r\n			<li>Postal Address: c / Llacuna, 162, 08018, Barcelona (Spain)</li>\r\n		</ul>\r\n\r\n		<p>In the event that any provision of these Terms of Service be declared invalid, the remainder shall remain in full force and full effect. The clauses should be interpreted independently from them, so that if any provision is held invalid, it shall not affect the remaining provisions.</p>\r\n\r\n		<p>PEOPLEWINGS may update, modify or remove, at any time, the website or its operating, technical or usage conditions.</p>\r\n\r\n		<h2>Mission</h2>\r\n		<p>This website (www.peoplewings.com) is a platform that aims to create an online community which allows registered USERS to share a diversity of services, experiences, interests,  benefits and products (here in after, services ). We list some of them (without prejudice to create more in the future), although  they are not currently operating, as an example, but not limited to:</p>\r\n\r\n		<ul>\r\n			<li>Share home stays outside the USER\'S home.</li>\r\n			<li>Share vehicles with same or similar routes.</li>\r\n			<li>Share different kinds of outings (nightime, cultural or leisure).</li>\r\n			<li>Share trips, excursions and walks.</li>\r\n			<li>Share every kind of sports.</li>\r\n		</ul>\r\n\r\n		<p>We take this opportunity to convey to you that any suggestions you have to expand the range of possibilities to share, to be offered through the website, will be welcomed and properly analyzed for implementation.</p>\r\n\r\n		<p>PEOPLEWINGS does not provide direct services but only the possibility that the USERS share services. Consequently, PEOPLEWINGS merely provides intermediary services, promoting contact between the USERS who wish to share services.</p>\r\n\r\n		<p>PEOPLEWINGS reserves the right to provide new services to share, free or not free.</p>\r\n\r\n		<h2>Users</h2>\r\n\r\n		<p>Access to the website www.peoplewings.com is assigning to whoever makes the condition of VISITOR and who also is registering the USER condition.</p>\r\n\r\n		<p>Whether you are a VISITOR or a USER, either condition implies knowledge and full acceptance of these conditions.</p>\r\n\r\n		<p>Registration on the website is free, without prejudice to payment services which may exist, in which case you will be duly notified to the USER, prior and expressly.</p>\r\n\r\n		<p>To access the services it is required to be the age of 18 or older and the registering. USER Registration involves the entering of a series of data, some essential and others optional, through corresponding forms on the website. Data for completing these forms is provided by the USER freely and voluntarily, so that the entered data must be true. In case you do not provide the mandatory data it will not be possible to register. </p>\r\n\r\n		<p>The requested optional data lets the USER enjoy the website better and be more likely to achieve a satisfying experience.</p>\r\n\r\n		<p>USERS only can use of this website as individuals, and may not use the service of this site for commercial purposes.</p>\r\n\r\n		<p>PEOPLEWINGS reserves the right, without further notice, to update, modify, unilaterally and at any time these Terms of Service. Therefore, the USER must often check these Terms of Service.</p>\r\n\r\n		<p>If the USER is reneging on these Terms of Service, PEOPLEWINGS has the faculty to suspend or even delete his profile, without prior notice to this effect and without any right of the USER to get a compensation arising from the mentioned suspension and / or elimination. PEOPLEWINGS has also the faculty to delete specific content that contravenes the specific Terms of Service or legislation.\r\n			The Users agree not to use this platform for illegal or illicit purposes</p>\r\n\r\n			<p>Below are expressed some of the commitments acquired by USERS: </p>\r\n\r\n			<ul>\r\n				<li>Refrain from expressing opinions or provide information that incites sexual, religious, racial or other kind of discrimination or that violates any right recognized and protected by Spanish legislation.</li>\r\n				<li>Refrain from expressing opinion that can be offensive, xenophobic, slanderous, defamatory, aggressive, violent and obscene language.</li>\r\n				<li>Refrain from expressing untruthful inaccurate, incomplete or ambiguous.\r\n					opinions or information.</li>\r\n					<li>Refrain from expressing unlawful opinions or  information.</li>\r\n					<li>Refrain from violating the right to confidentiality of communications.</li>\r\n					<li>Refrain from activities that violate the rights of intellectual property.</li>\r\n					<li>Refrain from violating the rights of honour, privacy or image of individuals.</li>\r\n					<li>Refrain from providing information containing illegal, pornographic or degrading contents.</li>\r\n					<li>To use the website in accordance with  the law, morals, good faith, good costums and public order.</li>\r\n					<li>Refrain from using the platform to get personal data of other USERS for  other purposes than those described in these conditions.</li>\r\n					<li>Refrain from installing viruses or harmful files, or commit any action that causes damage, on the website, which could impede its normal use.</li>\r\n					<li>Refrain from using the website with advertising or commercial purposes.</li>\r\n					<li>Refrain from using the website to input or output data or information not related to the service provided on the website.</li>\r\n					<li>Refrain from storing or using USERS personal information for any other purpose than the  aforementioned.</li>\r\n					<li>Maintain the confidentiality of your username and password, agreeing not to disclose such data to third parties, as the use of a USER name and password by a third always will be considered done on behalf of the USER.</li>\r\n					<li>Holding property rights over the photographs, if any, that you post or, where appropriate, having the corresponding rights and  having the appropriate authorization.</li>\r\n					<li>Being responsible that the photographs that are suitable to morality and public order.</li>\r\n				</ul>\r\n\r\n				<p>The information on the website about each USER is entered for every USER, who, therefore, is the only one responsible for its accuracy and content and for the possible damages.</p>\r\n\r\n				<p>The USER declares he has read and accepted these Terms of Service and of the provision of services of this website.</p>\r\n\r\n				<p>The user, by virtue of his registration, gives his express consent to receive by email information about provided services by PEOPLEWINGS as well as offers, promotions or advertising. This consent may be revoked at any time by sending e-mail to info@peoplewings.com, or by fax to (0034) 933 009 015 or by letter to the address calle Llacuna street, 162, Barcelona (08018), stating that fact.</p>\r\n\r\n				<p>The user can opt-out of the website by accessing his account and using the "Unsubscribe" or by sending an email to info@peoplewings.com, or by fax at (0034) 933 009 015 or by letter sent to the address Calle Llacuna, 162, Barcelona (08018), facilitating his USER name and password, and a copy of his identity document and requesting expressly the cancellation.</p>\r\n\r\n				<h2>Intellectual property rights and industrial property</h2>\r\n\r\n				<p>The contents included or to be included in the future on this website, whether the website itself, text, logos, images, photographs, graphics, drawings, software, music, sound, trademarks, trade names, or any other distinctive sign, or computer codes are owned by PEOPLEWINGS or licensors or other owners of these rights. Consequently, these rights are protected by intellectual and industrial property rights.</p>\r\n\r\n				<p>The USER gives PEOPLEWINGS rights to the information or data the USER enter, in order that PEOPLEWINGS can promote the services described in the exercise of his activity.\r\n					The USER is the unique responsible for the information and data is entering in the website, being responsible in the event that any third party conduct a claim arising from infringed their intellectual property in the contents or data entered.</p>\r\n\r\n					<p>It is forbidden the reproduction, distribution, commercialization or transformation of the content not expressly authorized by the owners. If someone breaches this commitment, shall incur an infringement of intellectual property.</p>\r\n\r\n					<h2>Links</h2>\r\n\r\n					<p>The links to other websites that could be on the website, whether referring to publicity or other types of content, are only offered for information purposes to VISITOR and / or USER, so PEOPLEWINGS will not be responsible for the products, services or content that are on the pages located on another domain, as long as these pages are managed and owned by third parties and not by PEOPLEWINGS. PEOPLEWINGS does not make any supervision or control over such contents. Therefore, PEOPLEWINGS does not warrant and respond  for the legality of the content of such sites. The owner of these sites will be the unique responsible.</p>\r\n\r\n					<p>In order to provide advertising that suits the profile of the USER and / or VISITOR, PEOPLEWINGS has the faculty to keep information about the links that the USERD/VISITOR has entered.</p>\r\n\r\n					<h2>Limitation of Liability</h2>\r\n\r\n					<p>PEOPLEWINGS disclaims any liability in the following cases:</p>\r\n\r\n					<ul>\r\n						<li>Misuse USER name and password.</li>\r\n						<li>Abnormal functioning of the website, whether from force meajure reasons, even for reasons that were attributable to PEOPLEWINGS.</li>\r\n						<li>Access to the website with interruptions or errors.</li>\r\n						<li>Damage being caused on a computer when accessing or browsing the website (interference, computer viruses, faults ..).</li>\r\n						<li>Non Availability of the website for maintenance reasons.</li>\r\n						<li>Claims for infringement of intellectual or industrial property rights incurred by any USER in the data and information entered in the website. The USER will be responsible and must bear the damages caused directly.</li>\r\n						<li>Opinions or information provided by USERS that could provoke any claim.</li>\r\n						<li>From the falls, interruption or failure of communications that might occur in commercial operations.</li>\r\n						<li>From the damages that may occur with the use of the contents made by third party regarding the data entered by the USER.</li>\r\n						<li>The bad performance of the services. USERS make optionally use of the services and take the risk that this may entail.</li>\r\n						<li>In any unlawful or illegal action made by an USER or a third party.</li>\r\n					</ul>\r\n\r\n					<p>PEOPLEWINGS can not control or monitor USERS profiles and the content posted by them, so you can not claim any responsibility to PEOPLEWINGS in relation to the profile or content posted by USERS. Anyway PEOPLEWINGS has the faculty to delete content that would be contrary to  the law.</p>\r\n\r\n					<p>Consequently, PEOPLEWINGS disclaims any liability for the exchange of information between USERS made through the website, being solely responsible USERS.</p>\r\n\r\n					<h2>Law and Jurisdiction</h2>\r\n\r\n					<p>The Terms of Service and the Privacy Policy are governed by Spanish law.</p>\r\n\r\n					<p>For the resolution of disputes that may arise regarding the validity, interpretation and enforceability of these Terms of Service, USER expressly submits to the jurisdiction of the Courts and Tribunals of the city of Barcelona (Spain), waiving any other jurisdiction that may apply.</p>\r\n\r\n				</div>\r\n\r\n				<div class="help-center-content tab-pane fade in" id="privacy-policy">\r\n\r\n					<h1>Privacy Policy</h1>\r\n\r\n					<h2>Data Protection</h2>\r\n\r\n					<p>The USER, hereby reading and acceptance of the Terms of Service, consents PEOPLEWINGS to the processing of his personal data with the purpose mentioned in the general Terms of Service.</p>\r\n\r\n					<p>PEOPLEWINGS agrees to comply with Ley Orgánica 15/1999, de Protección de Datos de Carácter Personal and Real Decreto 1720/2007 that approves the Regulation implementing that law.</p>\r\n\r\n					<p>PEOPLEWINGS warrant that all data provided by the USER on the website will be used according to its intended purpose.</p>\r\n\r\n					<h3>PEOPLEWINGS informs:</h3>\r\n\r\n					<p>The personal data entered by the USER will be incorporated into a file owned by PEOPLEWINGS, duly registered in the General Registry of Data Protection (Registro General de Protección de Datos).</p>\r\n\r\n					<p>The purpose of USERS data collection is done in order that they can share the data with other USERS. The addressees of information shall therefore be the USERS.</p>\r\n\r\n					<p>PEOPLEWINGS will keep personal data as long as they need to carry on the provided services. Once completed, PEOPLEWINGS will destroy the aforementioned personal data.</p>\r\n\r\n					<p>The USERS have the possibility of exercising rights of access, rectification, cancellation and opposition regarding their personal data, contacting PEOPLEWINGS via email to info@peoplewings.com, or by fax at (0034) 933 009 015 or by letter to the address Llacuna street, 162, Barcelona (08018). The exercise of these rights (of access, rectification, cancellation and opposition) are independent.</p>\r\n\r\n					<h3>PEOPLEWINGS commits:</h3>\r\n\r\n					<p>Treat confidentially the personal data of USERS that PEOPLEWINGS has as a consequence of their surfing in the website or their registration, keeping the secret, obligation  that shall continue even after the USER has terminated its relationship with PEOPLEWINGS.</p>\r\n\r\n					<p>Adopt the necessary measures, technical and organizational, which ensure the security of personal data and avoid its alteration, loss and unauthorized treatment or access to such data. The purpose of the security measures will ensure the confidentiality, integrity and availability of data.</p>\r\n\r\n					<p>The USER uses the service at his own risk and acknowledges that the advertised services on the website are provided according to the information and data that enter every USER.  PEOPLEWINGS does not respond and does not guarantee the services.</p> \r\n\r\n					<p>PEOPLEWINGS may need to hire third party service providers to provide their services through the website, so that, if necessary, aforementioned personal data will be shared with service providers, which will be used, in strict compliance with the Terms of Service, and only in order to fulfill the role for which they were hired by PEOPLEWINGS. In fact, upon completion of the provision of services by the provider, PEOPLEWINGS will request a return or, where applicable, destruction of personal data. USERS expressly consent that their data be transferred to the mentioned third party service providers.</p>\r\n\r\n					<h2>Cookies</h2>\r\n\r\n					<p>A cookie is a small piece of data sent from the website and stored in the USER\'S or VISITOR\'S browser that is transferred to his computer\'s hard drive in order the server remembers certain information.</p>\r\n\r\n					<p>While browsing the web page, it is collected, by using cookies, USER\'S or VISITOR\'S information, in order that the USER does not have to enter their USER name and password for each page of peoplewings.com. It also has utility for information about browsing habits of the USER and thus PEOPLEWINGS provides the services optimally.</p>\r\n\r\n					<p>Browsing through the website implies consent to the installation of the Cookies. However, there is the possibility that the user disable and delete Cookies, configuring his browser for this purpose.</p>\r\n\r\n				</div>\r\n			</div>')}),define("views/home/help",["require","jquery","backbone","api2","tmpl!templates/home/help-center.html"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("tmpl!templates/home/help-center.html"),s=n.View.extend({el:"#main",render:function(e){t(this.el).html(i),e&&this.selectTab("#"+e),r.userIsLoggedIn()||t("#feedback-btn").hide()},selectTab:function(e){this.$(".tab-content .tab-pane").removeClass("active"),t(e).addClass("active"),t(".tabs ul li").removeClass("active"),t(".tabs ul li a[href="+e+"]").parent().addClass("active")}});return new s}),define("views/home/activate",["require","api2","backbone","views/lib/alerts"],function(e){var t=e("api2"),n=e("backbone"),r=e("views/lib/alerts"),i=n.View.extend({render:function(e){var n={activationKey:e};t.post(t.getApiVersion()+"/activation",n).then(function(){r.success("Account activation complete. You can now login with your credentials"),router.navigate("#/login")}),$("#feedback-btn").hide()}});return new i}),define("tmpl!templates/lib/responses/password.check-email.html",["core/view"],function(e){return e("<h1>Almost there!</h1>\n<h2>Please check your email</h2>\n<p>We've sent you an email to <strong>{{email}}</strong> that will help you to reset your password quickly and easily</p>")}),define("tmpl!templates/lib/responses/password.changed.html",["core/view"],function(e){return e("<h1>Perfect!</h1>\n<h2>Password changed</h2>\n<p>You can now log in with your new password</p>")}),define("tmpl!templates/home/forms/forgot-password.html",["core/view"],function(e){return e('<form id="forgot-form">\n	<div class="form-wrapper">\n		<span class="signal">account signal</span>\n		<div class="form-header">\n			<h1>Find Your Account</h1>\n		</div>\n	</div>\n	<div class="control-group confirm-changes">\n		<p>Please enter the email address you provided when creating your account. A password reset link will be e-mailed to the address.</p>\n		<label class="control-label" for="inputEmail">Email</label>\n		<div class="controls">\n			<input type="email" id="inputEmail" name="email" placeholder="Email" class="input-large required" maxlength="50">\n			<span class="help-block"></span>\n		</div>\n	</div>\n	<div class="footer-content">\n		<div class="button-group">\n			<a href="/#/login" class="button">Cancel</a>\n			<button type="submit" class="button-highlight" data-loading-text="Sending...">Send</button>\n		</div>\n	</div>\n</form>')}),define("tmpl!templates/home/forms/change-password.html",["core/view"],function(e){return e('\n<form id="password-form">\n	<div class="balloon-wrapper">\n		<span class="signal">account signal</span>\n		<div class="balloon-header">\n			<h1>Reset Password</h1>\n		</div>\n		<div class="balloon-content">\n			<p>Please enter a new password for your account</p>\n			<div class="control-group">\n				<label class="control-label" for="inputPassword">New password</label>\n				<div class="controls">\n					<input type="password" id="inputPassword" name="newPassword" placeholder="Password" class="required" maxlength="20">\n				</div>\n			</div>\n			<div class="control-group confirm-changes">\n				<label class="control-label" for="inputPassword2">Retype password</label>\n				<div class="controls">\n					<input type="password" id="inputPassword2" name="newPassword2" placeholder="Password" class="required" maxlength="20">\n					<input type="hidden" id="forgotToken" name="forgotToken" value="{{token}}">\n				</div>\n			</div>\n		</div>\n		<div class="balloon-footer">\n			<div class="button-group">\n					<a href="/#/login" class="button">Cancel</a>\n					<button type="submit" class="button-highlight" data-loading-text="Sending...">Send</button>\n			</div>\n		</div>\n	</div><!-- EOF static-balloon -->\n</form>')}),define("views/home/password",["require","jquery","backbone","utils","api2","views/lib/balloon.response","tmpl!templates/lib/responses/password.check-email.html","tmpl!templates/lib/responses/password.changed.html","tmpl!templates/home/forms/forgot-password.html","tmpl!templates/home/forms/change-password.html","views/lib/spinner"],function(e){var t=e("jquery"),n=e("backbone"),r=e("utils"),i=e("api2"),s=e("views/lib/balloon.response"),o=e("tmpl!templates/lib/responses/password.check-email.html"),u=e("tmpl!templates/lib/responses/password.changed.html"),a=e("tmpl!templates/home/forms/forgot-password.html"),f=e("tmpl!templates/home/forms/change-password.html"),l=e("views/lib/spinner"),c=n.View.extend({el:"#main",events:{"submit form#forgot-form":"submitForgot","submit form#password-form":"submitNewPwd"},validation:{rules:{newPassword:{minlength:8,validpassword:!0},newPassword2:{minlength:8,equalTo:"#inputPassword"}}},errorPlacement:function(e,t){e.appendTo(t.nextAll("span.help-block"))},initialize:function(){},render:function(e){var n=e?f({token:e}):a;t(this.el).html(n),e?t("#password-form").validate(_.extend(this.validation,this.errorPlacement)):t("#forgot-form").validate({errorPlacement:this.errorPlacement}),t("#feedback-btn").hide()},submitForgot:function(e){e.preventDefault(e),l.show("password"),t(e.target).find("button[type=submit]").button("loading");var n=r.serializeForm(e.target.id),u=this;i.post(i.getApiVersion()+"/forgot",n).then(function(){t(e.target).find("button[type=submit]").button("reset"),l.hide("password"),u.$("#forgot-form").remove(),s.render({content:o({email:n.email})})})},submitNewPwd:function(e){e.preventDefault(e),l.show("password"),t(e.target).find("button[type=submit]").button("loading");var n=r.serializeForm(e.target.id),o=this;i.post(i.getApiVersion()+"/forgot",{forgotToken:n.forgotToken,newPassword:n.newPassword}).then(function(){t(e.target).find("button[type=submit]").button("reset"),l.hide("password"),o.$("#password-form").remove(),s.render({content:u})})}});return new c}),define("models/ProfileModel",["require","backbone","api2","utils","promise","phrases","core/factory"],function(e){var t=e("backbone"),n=e("api2"),r=e("utils"),i=e("promise"),s=e("phrases"),o=e("core/factory"),u=t.Model.extend({me:function(){return n.getUserId()===this.id},urlRoot:n.getApiVersion()+"/profiles/",url:function(){return this.me()?this.urlRoot+this.id:this.urlRoot+this.id+"/preview"},urlWings:function(){return this.me()?this.urlRoot+this.id+"/accomodations":this.urlRoot+this.id+"/accomodations/preview"},fetch:function(e){var t=this;i.parallel(n.get(this.url()),n.get(this.urlWings())).spread(function(n,r){t.parse(n.data,r.data),e&&e.success&&e.success()})},fetchWing:function(e){if(!e)return;var t=this;n.get(this.urlWings()+"/"+e.wingId).then(function(n){t.setWing(e.wingId,t.parseWing(n.data)),e.success&&e.success()})},fetchWings:function(e){var t=this;n.get(this.urlWings()).then(function(n){t.set("wingsCollection",n.data.map(t.parseWing.bind(t))),t.trigger("change:wingsCollection"),e.success&&e.success()})},parse:function(e,t){e.civilStateVerbose=s.choices.civilState[e.civilState],e.replyTimeVerbose=r.formatReplyTime(e.replyTime),e.birthdayVerbose=this.parseBirthday({day:e.birthDay,month:e.birthMonth,year:e.birthYear,privacy:e.showBirthday}),this.attributes=e,this.set("wingsCollection",t.map(this.parseWing.bind(this)))},parseWing:function(e){return e.bestDaysVerbose=s.choices.wingDaysChoices[e.bestDays],e.smokingVerbose=s.choices.smoking[e.smoking],e.whereSleepingTypeVerbose=s.choices.whereSleepingType[e.whereSleepingType],e.statusVerbose=s.choices.wingStatus[e.status],e.myProfile=this.me(),e},parseBirthday:function(e){switch(e.privacy){case"F":return e.month+"-"+e.day+"-"+e.year;case"P":return e.month+"-"+e.day;case"N":return""}},save:function(e){var t=this;_.each(e,function(e,n){t.set(n,e),n==="interestedIn"&&t.set(n,[{gender:e}])});var r=_.omit(this.attributes,["replyTimeVerbose","civilStateVerbose","wingsCollection"]);return n.put(this.urlRoot+this.id,r)},setWing:function(e,t){var n=this.findIndexByWingId(e);this.attributes.wingsCollection[n]=t,this.trigger("change:wingsCollection")},findWingById:function(e){return _.find(this.get("wingsCollection"),function(t){return t.id===e})},findIndexByWingId:function(e){var t=null;return _.find(this.get("wingsCollection"),function(n,r){return n.id===e&&(t=r),n.id===e}),t}});return o(u)}),define("views/app/logout",["require","backbone","api2","models/Account","models/ProfileModel"],function(e){var t=e("backbone"),n=e("api2"),r=e("models/Account"),i=e("models/ProfileModel"),s=t.View.extend({logout:function(){var e=this;n.post(n.getApiVersion()+"/noauth/",{}).then(function(){e.goodbye()})},goodbye:function(){n.clearAuthToken(),(new i({id:n.getUserId()})).clear(),(new r({id:n.getUserId()})).clear(),router.navigate("/#/"),location.reload()}});return new s}),define("tmpl!templates/app/account/settings.html",["core/view"],function(e){return e('<form id="settings-form">\n	<div class="form-wrapper">\n		<span class="signal">account signal</span>\n		<legend>Account settings</legend>\n		<div class="control-group clear">\n			<label class="control-label" for="inputName">Name</label>\n			<div class="controls">\n				<input type="text" id="firstName" name="firstName" placeholder="First Name" class="input-small required" value="{{firstName}}" maxlength="14">\n				<input type="text" id="lastName" name="lastName" placeholder="Last Name" class="input-small required" value="{{lastName}}" maxlength="30">\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label" for="inputEmail">Current email</label>\n			<div class="controls">\n				<h1>{{email}}</h1>\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label" for="inputEmail">Change email</label>\n			<div class="controls">\n				<input type="email" name="email" id="inputEmail" placeholder="You new email address" class="input-margin" maxlength="50">\n				<span class="help-block"></span>\n				<input type="email" name="repeatEmail" id="repeatEmail" placeholder="Rewrite your email address" class="" maxlength="50">\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label" for="inputEmail">Change your password</label>\n			<div class="controls">\n				<input type="password" name="password" id="pass" placeholder="You new password" class="input-margin password-line" maxlength="20">\n				<span class="help-block"></span>\n				<input type="password" name="repeatPassword" id="pass2" placeholder="Rewrite your new password" class="password-line" maxlength="20">\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label"for="inputDelete">Delete entire account</label>\n			<div class="controls terms">\n				<p>If you want to delete your account and all services and info associated witht it, click <a href="#/settings/delete">here</a></p>\n			</div>\n		</div>\n	</div>\n	<div class="control-group confirm-changes">\n		<p>To save these settings, please enter your PEOPLEWINGS password</p>\n		<label class="control-label"for="inputPassWrite">Current password</label>\n		<div class="controls">\n			<input type="password" id="inputPasword" name="current_password" class="required password-line" maxlength="20">\n			<span class="help-block"></span>\n		</div>\n	</div><!-- EOF control-group terms -->\n\n	<div class="footer-content">\n		<div class="button-group">\n			<a href="/#/login" class="button">Cancel</a>\n			<button type="submit" id="save-settings-btn" class="button-highlight" data-loading-text="Saving...">Save</button>\n		</div>\n	</div>\n</form>')}),define("views/app/settings",["require","jquery","backbone","api2","utils","tmpl!templates/app/account/settings.html","views/lib/alerts","models/Account"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("tmpl!templates/app/account/settings.html"),o=e("views/lib/alerts"),u=e("models/Account"),a=n.View.extend({el:"#main",events:{"submit form#settings-form":"submitSettings"},validation:{rules:{password:{minlength:8,validpassword:!0},repeatPassword:{minlength:8,equalTo:"#pass"},email:{email:!0},repeatEmail:{email:!0,equalTo:"#inputEmail"}},errorPlacement:function(e,t){e.appendTo(t.nextAll("span.help-block"))}},initialize:function(){this.model=new u({id:r.getUserId()}),this.model.on("change",this.render.bind(this))},render:function(){t(this.el).html(s(this.model.toJSON())),this.$("#settings-form").validate(this.validation)},submitSettings:function(e){e.preventDefault(),this.$("#save-settings-btn").button("loading");var t=i.serializeForm("settings-form"),n={};_.each(t,function(e,t){t!=="repeatPassword"&&t!=="repeatEmail"&&t!=="current_password"&&(n[t]=e)});var r=this;this.model.save(n,t.current_password).then(function(){o.success("Account updated")},function(e){var t=e.length;for(var n=0;n<t;n++)e[n].type==="INCORRECT_PASSWORD"?r.$("#inputPassword").val():o.defaultError()}).fin(function(){r.$("#settings-form")[0].reset(),r.$("#save-settings-btn").button("reset")})}});return a}),define("tmpl!templates/app/account/delete-account.html",["core/view"],function(e){return e('<form id="delete-account-form" cnovalidate="novalidate">\n	<div class="balloon-wrapper">\n		<span class="signal">account signal</span>\n		<div class="balloon-header">\n			<h1>Delete your Peoplewings account !!</h1>\n		</div>\n		<div class="balloon-content">\n			<p>Please provide your password to confirm you fully understand that you\'ll no longer be able to use of this product and all information associated with them, and that your account will be lost</p>\n			<div class="control-group">\n				<label class="control-label" for="inputCurrentPassword">Password</label>\n				<div class="controls">\n					<input type="password" id="currentPassword" name="currentPassword" maxlength="20" placeholder="Your password" class="required" maxlength="20">\n				</div>\n			</div>\n		</div>\n		<div class="balloon-footer">\n			<div class="control-group">\n				<div class="controls">\n			 		<a href="/#/login" class="button">Cancel</a>\n					<button id="delete-account-btn" type="submit" class="button-highlight" data-loading-text="Deleting..." role="button">Delete account</button>\n				</div>\n			</div>\n		</div>\n	</div><!-- EOF static-balloon -->\n</form>\n')}),define("tmpl!templates/lib/responses/account.deleted.html",["core/view"],function(e){return e("<h1>See you soon!</h1>\n<h2>Delete account</h2>\n<p>Your account has been deleted successfully</p>")}),define("views/app/deleteAccount",["require","backbone","api2","utils","views/app/logout","tmpl!templates/app/account/delete-account.html","tmpl!templates/lib/responses/account.deleted.html","models/Account","views/lib/balloon.response"],function(e){var t=e("backbone"),n=e("api2"),r=e("utils"),i=e("views/app/logout"),s=e("tmpl!templates/app/account/delete-account.html"),o=e("tmpl!templates/lib/responses/account.deleted.html"),u=e("models/Account"),a=e("views/lib/balloon.response"),f=t.View.extend({el:"#main",events:{"submit form#delete-account-form":"deleteAccount"},initialize:function(){this.model=new u({id:n.getUserId()})},render:function(){$(this.el).html(s),this.$("#delete-account-form").validate()},deleteAccount:function(e){e.preventDefault();if(!this.$("#"+e.target.id).valid())return;this.$("#delete-account-btn").button("loading");var t=r.serializeForm(e.target.id),n=this;this.model.destroy(t).then(function(){a.render({content:o}),setTimeout(i.goodbye,5e3)},function(){n.$("#delete-account-btn").button("reset"),n.$("#"+e.target.id)[0].reset()})}});return new f}),define("views/app/map",["require","jquery","backbone"],function(e){var t=e("jquery"),n=e("backbone"),r=n.View.extend({markers:{},initialize:function(e){this.el=e.el,this.id=e.id,this.css=e.css,this.styles=_.extend(e.styles||{},{height:"300px"}),this.mapOptions=e.mapOptions||{zoom:1,scrollwheel:!1,center:new google.maps.LatLng(0,0),mapTypeControl:!1,streetViewControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.ROADMAP},this.mapcanvas=t(document.createElement("div")),this.mapcanvas.attr({id:this.id}),this.mapcanvas.css(this.styles),this.css&&this.mapcanvas.addClass(this.css)},render:function(){t(this.el).html(this.mapcanvas),this.map=new google.maps.Map(document.getElementById(this.id),this.mapOptions),this.renderMarkers()},setCenter:function(e){this.map.setCenter(e)},addMarker:function(e){if(!this.markers[e.id]){var t=new google.maps.Marker({map:this.map,position:e.location,title:e.title,icon:e.icon||null});this.markers[e.id]=t}else this.markers[e.id].setPosition(e.location),this.markers[e.id].setTitle(e.title);return!0},deleteMarker:function(e){return this.markers[e]?(this.markers[e].setMap(null),delete this.markers[e],!0):!1},renderMarkers:function(){var e=this.map;_.each(this.markers,function(t){t.setMap(e)})},clearMarkers:function(){_.each(this.markers,function(e){e.setMap(null)})}});return r}),define("tools/blitline",["require"],function(e){function i(e,t){n.push({data:e,callback:t}),s()}function s(){if(r||!n.length)return;r=!0;var e=n.shift();t.submit(e.data,{completed:function(t,n){r=!1,s(),e.callback&&e.callback.call(this,t,n)}})}function o(){return r}var t=new Blitline,n=[],r=!1;return{submit:i,isProcessing:o}}),define("tmpl!templates/app/profile/form.basic.html",["core/view"],function(e){return e('				<div id="upload-avatar" class="avatar">\n					<img id="avatar" src="{{avatar}}" alt="avatar">\n					<div class="edit-click">Change picture</div>\n				</div>\n				<div class="box basic-info">\n					<form id="basic-info-form" data-rel="basic-box">\n						<div class="control-group">\n							<label class="control-label" for="inputGender">I am</label>\n							<div class="controls">\n								<select name="gender" id="inputGender" class="size-large">\n									<option value="Male" {{selected gender \'Male\'}}>Male</option>\n									<option value="Female" {{selected gender \'Female\'}}>Female</option>\n								</select>\n							</div>\n						</div>\n						<div class="control-group">\n							<label class="control-label" for="inputBirthday">Birthday</label>\n							<div class="controls">\n								<select id="id_birthday_month" name="birthMonth" class="size-large required">\n									<option value="">Month</option>\n									{{#each months}}\n									<option value="{{indexPlusOne}}" {{selected ../birthMonth indexPlusOne}}>{{name}}</option>\n									{{/each}}\n								</select>\n								<span class="help-block"></span>\n								<select id="id_birthday_day" name="birthDay" class="size-small required">\n									<option value="">Day</option>\n									{{#range 1 31 1}}\n									<option value="{{self}}" {{selected ../birthDay self}}>{{self}}</option>\n									{{/range}}\n								</select>\n								<span class="help-block"></span>\n								<select id="id_birthday_year" name="birthYear" class="size-medium required">\n									<option value="">Year</option>\n									{{#range 2006 1900 \'-1\'}}\n									<option value="{{self}}" {{selected ../birthYear self}}>{{self}}</option>\n									{{/range}}\n								</select>\n								<span class="help-block"></span>\n								<!--<span class="icon lock-icon"></span>-->\n								<select name="showBirthday" class="size-large lock-info">\n									<option value="F" {{selected showBirthday \'F\'}}>Show full</option>\n									<option value="P" {{selected showBirthday \'P\'}}>Show mm/dd</option>\n									<option value="N" {{selected showBirthday \'N\'}}>Dont show</option>\n								</select>\n								<span class="lock"><i class="icon-lock">Icon lock</i></span>\n								<span class="help-block"></span>\n							</div>\n						</div>\n						<div id="" class="control-group">\n							<label class="control-label">Interested in</label>\n							<div class="controls">\n								<select name="interestedIn" class="size-large">\n									<option value="Both" {{selected interestedIn.0.gender \'Both\'}}>Both</option>\n									<option value="Female" {{selected interestedIn.0.gender \'Female\'}}>Female</option>\n									<option value="Male" {{selected interestedIn.0.gender \'Male\'}}>Male</option>\n								</select>\n								<span class="help-block"></span>\n							</div>\n						</div>\n						<div id="" class="control-group">\n							<label class="control-label" for="inputCivilState">Relationship status</label>\n							<div class="controls">\n								<select name="civilState" class="size-large">\n									<option value="">---------</option>\n									<option value="SI" {{selected civilState \'SI\'}}>Single</option>\n									<option value="EN" {{selected civilState \'EN\'}}>Engaged</option>\n									<option value="MA" {{selected civilState \'MA\'}}>Married</option>\n									<option value="WI" {{selected civilState \'WI\'}}>Widowed</option>\n									<option value="IR" {{selected civilState \'IR\'}}>In a relationship</option>\n									<option value="IO" {{selected civilState \'IO\'}}>Open relationship</option>\n									<option value="IC" {{selected civilState \'IC\'}}>Its complicated</option>\n									<option value="DI" {{selected civilState \'DI\'}}>Divorced</option>\n									<option value="SE" {{selected civilState \'SE\'}}>Separated</option>\n								</select>\n								<span class="help-block"></span>\n							</div>\n						</div>\n						<div id="" class="control-group">\n							<label class="control-label" for="inputLanguage">Languages</label>\n							<div class="controls">\n								<div id="languages-list">\n									{{#each languages}}\n									<div id="language-{{@index}}">\n										<select name="languages" id="language-field-{{@index}}" class="size-large">\n											<option value="" selected="selected">Select Language</option>\n											<option value="Abkhazian" {{selected name \'Abkhazian\'}}>Abkhazian</option>\n											<option value="Acholi" {{selected name \'Acholi\'}}>Acholi</option>\n											<option value="Afar" {{selected name \'Afar\'}}>Afar</option>\n											<option value="Afrikaans" {{selected name \'Afrikaans\'}}>Afrikaans</option>\n											<option value="Ainu" {{selected name \'Ainu\'}}>Ainu</option>\n											<option value="Albanian" {{selected name \'Albanian\'}}>Albanian</option>\n											<option value="Algonquin" {{selected name \'Algonquin\'}}>Algonquin</option>\n											<option value="Alsatian" {{selected name \'Alsatian\'}}>Alsatian</option>\n											<option value="Amharic" {{selected name \'Amharic\'}}>Amharic</option>\n											<option value="Ancient Greek" {{selected name \'Ancient Greek\'}}>Ancient Greek</option>\n											<option value="Arabic" {{selected name \'Arabic\'}}>Arabic</option>\n											<option value="Arabic (Baharna)" {{selected name \'Arabic (Baharna)\'}}>Arabic (Baharna)</option>\n											<option value="Arabic (Egypt)" {{selected name \'Arabic (Egypt)\'}}>Arabic (Egypt)</option>\n											<option value="Arabic (Gulf)" {{selected name \'Arabic (Gulf)\'}}>Arabic (Gulf)</option>\n											<option value="Arabic (Levantine / Shami)" {{selected name \'Arabic (Levantine / Shami)\'}}>Arabic (Levantine / Shami)</option>\n											<option value="Arabic (Morocco)" {{selected name \'Arabic (Morocco)\'}}>Arabic (Morocco)</option>\n											<option value="Arabic (Tunisia)" {{selected name \'Arabic (Tunisia)\'}}>Arabic (Tunisia)</option>\n											<option value="Aragonese" {{selected name \'Aragonese\'}}>Aragonese</option>\n											<option value="Aramaic" {{selected name \'Aramaic\'}}>Aramaic</option>\n											<option value="Armenian" {{selected name \'Armenian\'}}>Armenian</option>\n											<option value="Arpitan" {{selected name \'Arpitan\'}}>Arpitan</option>\n											<option value="Assamese" {{selected name \'Assamese\'}}>Assamese</option>\n											<option value="Asturian" {{selected name \'Asturian\'}}>Asturian</option>\n											<option value="Aymara" {{selected name \'Aymara\'}}>Aymara</option>\n											<option value="Azerbaijani" {{selected name \'Azerbaijani\'}}>Azerbaijani</option>\n											<option value="Bambara" {{selected name \'Bambara\'}}>Bambara</option>\n											<option value="Bashkir" {{selected name \'Bashkir\'}}>Bashkir</option>\n											<option value="Basque" {{selected name \'Basque\'}}>Basque</option>\n											<option value="Belarusian" {{selected name \'Belarusian\'}}>Belarusian</option>\n											<option value="Bengali" {{selected name \'Bengali\'}}>Bengali</option>\n											<option value="Berber" {{selected name \'Berber\'}}>Berber</option>\n											<option value="Bihari" {{selected name \'Bihari\'}}>Bihari</option>\n											<option value="Bislama" {{selected name \'Bislama\'}}>Bislama</option>\n											<option value="Bosnian" {{selected name \'Bosnian\'}}>Bosnian</option>\n											<option value="Breton" {{selected name \'Breton\'}}>Breton</option>\n											<option value="Bulgarian" {{selected name \'Bulgarian\'}}>Bulgarian</option>\n											<option value="Bunun" {{selected name \'Bunun\'}}>Bunun</option>\n											<option value="Burmese" {{selected name \'Burmese\'}}>Burmese</option>\n											<option value="Calabrian" {{selected name \'Calabrian\'}}>Calabrian</option>\n											<option value="Catalan" {{selected name \'Catalan\'}}>Catalan</option>\n											<option value="Chichewa" {{selected name \'Chichewa\'}}>Chichewa</option>\n											<option value="Chilean Sign Language" {{selected name \'Chilean Sign Language\'}}>Chilean Sign Language</option>\n											<option value="Chinese (Mandarin)" {{selected name \'Chinese (Mandarin)\'}}>Chinese (Mandarin)</option>\n											<option value="Chinese (Simplified)" {{selected name \'Chinese (Simplified)\'}}>Chinese (Simplified)</option>\n											<option value="Chinese (Traditional)" {{selected name \'Chinese (Traditional)\'}}>Chinese (Traditional)</option>\n											<option value="Chinuk Wawa" {{selected name \'Chinuk Wawa\'}}>Chinuk Wawa</option>\n											<option value="Chuukese" {{selected name \'Chuukese\'}}>Chuukese</option>\n											<option value="Chuvash" {{selected name \'Chuvash\'}}>Chuvash</option>\n											<option value="Cornish" {{selected name \'Cornish\'}}>Cornish</option>\n											<option value="Corsican" {{selected name \'Corsican\'}}>Corsican</option>\n											<option value="Cree" {{selected name \'Cree\'}}>Cree</option>\n											<option value="Creole" {{selected name \'Creole\'}}>Creole</option>\n											<option value="Creole (Guyana)" {{selected name \'Creole (Guyana)\'}}>Creole (Guyana)</option>\n											<option value="Creole (Haiti)" {{selected name \'Creole (Haiti)\'}}>Creole (Haiti)</option>\n											<option value="Creole (Jamaica)" {{selected name \'Creole (Jamaica)\'}}>Creole (Jamaica)</option>\n											<option value="Creole (Louisiana)" {{selected name \'Creole (Louisiana)\'}}>Creole (Louisiana)</option>\n											<option value="Croatian" {{selected name \'Croatian\'}}>Croatian</option>\n											<option value="Czech" {{selected name \'Czech\'}}>Czech</option>\n											<option value="Danish" {{selected name \'Danish\'}}>Danish</option>\n											<option value="Dari" {{selected name \'Dari\'}}>Dari</option>\n											<option value="Dhivehi" {{selected name \'Dhivehi\'}}>Dhivehi</option>\n											<option value="Dutch" {{selected name \'Dutch\'}}>Dutch</option>\n											<option value="Dutch (Belgium)" {{selected name \'Dutch (Belgium)\'}}>Dutch (Belgium)</option>\n											<option value="Dutch (Netherlands)" {{selected name \'Dutch (Netherlands)\'}}>Dutch (Netherlands)</option>\n											<option value="Dzongkha" {{selected name \'Dzongkha\'}}>Dzongkha</option>\n											<option value="English" {{selected name \'English\'}}>English</option>\n											<option value="English (Australia)" {{selected name \'English (Australia)\'}}>English (Australia)</option>\n											<option value="English (Belize)" {{selected name \'English (Belize)\'}}>English (Belize)</option>\n											<option value="English (Canada)" {{selected name \'English (Canada)\'}}>English (Canada)</option>\n											<option value="English (Caribbean)" {{selected name \'English (Caribbean)\'}}>English (Caribbean)</option>\n											<option value="English (Guyana)" {{selected name \'English (Guyana)\'}}>English (Guyana)</option>\n											<option value="English (Ireland)" {{selected name \'English (Ireland)\'}}>English (Ireland)</option>\n											<option value="English (Jamaica)" {{selected name \'English (Jamaica)\'}}>English (Jamaica)</option>\n											<option value="English (New Zealand)" {{selected name \'English (New Zealand)\'}}>English (New Zealand)</option>\n											<option value="English (Philippines)" {{selected name \'English (Philippines)\'}}>English (Philippines)</option>\n											<option value="English (South Africa)" {{selected name \'English (South Africa)\'}}>English (South Africa)</option>\n											<option value="English (Trinidad)" {{selected name \'English (Trinidad)\'}}>English (Trinidad)</option>\n											<option value="English (United Kingdom)" {{selected name \'English (United Kingdom)\'}}>English (United Kingdom)</option>\n											<option value="English (United States)" {{selected name \'English (United States)\'}}>English (United States)</option>\n											<option value="English (Zimbabwe)" {{selected name \'English (Zimbabwe)\'}}>English (Zimbabwe)</option>\n											<option value="Erzya" {{selected name \'Erzya\'}}>Erzya</option>\n											<option value="Esperanto" {{selected name \'Esperanto\'}}>Esperanto</option>\n											<option value="Estonian" {{selected name \'Estonian\'}}>Estonian</option>\n											<option value="Fang" {{selected name \'Fang\'}}>Fang</option>\n											<option value="Faroese" {{selected name \'Faroese\'}}>Faroese</option>\n											<option value="Fijian" {{selected name \'Fijian\'}}>Fijian</option>\n											<option value="Finnish" {{selected name \'Finnish\'}}>Finnish</option>\n											<option value="French" {{selected name \'French\'}}>French</option>\n											<option value="French (Acadian)" {{selected name \'French (Acadian)\'}}>French (Acadian)</option>\n											<option value="French (Belgium)" {{selected name \'French (Belgium)\'}}>French (Belgium)</option>\n											<option value="French (Cajun)" {{selected name \'French (Cajun)\'}}>French (Cajun)</option>\n											<option value="French (Canada)" {{selected name \'French (Canada)\'}}>French (Canada)</option>\n											<option value="French (France)" {{selected name \'French (France)\'}}>French (France)</option>\n											<option value="French (Luxembourg)" {{selected name \'French (Luxembourg)\'}}>French (Luxembourg)</option>\n											<option value="French (Monaco)" {{selected name \'French (Monaco)\'}}>French (Monaco)</option>\n											<option value="French (Quebec)" {{selected name \'French (Quebec)\'}}>French (Quebec)</option>\n											<option value="French (Switzerland)" {{selected name \'French (Switzerland)\'}}>French (Switzerland)</option>\n											<option value="Frisian" {{selected name \'Frisian\'}}>Frisian</option>\n											<option value="Fulah" {{selected name \'Fulah\'}}>Fulah</option>\n											<option value="Gaelic" {{selected name \'Gaelic\'}}>Gaelic</option>\n											<option value="Galician" {{selected name \'Galician\'}}>Galician</option>\n											<option value="Ganda" {{selected name \'Ganda\'}}>Ganda</option>\n											<option value="Georgian" {{selected name \'Georgian\'}}>Georgian</option>\n											<option value="German" {{selected name \'German\'}}>German</option>\n											<option value="German (Austria)" {{selected name \'German (Austria)\'}}>German (Austria)</option>\n											<option value="German (Germany)" {{selected name \'German (Germany)\'}}>German (Germany)</option>\n											<option value="German (Liechtenstein)" {{selected name \'German (Liechtenstein)\'}}>German (Liechtenstein)</option>\n											<option value="German (Luxembourg)" {{selected name \'German (Luxembourg)\'}}>German (Luxembourg)</option>\n											<option value="German (Switzerland)" {{selected name \'German (Switzerland)\'}}>German (Switzerland)</option>\n											<option value="Greek" {{selected name \'Greek\'}}>Greek</option>\n											<option value="Greenlandic" {{selected name \'Greenlandic\'}}>Greenlandic</option>\n											<option value="Guahibo" {{selected name \'Guahibo\'}}>Guahibo</option>\n											<option value="Guarani" {{selected name \'Guarani\'}}>Guarani</option>\n											<option value="Gujarati" {{selected name \'Gujarati\'}}>Gujarati</option>\n											<option value="Hakka" {{selected name \'Hakka\'}}>Hakka</option>\n											<option value="Hausa" {{selected name \'Hausa\'}}>Hausa</option>\n											<option value="Hawaiian" {{selected name \'Hawaiian\'}}>Hawaiian</option>\n											<option value="Hebrew" {{selected name \'Hebrew\'}}>Hebrew</option>\n											<option value="Hiligaynon" {{selected name \'Hiligaynon\'}}>Hiligaynon</option>\n											<option value="Hindi" {{selected name \'Hindi\'}}>Hindi</option>\n											<option value="Hindko" {{selected name \'Hindko\'}}>Hindko</option>\n											<option value="Hmong" {{selected name \'Hmong\'}}>Hmong</option>\n											<option value="Hungarian" {{selected name \'Hungarian\'}}>Hungarian</option>\n											<option value="Icelandic" {{selected name \'Icelandic\'}}>Icelandic</option>\n											<option value="Igbo" {{selected name \'Igbo\'}}>Igbo</option>\n											<option value="Indonesian" {{selected name \'Indonesian\'}}>Indonesian</option>\n											<option value="Ingush" {{selected name \'Ingush\'}}>Ingush</option>\n											<option value="Interlingua" {{selected name \'Interlingua\'}}>Interlingua</option>\n											<option value="Interlingue" {{selected name \'Interlingue\'}}>Interlingue</option>\n											<option value="Inuktitut" {{selected name \'Inuktitut\'}}>Inuktitut</option>\n											<option value="Inupiaq" {{selected name \'Inupiaq\'}}>Inupiaq</option>\n											<option value="Irish" {{selected name \'Irish\'}}>Irish</option>\n											<option value="Irish Gaelic" {{selected name \'Irish Gaelic\'}}>Irish Gaelic</option>\n											<option value="Italian" {{selected name \'Italian\'}}>Italian</option>\n											<option value="Italian (Italy)" {{selected name \'Italian (Italy)\'}}>Italian (Italy)</option>\n											<option value="Italian (Switzerland)" {{selected name \'Italian (Switzerland)\'}}>Italian (Switzerland)</option>\n											<option value="Japanese" {{selected name \'Japanese\'}}>Japanese</option>\n											<option value="Javanese" {{selected name \'Javanese\'}}>Javanese</option>\n											<option value="Kannada" {{selected name \'Kannada\'}}>Kannada</option>\n											<option value="Kaqchikel" {{selected name \'Kaqchikel\'}}>Kaqchikel</option>\n											<option value="Karelian" {{selected name \'Karelian\'}}>Karelian</option>\n											<option value="Kashmiri" {{selected name \'Kashmiri\'}}>Kashmiri</option>\n											<option value="Kashubian" {{selected name \'Kashubian\'}}>Kashubian</option>\n											<option value="Kazakh" {{selected name \'Kazakh\'}}>Kazakh</option>\n											<option value="Khmer" {{selected name \'Khmer\'}}>Khmer</option>\n											<option value="Kichwa" {{selected name \'Kichwa\'}}>Kichwa</option>\n											<option value="Kinyarwanda" {{selected name \'Kinyarwanda\'}}>Kinyarwanda</option>\n											<option value="Klingon" {{selected name \'Klingon\'}}>Klingon</option>\n											<option value="Komi" {{selected name \'Komi\'}}>Komi</option>\n											<option value="Konkani" {{selected name \'Konkani\'}}>Konkani</option>\n											<option value="Korean" {{selected name \'Korean\'}}>Korean</option>\n											<option value="Kosraean" {{selected name \'Kosraean\'}}>Kosraean</option>\n											<option value="Kurdish" {{selected name \'Kurdish\'}}>Kurdish</option>\n											<option value="Kurmanji" {{selected name \'Kurmanji\'}}>Kurmanji</option>\n											<option value="Kyrgyz" {{selected name \'Kyrgyz\'}}>Kyrgyz</option>\n											<option value="Láadan" {{selected name \'Láadan\'}}>Láadan</option>\n											<option value="Ladakhi" {{selected name \'Ladakhi\'}}>Ladakhi</option>\n											<option value="Ladin" {{selected name \'Ladin\'}}>Ladin</option>\n											<option value="Lao" {{selected name \'Lao\'}}>Lao</option>\n											<option value="Latin" {{selected name \'Latin\'}}>Latin</option>\n											<option value="Latvian" {{selected name \'Latvian\'}}>Latvian</option>\n											<option value="Ligurian" {{selected name \'Ligurian\'}}>Ligurian</option>\n											<option value="Limburgish" {{selected name \'Limburgish\'}}>Limburgish</option>\n											<option value="Lingala" {{selected name \'Lingala\'}}>Lingala</option>\n											<option value="Lithuanian" {{selected name \'Lithuanian\'}}>Lithuanian</option>\n											<option value="Lojban" {{selected name \'Lojban\'}}>Lojban</option>\n											<option value="Lombard" {{selected name \'Lombard\'}}>Lombard</option>\n											<option value="Lower Sorbian" {{selected name \'Lower Sorbian\'}}>Lower Sorbian</option>\n											<option value="Low German" {{selected name \'Low German\'}}>Low German</option>\n											<option value="Luganda" {{selected name \'Luganda\'}}>Luganda</option>\n											<option value="Luxembourgish" {{selected name \'Luxembourgish\'}}>Luxembourgish</option>\n											<option value="Macedonian" {{selected name \'Macedonian\'}}>Macedonian</option>\n											<option value="Maithili" {{selected name \'Maithili\'}}>Maithili</option>\n											<option value="Malagasy" {{selected name \'Malagasy\'}}>Malagasy</option>\n											<option value="Malay" {{selected name \'Malay\'}}>Malay</option>\n											<option value="Malayalam" {{selected name \'Malayalam\'}}>Malayalam</option>\n											<option value="Maltese" {{selected name \'Maltese\'}}>Maltese</option>\n											<option value="Manchu" {{selected name \'Manchu\'}}>Manchu</option>\n											<option value="Manx" {{selected name \'Manx\'}}>Manx</option>\n											<option value="Maori" {{selected name \'Maori\'}}>Maori</option>\n											<option value="Mapudungun" {{selected name \'Mapudungun\'}}>Mapudungun</option>\n											<option value="Marathi" {{selected name \'Marathi\'}}>Marathi</option>\n											<option value="Mari" {{selected name \'Mari\'}}>Mari</option>\n											<option value="Marshallese" {{selected name \'Marshallese\'}}>Marshallese</option>\n											<option value="Min Nan" {{selected name \'Min Nan\'}}>Min Nan</option>\n											<option value="Moksha" {{selected name \'Moksha\'}}>Moksha</option>\n											<option value="Moldovan" {{selected name \'Moldovan\'}}>Moldovan</option>\n											<option value="Mongolian" {{selected name \'Mongolian\'}}>Mongolian</option>\n											<option value="Montenegrin" {{selected name \'Montenegrin\'}}>Montenegrin</option>\n											<option value="More" {{selected name \'More\'}}>More</option>\n											<option value="Mortlockese" {{selected name \'Mortlockese\'}}>Mortlockese</option>\n											<option value="Nahuatl" {{selected name \'Nahuatl\'}}>Nahuatl</option>\n											<option value="Nauruan" {{selected name \'Nauruan\'}}>Nauruan</option>\n											<option value="Navajo" {{selected name \'Navajo\'}}>Navajo</option>\n											<option value="Neapolitan" {{selected name \'Neapolitan\'}}>Neapolitan</option>\n											<option value="Nepal Bhasa" {{selected name \'Nepal Bhasa\'}}>Nepal Bhasa</option>\n											<option value="Nepali" {{selected name \'Nepali\'}}>Nepali</option>\n											<option value="Norwegian" {{selected name \'Norwegian\'}}>Norwegian</option>\n											<option value="Norwegian (Bokmål)" {{selected name \'Norwegian (Bokmål)\'}}>Norwegian (Bokmål)</option>\n											<option value="Norwegian (Nynorsk)" {{selected name \'Norwegian (Nynorsk)\'}}>Norwegian (Nynorsk)</option>\n											<option value="Occitan" {{selected name \'Occitan\'}}>Occitan</option>\n											<option value="Ojibwe" {{selected name \'Ojibwe\'}}>Ojibwe</option>\n											<option value="Okinawan" {{selected name \'Okinawan\'}}>Okinawan</option>\n											<option value="Oriya" {{selected name \'Oriya\'}}>Oriya</option>\n											<option value="Oromo" {{selected name \'Oromo\'}}>Oromo</option>\n											<option value="Ossetian" {{selected name \'Ossetian\'}}>Ossetian</option>\n											<option value="Palauan" {{selected name \'Palauan\'}}>Palauan</option>\n											<option value="Papiamento" {{selected name \'Papiamento\'}}>Papiamento</option>\n											<option value="Pashto" {{selected name \'Pashto\'}}>Pashto</option>\n											<option value="Pemon" {{selected name \'Pemon\'}}>Pemon</option>\n											<option value="Persian" {{selected name \'Persian\'}}>Persian</option>\n											<option value="Pidgin" {{selected name \'Pidgin\'}}>Pidgin</option>\n											<option value="Piedmontese" {{selected name \'Piedmontese\'}}>Piedmontese</option>\n											<option value="Pohnpeian" {{selected name \'Pohnpeian\'}}>Pohnpeian</option>\n											<option value="Polish" {{selected name \'Polish\'}}>Polish</option>\n											<option value="Portuguese" {{selected name \'Portuguese\'}}>Portuguese</option>\n											<option value="Portuguese (Brazil)" {{selected name \'Portuguese (Brazil)\'}}>Portuguese (Brazil)</option>\n											<option value="Portuguese (Portugal)" {{selected name \'Portuguese (Portugal)\'}}>Portuguese (Portugal)</option>\n											<option value="Punjabi" {{selected name \'Punjabi\'}}>Punjabi</option>\n											<option value="Quechua" {{selected name \'Quechua\'}}>Quechua</option>\n											<option value="Quenya" {{selected name \'Quenya\'}}>Quenya</option>\n											<option value="Quiche" {{selected name \'Quiche\'}}>Quiche</option>\n											<option value="Rapa Nui" {{selected name \'Rapa Nui\'}}>Rapa Nui</option>\n											<option value="Romani" {{selected name \'Romani\'}}>Romani</option>\n											<option value="Romanian" {{selected name \'Romanian\'}}>Romanian</option>\n											<option value="Romanian (Moldova)" {{selected name \'Romanian (Moldova)\'}}>Romanian (Moldova)</option>\n											<option value="Romanian (Romania)" {{selected name \'Romanian (Romania)\'}}>Romanian (Romania)</option>\n											<option value="Romansh" {{selected name \'Romansh\'}}>Romansh</option>\n											<option value="Rundi" {{selected name \'Rundi\'}}>Rundi</option>\n											<option value="Russian" {{selected name \'Russian\'}}>Russian</option>\n											<option value="Russian (Moldova)" {{selected name \'Russian (Moldova)\'}}>Russian (Moldova)</option>\n											<option value="Russian (Russia)" {{selected name \'Russian (Russia)\'}}>Russian (Russia)</option>\n											<option value="Sakha" {{selected name \'Sakha\'}}>Sakha</option>\n											<option value="Sami" {{selected name \'Sami\'}}>Sami</option>\n											<option value="Samoan" {{selected name \'Samoan\'}}>Samoan</option>\n											<option value="Sango" {{selected name \'Sango\'}}>Sango</option>\n											<option value="Sanskrit" {{selected name \'Sanskrit\'}}>Sanskrit</option>\n											<option value="Saramaccan" {{selected name \'Saramaccan\'}}>Saramaccan</option>\n											<option value="Sardinian" {{selected name \'Sardinian\'}}>Sardinian</option>\n											<option value="Scots" {{selected name \'Scots\'}}>Scots</option>\n											<option value="Scottish Gaelic" {{selected name \'Scottish Gaelic\'}}>Scottish Gaelic</option>\n											<option value="Serbian (Cyrillic)" {{selected name \'Serbian (Cyrillic)\'}}>Serbian (Cyrillic)</option>\n											<option value="Serbian (Latin)" {{selected name \'Serbian (Latin)\'}}>Serbian (Latin)</option>\n											<option value="Serbo-Croatian" {{selected name \'Serbo-Croatian\'}}>Serbo-Croatian</option>\n											<option value="Shona" {{selected name \'Shona\'}}>Shona</option>\n											<option value="Sibe" {{selected name \'Sibe\'}}>Sibe</option>\n											<option value="Sicilian" {{selected name \'Sicilian\'}}>Sicilian</option>\n											<option value="Sign Language - American" {{selected name \'Sign Language - American\'}}>Sign Language - American</option>\n											<option value="Sign Language - Austrian" {{selected name \'Sign Language - Austrian\'}}>Sign Language - Austrian</option>\n											<option value="Sign Language - Brazilian" {{selected name \'Sign Language - Brazilian\'}}>Sign Language - Brazilian</option>\n											<option value="Sign Language - British" {{selected name \'Sign Language - British\'}}>Sign Language - British</option>\n											<option value="Sign Language - BSL, AUSLAN, NZS" {{selected name \'Sign Language - BSL, AUSLAN, NZS\'}}>Sign Language - BSL, AUSLAN, NZS</option>\n											<option value="Sign Language - Catalan" {{selected name \'Sign Language - Catalan\'}}>Sign Language - Catalan</option>\n											<option value="Sign Language - Chinese" {{selected name \'Sign Language - Chinese\'}}>Sign Language - Chinese</option>\n											<option value="Sign Language - Danish" {{selected name \'Sign Language - Danish\'}}>Sign Language - Danish</option>\n											<option value="Sign Language - Dutch (NGT)" {{selected name \'Sign Language - Dutch (NGT)\'}}>Sign Language - Dutch (NGT)</option>\n											<option value="Sign Language - Finnish" {{selected name \'Sign Language - Finnish\'}}>Sign Language - Finnish</option>\n											<option value="Sign Language - Flemish" {{selected name \'Sign Language - Flemish\'}}>Sign Language - Flemish</option>\n											<option value="Sign Language - French" {{selected name \'Sign Language - French\'}}>Sign Language - French</option>\n											<option value="Sign Language - German" {{selected name \'Sign Language - German\'}}>Sign Language - German</option>\n											<option value="Sign Language - Greek" {{selected name \'Sign Language - Greek\'}}>Sign Language - Greek</option>\n											<option value="Sign Language - Honduran" {{selected name \'Sign Language - Honduran\'}}>Sign Language - Honduran</option>\n											<option value="Sign Language - Honduras" {{selected name \'Sign Language - Honduras\'}}>Sign Language - Honduras</option>\n											<option value="Sign Language - Hungarian" {{selected name \'Sign Language - Hungarian\'}}>Sign Language - Hungarian</option>\n											<option value="Sign Language - Indian" {{selected name \'Sign Language - Indian\'}}>Sign Language - Indian</option>\n											<option value="Sign Language - International" {{selected name \'Sign Language - International\'}}>Sign Language - International</option>\n											<option value="Sign Language - Irish" {{selected name \'Sign Language - Irish\'}}>Sign Language - Irish</option>\n											<option value="Sign Language - Israeli" {{selected name \'Sign Language - Israeli\'}}>Sign Language - Israeli</option>\n											<option value="Sign Language - Italian" {{selected name \'Sign Language - Italian\'}}>Sign Language - Italian</option>\n											<option value="Sign Language - Japanese" {{selected name \'Sign Language - Japanese\'}}>Sign Language - Japanese</option>\n											<option value="Sign Language - Kenyan" {{selected name \'Sign Language - Kenyan\'}}>Sign Language - Kenyan</option>\n											<option value="Sign Language - Korean" {{selected name \'Sign Language - Korean\'}}>Sign Language - Korean</option>\n											<option value="Sign Language - Mexican" {{selected name \'Sign Language - Mexican\'}}>Sign Language - Mexican</option>\n											<option value="Sign Language - New Zealand" {{selected name \'Sign Language - New Zealand\'}}>Sign Language - New Zealand</option>\n											<option value="Sign Language - Nicaragua" {{selected name \'Sign Language - Nicaragua\'}}>Sign Language - Nicaragua</option>\n											<option value="Sign Language - Norwegian" {{selected name \'Sign Language - Norwegian\'}}>Sign Language - Norwegian</option>\n											<option value="Sign Language - Poland" {{selected name \'Sign Language - Poland\'}}>Sign Language - Poland</option>\n											<option value="Sign Language - Quebec" {{selected name \'Sign Language - Quebec\'}}>Sign Language - Quebec</option>\n											<option value="Sign Language - Russian" {{selected name \'Sign Language - Russian\'}}>Sign Language - Russian</option>\n											<option value="Sign Language - Spanish" {{selected name \'Sign Language - Spanish\'}}>Sign Language - Spanish</option>\n											<option value="Sign Language - Swedish" {{selected name \'Sign Language - Swedish\'}}>Sign Language - Swedish</option>\n											<option value="Sign Language - Switzerland" {{selected name \'Sign Language - Switzerland\'}}>Sign Language - Switzerland</option>\n											<option value="Sign Language - Taiwanese" {{selected name \'Sign Language - Taiwanese\'}}>Sign Language - Taiwanese</option>\n											<option value="Sign Language - Trinidad and Tob" {{selected name \'Sign Language - Trinidad and Tob\'}}>Sign Language - Trinidad and Tob</option>\n											<option value="Sign Language - Turkish" {{selected name \'Sign Language - Turkish\'}}>Sign Language - Turkish</option>\n											<option value="Sign Language - Yugoslavian" {{selected name \'Sign Language - Yugoslavian\'}}>Sign Language - Yugoslavian</option>\n											<option value="Silesian" {{selected name \'Silesian\'}}>Silesian</option>\n											<option value="Sindhi" {{selected name \'Sindhi\'}}>Sindhi</option>\n											<option value="Sinhala" {{selected name \'Sinhala\'}}>Sinhala</option>\n											<option value="Slavic Languages" {{selected name \'Slavic Languages\'}}>Slavic Languages</option>\n											<option value="Slovak" {{selected name \'Slovak\'}}>Slovak</option>\n											<option value="Slovenian" {{selected name \'Slovenian\'}}>Slovenian</option>\n											<option value="Slovio" {{selected name \'Slovio\'}}>Slovio</option>\n											<option value="Somali" {{selected name \'Somali\'}}>Somali</option>\n											<option value="Soranî" {{selected name \'Soranî\'}}>Soranî</option>\n											<option value="Sotho" {{selected name \'Sotho\'}}>Sotho</option>\n											<option value="Spanish" {{selected name \'Spanish\'}}>Spanish</option>\n											<option value="Spanish (Argentina)" {{selected name \'Spanish (Argentina)\'}}>Spanish (Argentina)</option>\n											<option value="Spanish (Bolivia)" {{selected name \'Spanish (Bolivia)\'}}>Spanish (Bolivia)</option>\n											<option value="Spanish (Chile)" {{selected name \'Spanish (Chile)\'}}>Spanish (Chile)</option>\n											<option value="Spanish (Colombia)" {{selected name \'Spanish (Colombia)\'}}>Spanish (Colombia)</option>\n											<option value="Spanish (Costa Rica)" {{selected name \'Spanish (Costa Rica)\'}}>Spanish (Costa Rica)</option>\n											<option value="Spanish (Dominican Republic)" {{selected name \'Spanish (Dominican Republic)\'}}>Spanish (Dominican Republic)</option>\n											<option value="Spanish (Ecuador)" {{selected name \'Spanish (Ecuador)\'}}>Spanish (Ecuador)</option>\n											<option value="Spanish (El Salvador)" {{selected name \'Spanish (El Salvador)\'}}>Spanish (El Salvador)</option>\n											<option value="Spanish (Guatemala)" {{selected name \'Spanish (Guatemala)\'}}>Spanish (Guatemala)</option>\n											<option value="Spanish (Honduras)" {{selected name \'Spanish (Honduras)\'}}>Spanish (Honduras)</option>\n											<option value="Spanish (Mexico)" {{selected name \'Spanish (Mexico)\'}}>Spanish (Mexico)</option>\n											<option value="Spanish (Nicaragua)" {{selected name \'Spanish (Nicaragua)\'}}>Spanish (Nicaragua)</option>\n											<option value="Spanish (Panama)" {{selected name \'Spanish (Panama)\'}}>Spanish (Panama)</option>\n											<option value="Spanish (Paraguay)" {{selected name \'Spanish (Paraguay)\'}}>Spanish (Paraguay)</option>\n											<option value="Spanish (Peru)" {{selected name \'Spanish (Peru)\'}}>Spanish (Peru)</option>\n											<option value="Spanish (Puerto Rico)" {{selected name \'Spanish (Puerto Rico)\'}}>Spanish (Puerto Rico)</option>\n											<option value="Spanish (Spain)" {{selected name \'Spanish (Spain)\'}}>Spanish (Spain)</option>\n											<option value="Spanish (Uruguay)" {{selected name \'Spanish (Uruguay)\'}}>Spanish (Uruguay)</option>\n											<option value="Spanish (Venezuela)" {{selected name \'Spanish (Venezuela)\'}}>Spanish (Venezuela)</option>\n											<option value="Sranan Tongo" {{selected name \'Sranan Tongo\'}}>Sranan Tongo</option>\n											<option value="Sundanese" {{selected name \'Sundanese\'}}>Sundanese</option>\n											<option value="Swahili" {{selected name \'Swahili\'}}>Swahili</option>\n											<option value="Swati" {{selected name \'Swati\'}}>Swati</option>\n											<option value="Swedish" {{selected name \'Swedish\'}}>Swedish</option>\n											<option value="Swedish (Finland)" {{selected name \'Swedish (Finland)\'}}>Swedish (Finland)</option>\n											<option value="Swedish (Sweden)" {{selected name \'Swedish (Sweden)\'}}>Swedish (Sweden)</option>\n											<option value="Tagalog" {{selected name \'Tagalog\'}}>Tagalog</option>\n											<option value="Tahitian" {{selected name \'Tahitian\'}}>Tahitian</option>\n											<option value="Taiwanese" {{selected name \'Taiwanese\'}}>Taiwanese</option>\n											<option value="Tajik" {{selected name \'Tajik\'}}>Tajik</option>\n											<option value="Tamil" {{selected name \'Tamil\'}}>Tamil</option>\n											<option value="Tatar" {{selected name \'Tatar\'}}>Tatar</option>\n											<option value="Telugu" {{selected name \'Telugu\'}}>Telugu</option>\n											<option value="Tetum" {{selected name \'Tetum\'}}>Tetum</option>\n											<option value="Thai" {{selected name \'Thai\'}}>Thai</option>\n											<option value="Tibetan" {{selected name \'Tibetan\'}}>Tibetan</option>\n											<option value="Tigrinya" {{selected name \'Tigrinya\'}}>Tigrinya</option>\n											<option value="Tongan" {{selected name \'Tongan\'}}>Tongan</option>\n											<option value="Tsonga" {{selected name \'Tsonga\'}}>Tsonga</option>\n											<option value="Tswana" {{selected name \'Tswana\'}}>Tswana</option>\n											<option value="Turkish" {{selected name \'Turkish\'}}>Turkish</option>\n											<option value="Turkmen" {{selected name \'Turkmen\'}}>Turkmen</option>\n											<option value="Twi" {{selected name \'Twi\'}}>Twi</option>\n											<option value="Udmurt" {{selected name \'Udmurt\'}}>Udmurt</option>\n											<option value="Ukrainian" {{selected name \'Ukrainian\'}}>Ukrainian</option>\n											<option value="Ulster Scots" {{selected name \'Ulster Scots\'}}>Ulster Scots</option>\n											<option value="Upper Sorbian" {{selected name \'Upper Sorbian\'}}>Upper Sorbian</option>\n											<option value="Urdu" {{selected name \'Urdu\'}}>Urdu</option>\n											<option value="Uyghur" {{selected name \'Uyghur\'}}>Uyghur</option>\n											<option value="Uzbek" {{selected name \'Uzbek\'}}>Uzbek</option>\n											<option value="Venetian" {{selected name \'Venetian\'}}>Venetian</option>\n											<option value="Vietnamese" {{selected name \'Vietnamese\'}}>Vietnamese</option>\n											<option value="Volapük" {{selected name \'Volapük\'}}>Volapük</option>\n											<option value="Waray Waray" {{selected name \'Waray Waray\'}}>Waray Waray</option>\n											<option value="Wayuu" {{selected name \'Wayuu\'}}>Wayuu</option>\n											<option value="Welsh" {{selected name \'Welsh\'}}>Welsh</option>\n											<option value="Wolof" {{selected name \'Wolof\'}}>Wolof</option>\n											<option value="Wu" {{selected name \'Wu\'}}>Wu</option>\n											<option value="Xhosa" {{selected name \'Xhosa\'}}>Xhosa</option>\n											<option value="Yapese" {{selected name \'Yapese\'}}>Yapese</option>\n											<option value="Yiddish" {{selected name \'Yiddish\'}}>Yiddish</option>\n											<option value="Yoruba" {{selected name \'Yoruba\'}}>Yoruba</option>\n											<option value="Yucatec Maya" {{selected name \'Yucatec Maya\'}}>Yucatec Maya</option>\n											<option value="Yue (Cantonese)" {{selected name \'Yue (Cantonese)\'}}>Yue (Cantonese)</option>\n											<option value="Yupik" {{selected name \'Yupik\'}}>Yupik</option>\n											<option value="Zulu" {{selected name \'Zulu\'}}>Zulu</option>\n										</select>\n										<select name="levels" id="level-field-{{@index}}" class="size-large">\n											<option value="beginner" {{selected level \'beginner\'}}>Beginner</option>\n											<option value="intermediate" {{selected level \'intermediate\'}}>Intermediate</option>\n											<option value="expert" {{selected level \'expert\'}}>Expert</option>\n										</select>\n									</div>\n									{{/each}}\n	 								<div id="language-tpl">\n									<select name="languages" class="size-large">\n										<option value="" selected="selected">Select Language</option>\n										<option value="Abkhazian" >Abkhazian</option>\n										<option value="Acholi" >Acholi</option>\n										<option value="Afar" >Afar</option>\n										<option value="Afrikaans" >Afrikaans</option>\n										<option value="Ainu" >Ainu</option>\n										<option value="Albanian" >Albanian</option>\n										<option value="Algonquin" >Algonquin</option>\n										<option value="Alsatian" >Alsatian</option>\n										<option value="Amharic" >Amharic</option>\n										<option value="Ancient Greek" >Ancient Greek</option>\n										<option value="Arabic" >Arabic</option>\n										<option value="Arabic (Baharna)" >Arabic (Baharna)</option>\n										<option value="Arabic (Egypt)" >Arabic (Egypt)</option>\n										<option value="Arabic (Gulf)" >Arabic (Gulf)</option>\n										<option value="Arabic (Levantine / Shami)" >Arabic (Levantine / Shami)</option>\n										<option value="Arabic (Morocco)" >Arabic (Morocco)</option>\n										<option value="Arabic (Tunisia)" >Arabic (Tunisia)</option>\n										<option value="Aragonese" >Aragonese</option>\n										<option value="Aramaic" >Aramaic</option>\n										<option value="Armenian" >Armenian</option>\n										<option value="Arpitan" >Arpitan</option>\n										<option value="Assamese" >Assamese</option>\n										<option value="Asturian" >Asturian</option>\n										<option value="Aymara" >Aymara</option>\n										<option value="Azerbaijani" >Azerbaijani</option>\n										<option value="Bambara" >Bambara</option>\n										<option value="Bashkir" >Bashkir</option>\n										<option value="Basque" >Basque</option>\n										<option value="Belarusian" >Belarusian</option>\n										<option value="Bengali" >Bengali</option>\n										<option value="Berber" >Berber</option>\n										<option value="Bihari" >Bihari</option>\n										<option value="Bislama" >Bislama</option>\n										<option value="Bosnian" >Bosnian</option>\n										<option value="Breton" >Breton</option>\n										<option value="Bulgarian" >Bulgarian</option>\n										<option value="Bunun" >Bunun</option>\n										<option value="Burmese" >Burmese</option>\n										<option value="Calabrian" >Calabrian</option>\n										<option value="Catalan" >Catalan</option>\n										<option value="Chichewa" >Chichewa</option>\n										<option value="Chilean Sign Language" >Chilean Sign Language</option>\n										<option value="Chinese (Mandarin)" >Chinese (Mandarin)</option>\n										<option value="Chinese (Simplified)" >Chinese (Simplified)</option>\n										<option value="Chinese (Traditional)" >Chinese (Traditional)</option>\n										<option value="Chinuk Wawa" >Chinuk Wawa</option>\n										<option value="Chuukese" >Chuukese</option>\n										<option value="Chuvash" >Chuvash</option>\n										<option value="Cornish" >Cornish</option>\n										<option value="Corsican" >Corsican</option>\n										<option value="Cree" >Cree</option>\n										<option value="Creole" >Creole</option>\n										<option value="Creole (Guyana)" >Creole (Guyana)</option>\n										<option value="Creole (Haiti)" >Creole (Haiti)</option>\n										<option value="Creole (Jamaica)" >Creole (Jamaica)</option>\n										<option value="Creole (Louisiana)" >Creole (Louisiana)</option>\n										<option value="Croatian" >Croatian</option>\n										<option value="Czech" >Czech</option>\n										<option value="Danish" >Danish</option>\n										<option value="Dari" >Dari</option>\n										<option value="Dhivehi" >Dhivehi</option>\n										<option value="Dutch" >Dutch</option>\n										<option value="Dutch (Belgium)" >Dutch (Belgium)</option>\n										<option value="Dutch (Netherlands)" >Dutch (Netherlands)</option>\n										<option value="Dzongkha" >Dzongkha</option>\n										<option value="English" >English</option>\n										<option value="English (Australia)" >English (Australia)</option>\n										<option value="English (Belize)" >English (Belize)</option>\n										<option value="English (Canada)" >English (Canada)</option>\n										<option value="English (Caribbean)" >English (Caribbean)</option>\n										<option value="English (Guyana)" >English (Guyana)</option>\n										<option value="English (Ireland)" >English (Ireland)</option>\n										<option value="English (Jamaica)" >English (Jamaica)</option>\n										<option value="English (New Zealand)" >English (New Zealand)</option>\n										<option value="English (Philippines)" >English (Philippines)</option>\n										<option value="English (South Africa)" >English (South Africa)</option>\n										<option value="English (Trinidad)" >English (Trinidad)</option>\n										<option value="English (United Kingdom)" >English (United Kingdom)</option>\n										<option value="English (United States)" >English (United States)</option>\n										<option value="English (Zimbabwe)" >English (Zimbabwe)</option>\n										<option value="Erzya" >Erzya</option>\n										<option value="Esperanto" >Esperanto</option>\n										<option value="Estonian" >Estonian</option>\n										<option value="Fang" >Fang</option>\n										<option value="Faroese" >Faroese</option>\n										<option value="Fijian" >Fijian</option>\n										<option value="Finnish" >Finnish</option>\n										<option value="French" >French</option>\n										<option value="French (Acadian)" >French (Acadian)</option>\n										<option value="French (Belgium)" >French (Belgium)</option>\n										<option value="French (Cajun)" >French (Cajun)</option>\n										<option value="French (Canada)" >French (Canada)</option>\n										<option value="French (France)" >French (France)</option>\n										<option value="French (Luxembourg)" >French (Luxembourg)</option>\n										<option value="French (Monaco)" >French (Monaco)</option>\n										<option value="French (Quebec)" >French (Quebec)</option>\n										<option value="French (Switzerland)" >French (Switzerland)</option>\n										<option value="Frisian" >Frisian</option>\n										<option value="Fulah" >Fulah</option>\n										<option value="Gaelic" >Gaelic</option>\n										<option value="Galician" >Galician</option>\n										<option value="Ganda" >Ganda</option>\n										<option value="Georgian" >Georgian</option>\n										<option value="German" >German</option>\n										<option value="German (Austria)" >German (Austria)</option>\n										<option value="German (Germany)" >German (Germany)</option>\n										<option value="German (Liechtenstein)" >German (Liechtenstein)</option>\n										<option value="German (Luxembourg)" >German (Luxembourg)</option>\n										<option value="German (Switzerland)" >German (Switzerland)</option>\n										<option value="Greek" >Greek</option>\n										<option value="Greenlandic" >Greenlandic</option>\n										<option value="Guahibo" >Guahibo</option>\n										<option value="Guarani" >Guarani</option>\n										<option value="Gujarati" >Gujarati</option>\n										<option value="Hakka" >Hakka</option>\n										<option value="Hausa" >Hausa</option>\n										<option value="Hawaiian" >Hawaiian</option>\n										<option value="Hebrew" >Hebrew</option>\n										<option value="Hiligaynon" >Hiligaynon</option>\n										<option value="Hindi" >Hindi</option>\n										<option value="Hindko" >Hindko</option>\n										<option value="Hmong" >Hmong</option>\n										<option value="Hungarian" >Hungarian</option>\n										<option value="Icelandic" >Icelandic</option>\n										<option value="Igbo" >Igbo</option>\n										<option value="Indonesian" >Indonesian</option>\n										<option value="Ingush" >Ingush</option>\n										<option value="Interlingua" >Interlingua</option>\n										<option value="Interlingue" >Interlingue</option>\n										<option value="Inuktitut" >Inuktitut</option>\n										<option value="Inupiaq" >Inupiaq</option>\n										<option value="Irish" >Irish</option>\n										<option value="Irish Gaelic" >Irish Gaelic</option>\n										<option value="Italian" >Italian</option>\n										<option value="Italian (Italy)" >Italian (Italy)</option>\n										<option value="Italian (Switzerland)" >Italian (Switzerland)</option>\n										<option value="Japanese" >Japanese</option>\n										<option value="Javanese" >Javanese</option>\n										<option value="Kannada" >Kannada</option>\n										<option value="Kaqchikel" >Kaqchikel</option>\n										<option value="Karelian" >Karelian</option>\n										<option value="Kashmiri" >Kashmiri</option>\n										<option value="Kashubian" >Kashubian</option>\n										<option value="Kazakh" >Kazakh</option>\n										<option value="Khmer" >Khmer</option>\n										<option value="Kichwa" >Kichwa</option>\n										<option value="Kinyarwanda" >Kinyarwanda</option>\n										<option value="Klingon" >Klingon</option>\n										<option value="Komi" >Komi</option>\n										<option value="Konkani" >Konkani</option>\n										<option value="Korean" >Korean</option>\n										<option value="Kosraean" >Kosraean</option>\n										<option value="Kurdish" >Kurdish</option>\n										<option value="Kurmanji" >Kurmanji</option>\n										<option value="Kyrgyz" >Kyrgyz</option>\n										<option value="Láadan" >Láadan</option>\n										<option value="Ladakhi" >Ladakhi</option>\n										<option value="Ladin" >Ladin</option>\n										<option value="Lao" >Lao</option>\n										<option value="Latin" >Latin</option>\n										<option value="Latvian" >Latvian</option>\n										<option value="Ligurian" >Ligurian</option>\n										<option value="Limburgish" >Limburgish</option>\n										<option value="Lingala" >Lingala</option>\n										<option value="Lithuanian" >Lithuanian</option>\n										<option value="Lojban" >Lojban</option>\n										<option value="Lombard" >Lombard</option>\n										<option value="Lower Sorbian" >Lower Sorbian</option>\n										<option value="Low German" >Low German</option>\n										<option value="Luganda" >Luganda</option>\n										<option value="Luxembourgish" >Luxembourgish</option>\n										<option value="Macedonian" >Macedonian</option>\n										<option value="Maithili" >Maithili</option>\n										<option value="Malagasy" >Malagasy</option>\n										<option value="Malay" >Malay</option>\n										<option value="Malayalam" >Malayalam</option>\n										<option value="Maltese" >Maltese</option>\n										<option value="Manchu" >Manchu</option>\n										<option value="Manx" >Manx</option>\n										<option value="Maori" >Maori</option>\n										<option value="Mapudungun" >Mapudungun</option>\n										<option value="Marathi" >Marathi</option>\n										<option value="Mari" >Mari</option>\n										<option value="Marshallese" >Marshallese</option>\n										<option value="Min Nan" >Min Nan</option>\n										<option value="Moksha" >Moksha</option>\n										<option value="Moldovan" >Moldovan</option>\n										<option value="Mongolian" >Mongolian</option>\n										<option value="Montenegrin" >Montenegrin</option>\n										<option value="More" >More</option>\n										<option value="Mortlockese" >Mortlockese</option>\n										<option value="Nahuatl" >Nahuatl</option>\n										<option value="Nauruan" >Nauruan</option>\n										<option value="Navajo" >Navajo</option>\n										<option value="Neapolitan" >Neapolitan</option>\n										<option value="Nepal Bhasa" >Nepal Bhasa</option>\n										<option value="Nepali" >Nepali</option>\n										<option value="Norwegian" >Norwegian</option>\n										<option value="Norwegian (Bokmål)" >Norwegian (Bokmål)</option>\n										<option value="Norwegian (Nynorsk)" >Norwegian (Nynorsk)</option>\n										<option value="Occitan" >Occitan</option>\n										<option value="Ojibwe" >Ojibwe</option>\n										<option value="Okinawan" >Okinawan</option>\n										<option value="Oriya" >Oriya</option>\n										<option value="Oromo" >Oromo</option>\n										<option value="Ossetian" >Ossetian</option>\n										<option value="Palauan" >Palauan</option>\n										<option value="Papiamento" >Papiamento</option>\n										<option value="Pashto" >Pashto</option>\n										<option value="Pemon" >Pemon</option>\n										<option value="Persian" >Persian</option>\n										<option value="Pidgin" >Pidgin</option>\n										<option value="Piedmontese" >Piedmontese</option>\n										<option value="Pohnpeian" >Pohnpeian</option>\n										<option value="Polish" >Polish</option>\n										<option value="Portuguese" >Portuguese</option>\n										<option value="Portuguese (Brazil)" >Portuguese (Brazil)</option>\n										<option value="Portuguese (Portugal)" >Portuguese (Portugal)</option>\n										<option value="Punjabi" >Punjabi</option>\n										<option value="Quechua" >Quechua</option>\n										<option value="Quenya" >Quenya</option>\n										<option value="Quiche" >Quiche</option>\n										<option value="Rapa Nui" >Rapa Nui</option>\n										<option value="Romani" >Romani</option>\n										<option value="Romanian" >Romanian</option>\n										<option value="Romanian (Moldova)" >Romanian (Moldova)</option>\n										<option value="Romanian (Romania)" >Romanian (Romania)</option>\n										<option value="Romansh" >Romansh</option>\n										<option value="Rundi" >Rundi</option>\n										<option value="Russian" >Russian</option>\n										<option value="Russian (Moldova)" >Russian (Moldova)</option>\n										<option value="Russian (Russia)" >Russian (Russia)</option>\n										<option value="Sakha" >Sakha</option>\n										<option value="Sami" >Sami</option>\n										<option value="Samoan" >Samoan</option>\n										<option value="Sango" >Sango</option>\n										<option value="Sanskrit" >Sanskrit</option>\n										<option value="Saramaccan" >Saramaccan</option>\n										<option value="Sardinian" >Sardinian</option>\n										<option value="Scots" >Scots</option>\n										<option value="Scottish Gaelic" >Scottish Gaelic</option>\n										<option value="Serbian (Cyrillic)" >Serbian (Cyrillic)</option>\n										<option value="Serbian (Latin)" >Serbian (Latin)</option>\n										<option value="Serbo-Croatian" >Serbo-Croatian</option>\n										<option value="Shona" >Shona</option>\n										<option value="Sibe" >Sibe</option>\n										<option value="Sicilian" >Sicilian</option>\n										<option value="Sign Language - American" >Sign Language - American</option>\n										<option value="Sign Language - Austrian" >Sign Language - Austrian</option>\n										<option value="Sign Language - Brazilian" >Sign Language - Brazilian</option>\n										<option value="Sign Language - British" >Sign Language - British</option>\n										<option value="Sign Language - BSL, AUSLAN, NZS" >Sign Language - BSL, AUSLAN, NZS</option>\n										<option value="Sign Language - Catalan" >Sign Language - Catalan</option>\n										<option value="Sign Language - Chinese" >Sign Language - Chinese</option>\n										<option value="Sign Language - Danish" >Sign Language - Danish</option>\n										<option value="Sign Language - Dutch (NGT)" >Sign Language - Dutch (NGT)</option>\n										<option value="Sign Language - Finnish" >Sign Language - Finnish</option>\n										<option value="Sign Language - Flemish" >Sign Language - Flemish</option>\n										<option value="Sign Language - French" >Sign Language - French</option>\n										<option value="Sign Language - German" >Sign Language - German</option>\n										<option value="Sign Language - Greek" >Sign Language - Greek</option>\n										<option value="Sign Language - Honduran" >Sign Language - Honduran</option>\n										<option value="Sign Language - Honduras" >Sign Language - Honduras</option>\n										<option value="Sign Language - Hungarian" >Sign Language - Hungarian</option>\n										<option value="Sign Language - Indian" >Sign Language - Indian</option>\n										<option value="Sign Language - International" >Sign Language - International</option>\n										<option value="Sign Language - Irish" >Sign Language - Irish</option>\n										<option value="Sign Language - Israeli" >Sign Language - Israeli</option>\n										<option value="Sign Language - Italian" >Sign Language - Italian</option>\n										<option value="Sign Language - Japanese" >Sign Language - Japanese</option>\n										<option value="Sign Language - Kenyan" >Sign Language - Kenyan</option>\n										<option value="Sign Language - Korean" >Sign Language - Korean</option>\n										<option value="Sign Language - Mexican" >Sign Language - Mexican</option>\n										<option value="Sign Language - New Zealand" >Sign Language - New Zealand</option>\n										<option value="Sign Language - Nicaragua" >Sign Language - Nicaragua</option>\n										<option value="Sign Language - Norwegian" >Sign Language - Norwegian</option>\n										<option value="Sign Language - Poland" >Sign Language - Poland</option>\n										<option value="Sign Language - Quebec" >Sign Language - Quebec</option>\n										<option value="Sign Language - Russian" >Sign Language - Russian</option>\n										<option value="Sign Language - Spanish" >Sign Language - Spanish</option>\n										<option value="Sign Language - Swedish" >Sign Language - Swedish</option>\n										<option value="Sign Language - Switzerland" >Sign Language - Switzerland</option>\n										<option value="Sign Language - Taiwanese" >Sign Language - Taiwanese</option>\n										<option value="Sign Language - Trinidad and Tob" >Sign Language - Trinidad and Tob</option>\n										<option value="Sign Language - Turkish" >Sign Language - Turkish</option>\n										<option value="Sign Language - Yugoslavian" >Sign Language - Yugoslavian</option>\n										<option value="Silesian" >Silesian</option>\n										<option value="Sindhi" >Sindhi</option>\n										<option value="Sinhala" >Sinhala</option>\n										<option value="Slavic Languages" >Slavic Languages</option>\n										<option value="Slovak" >Slovak</option>\n										<option value="Slovenian" >Slovenian</option>\n										<option value="Slovio" >Slovio</option>\n										<option value="Somali" >Somali</option>\n										<option value="Soranî" >Soranî</option>\n										<option value="Sotho" >Sotho</option>\n										<option value="Spanish" >Spanish</option>\n										<option value="Spanish (Argentina)" >Spanish (Argentina)</option>\n										<option value="Spanish (Bolivia)" >Spanish (Bolivia)</option>\n										<option value="Spanish (Chile)" >Spanish (Chile)</option>\n										<option value="Spanish (Colombia)" >Spanish (Colombia)</option>\n										<option value="Spanish (Costa Rica)" >Spanish (Costa Rica)</option>\n										<option value="Spanish (Dominican Republic)" >Spanish (Dominican Republic)</option>\n										<option value="Spanish (Ecuador)" >Spanish (Ecuador)</option>\n										<option value="Spanish (El Salvador)" >Spanish (El Salvador)</option>\n										<option value="Spanish (Guatemala)" >Spanish (Guatemala)</option>\n										<option value="Spanish (Honduras)" >Spanish (Honduras)</option>\n										<option value="Spanish (Mexico)" >Spanish (Mexico)</option>\n										<option value="Spanish (Nicaragua)" >Spanish (Nicaragua)</option>\n										<option value="Spanish (Panama)" >Spanish (Panama)</option>\n										<option value="Spanish (Paraguay)" >Spanish (Paraguay)</option>\n										<option value="Spanish (Peru)" >Spanish (Peru)</option>\n										<option value="Spanish (Puerto Rico)" >Spanish (Puerto Rico)</option>\n										<option value="Spanish (Spain)" >Spanish (Spain)</option>\n										<option value="Spanish (Uruguay)" >Spanish (Uruguay)</option>\n										<option value="Spanish (Venezuela)" >Spanish (Venezuela)</option>\n										<option value="Sranan Tongo" >Sranan Tongo</option>\n										<option value="Sundanese" >Sundanese</option>\n										<option value="Swahili" >Swahili</option>\n										<option value="Swati" >Swati</option>\n										<option value="Swedish" >Swedish</option>\n										<option value="Swedish (Finland)" >Swedish (Finland)</option>\n										<option value="Swedish (Sweden)" >Swedish (Sweden)</option>\n										<option value="Tagalog" >Tagalog</option>\n										<option value="Tahitian" >Tahitian</option>\n										<option value="Taiwanese" >Taiwanese</option>\n										<option value="Tajik" >Tajik</option>\n										<option value="Tamil" >Tamil</option>\n										<option value="Tatar" >Tatar</option>\n										<option value="Telugu" >Telugu</option>\n										<option value="Tetum" >Tetum</option>\n										<option value="Thai" >Thai</option>\n										<option value="Tibetan" >Tibetan</option>\n										<option value="Tigrinya" >Tigrinya</option>\n										<option value="Tongan" >Tongan</option>\n										<option value="Tsonga" >Tsonga</option>\n										<option value="Tswana" >Tswana</option>\n										<option value="Turkish" >Turkish</option>\n										<option value="Turkmen" >Turkmen</option>\n										<option value="Twi" >Twi</option>\n										<option value="Udmurt" >Udmurt</option>\n										<option value="Ukrainian" >Ukrainian</option>\n										<option value="Ulster Scots" >Ulster Scots</option>\n										<option value="Upper Sorbian" >Upper Sorbian</option>\n										<option value="Urdu" >Urdu</option>\n										<option value="Uyghur" >Uyghur</option>\n										<option value="Uzbek" >Uzbek</option>\n										<option value="Venetian" >Venetian</option>\n										<option value="Vietnamese" >Vietnamese</option>\n										<option value="Volapük" >Volapük</option>\n										<option value="Waray Waray" >Waray Waray</option>\n										<option value="Wayuu" >Wayuu</option>\n										<option value="Welsh" >Welsh</option>\n										<option value="Wolof" >Wolof</option>\n										<option value="Wu" >Wu</option>\n										<option value="Xhosa" >Xhosa</option>\n										<option value="Yapese" >Yapese</option>\n										<option value="Yiddish" >Yiddish</option>\n										<option value="Yoruba" >Yoruba</option>\n										<option value="Yucatec Maya" >Yucatec Maya</option>\n										<option value="Yue (Cantonese)" >Yue (Cantonese)</option>\n										<option value="Yupik" >Yupik</option>\n										<option value="Zulu" >Zulu</option>\n									</select>\n									<select name="levels" class="size-large">\n										<option value="beginner" selected="selected">Beginner</option>\n										<option value="intermediate">Intermediate</option>\n										<option value="expert">Expert</option>\n									</select>\n								</div>\n							</div>\n						</div>\n					</div><!-- EOF control-group -->\n				</div><!-- EOF basic-info -->\n				<div class="basic-info-footer">\n					<button form="basic-info-form" id="save-profile-btn" type="submit" class="button2 yellow" data-loading-text="Saving...">Save</button>\n					<button class="button2 cancel-edition-btn" data-rel="basic-box">Cancel</button>\n				</div>\n			</form>\n')}),define("tmpl!templates/app/profile/form.about.html",["core/view"],function(e){return e('<div class="box-standard">\n	<form id="about-me-form" data-rel="about-box">\n		<div class="box-header">\n			<i class="icon-about">About icon</i>\n			<h2>About me</h2>\n		</div>\n		<div class="box-content">\n			<div class="control-group">\n				<label class="control-label" for="inputAllAboutYou">All about you</label>\n				<div class="controls">\n					<textarea name="allAboutYou" rows="5" class="span6" placeholder="A description about you, can be anything" maxlength="500">{{allAboutYou}}</textarea>\n					<span class="help-block"></span>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label" for="inputMainMission">Current mission</label>\n				<div class="controls">\n					<textarea name="mainMission" rows="5" class="span6" placeholder="What is your current mission objective. Be creative, imaginative, wacky if you need to be" maxlength="100">{{mainMission}}</textarea>\n					<span class="help-block"></span>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label" for="inputOccupation">Occupation</label>\n				<div class="controls">\n					<input name="occupation" type="text" value="{{occupation}}" maxlength="100" placeholder="Current occupation" id="inputOccupation" size="20">\n					<span class="help-block"></span>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label" for="inputCompany">Company</label>\n				<div class="controls">\n					<input name="company" type="text" value="{{company}}" maxlength="100" placeholder="Where have you worked?" id="id_form-0-company" size="20">\n					<span class="help-block"></span>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label category-another" for="inputEducation">Education</label>\n				<div class="controls">\n					<div id="education-list">\n						{{#each education}}\n						<div id="education-{{@index}}">\n							<input type="text" name="education" value="{{self}}" id="institution-field-{{@index}}" class="span4 autocompleteStudy" data-provide="typeahead" autocomplete="off"maxlength="100">\n						</div>\n						{{/each}}\n						<div id="education-tpl">\n							<input type="text"  name="education" class="span4 autocompleteStudy" data-provide="typeahead" autocomplete="off" maxlength="100" placeholder="College">\n						</div>\n					</div>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label" for="inputPersonalPhilosophy">Personal philosophy</label>\n				<div class="controls">\n					<textarea name="personalPhilosophy" rows="8" class="span6" placeholder="What is your personal phylosophy? Why live your life? Feelings? Thoughts?" maxlength="1000">{{personalPhilosophy}}</textarea>\n					<span class="help-block"></span>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label" for="inputPoliticalOpinion">Political views</label>\n				<div class="controls">\n					<input name="politicalOpinion" type="text" value="{{politicalOpinion}}" maxlength="500" placeholder="What are your politics?" id="id_f2-0-political_opinion" size="500">\n					<span class="help-block"></span>\n				</div>\n			</div>\n			<div id="religion-input" class="control-group">\n				<label class="control-label" for="inputReligion">Religion</label>\n				<div class="controls">\n					<input name="religion" type="text" value="{{religion}}" maxlength="500" placeholder="What are your religious beliefs" id="id_f2-0-religion" size="20">\n					<span class="help-block"></span>\n				</div>\n			</div>\n		</div><!-- EOF box-content -->\n		<div class="box-footer accordion-heading">\n			<div class="button-group">\n				<button class="button cancel-edition-btn" data-rel="about-box">Cancel</button>\n				<button id="save-profile-btn" type="submit" class="button-highlight" data-loading-text="Saving...">Save</button>\n			</div>\n		</div><!-- EOF box-footer -->\n	</form>\n</div><!-- EOF box-standard -->\n')}),define("tmpl!templates/app/profile/form.likes.html",["core/view"],function(e){return e('					<div class="box-standard">\n						<form id="likes-form" data-rel="likes-box">\n							<div class="box-header">\n								<i class="icon-like">About icon</i>\n								<h2>Likes</h2>\n							</div><!-- EOF box-header -->\n							<div class="box-content">\n								<div class="control-group">\n									<label class="control-label" for="id_enjoy_people">People I enjoy</label>\n									<div class="controls">\n										<input name="enjoyPeople" id="id_enjoy_people" placeholder="What kind of people you like to know and learn from them" type="text" size="500" value="{{ enjoyPeople }}" maxlength="500">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_movies">Movies, series, books, games...</label>\n									<div class="controls">\n										<input name="movies" value="{{movies}}" id="id_movies" type="text" size="550" maxlength="500">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_sports">Sports</label>\n									<div class="controls">\n										<input name="sports" value="{{sports}}" id="id_sports" type="text" size="500" maxlength="500">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_other_pages">Other webpages</label>\n									<div class="controls">\n										<input name="otherPages" value="{{otherPages}}" id="id_other_pages" placeholder="Other webpages and applications you like" type="text" size="500" maxlength="500">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_sharing">Show, learn, share...</label>\n									<div class="controls">\n										<input name="sharing" value="{{sharing}}" id="id_sharing" placeholder="What do you like to teach, learn or share?" type="text" size="1000" maxlength="1000">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_incredible">Amazing things done/seen</label>\n									<div class="controls">\n										<input name="incredible" value="{{incredible}}" id="id_incredible" placeholder="Any amazing thing you\'ve seen or done in your life" type="text"  maxlength="1000" size="1000">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_inspired_by">People who inspires you</label>\n									<div class="controls">\n										<input name="inspiredBy" value="{{inspiredBy}}" id="id_inspired_by" type="text" size="500" maxlength="500">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_quotes">Favorite quotations</label>\n									<div class="controls">\n										<textarea name="quotes" rows="4" id="id_quotes" size="500" cols="40" style="width:90%" maxlength="500">{{quotes}}</textarea>\n										<span class="help-inline"></span>\n									</div>\n								</div>\n								<div class="control-group">\n									<label class="control-label" for="id_pw_opinion">Your opinion please</label>\n									<div class="controls">\n										<input name="pwOpinion" value="{{pwOpinion}}" id="id_pw_opinion" placeholder="Your opinion about PEOPLEWINGS" type="text" size="500" maxlength="500">\n										<span class="help-inline"></span>\n									</div>\n								</div>\n							</div><!-- EOF box-content -->\n							<div class="box-footer accordion-heading">\n								<div class="button-group">\n									<button class="button cancel-edition-btn" data-rel="likes-box">Cancel</button>\n									<button id="save-profile-btn" type="submit" class="button-highlight" data-loading-text="Saving...">Save</button>\n								</div>\n							</div><!-- EOF box-footer -->\n						</form>\n				</div><!-- EOF box-standard -->')}),define("tmpl!templates/app/profile/form.contact.html",["core/view"],function(e){return e('<div class="box-standard">\n	<form id="contact-form" data-rel="contact-box">\n		<div class="box-header">\n			<i class="icon-contact">Contact icon</i>\n			<h2>Contact info</h2>\n		</div>\n		<div class="guest-message">\n			<h2 class="lock-icon">Shown only to Confirmed Guests</h2>\n			<p>To protect your privacy, we hide your address, phone number, and contact information from users that have not confirmed a reservation with you</p>\n		</div><!-- EOF guest-message -->\n		<div class="box-content contact-info">\n			<div class="control-group">\n				<label class="control-label" for="textarea"><label for="id_form-0-emails">Email</label></label>\n				<div class="controls">\n					<input name="emails" id="id_form-0-emails" type="text" value="{{emails}}" maxlength="100">\n					<span class="help-block"></span>\n					<span class="help-inline"></span>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label" for="textarea"><label for="id_form-0-phone">Phone</label></label>\n				<div class="controls">\n					<input name="phone" id="id_form-0-phone" type="text" value="{{phone}}" maxlength="100">\n					<span class="help-block"></span>\n				</div>\n			</div>\n			<div class="control-group">\n				<label class="control-label" for="textarea"><label for="socialNetwork">Social Network</label></label>\n				<div class="controls">\n					<div id="socialNetwork-list">\n						{{#each socialNetworks}}\n						<div id="social-{{@index}}">\n							<select name="socialNetworks" id="socialNetwork-{{@index}}" class="size-13">\n								<option value="" selected="selected">Select Network</option>\n								<option value="Facebook" {{selected socialNetwork \'Facebook\'}}>Facebook</option>\n								<option value="Twitter" {{selected socialNetwork \'Twitter\'}}>Twitter</option>\n								<option value="LinkedIn" {{selected socialNetwork \'LinkedIn\'}}>LinkedIn</option>\n								<option value="Google+" {{selected socialNetwork \'Google+\'}}>Google+</option>\n								<option value="--------------" {{selected socialNetwork \'--------------\'}}>--------------</option>\n								<option value="43 Things" {{selected socialNetwork \'43 Things\'}}>43 Things</option>\n								<option value="Academia.edu" {{selected socialNetwork \'Academia.edu\'}}>Academia.edu</option>\n								<option value="Advogato" {{selected socialNetwork \'Advogato\'}}>Advogato</option>\n								<option value="aNobii" {{selected socialNetwork \'aNobii\'}}>aNobii</option>\n								<option value="AsianAvenue" {{selected socialNetwork \'AsianAvenue\'}}>AsianAvenue</option>\n								<option value="aSmallWorld" {{selected socialNetwork \'aSmallWorld\'}}>aSmallWorld</option>\n								<option value="Athlinks" {{selected socialNetwork \'Athlinks\'}}>Athlinks</option>\n								<option value="Audimated.com" {{selected socialNetwork \'Audimated.com\'}}>Audimated.com</option>\n								<option value="Bebo" {{selected socialNetwork \'Bebo\'}}>Bebo</option>\n								<option value="BIGADDA" {{selected socialNetwork \'BIGADDA\'}}>BIGADDA</option>\n								<option value="Biip.no" {{selected socialNetwork \'Biip.no\'}}>Biip.no</option>\n								<option value="BlackPlanet" {{selected socialNetwork \'BlackPlanet\'}}>BlackPlanet</option>\n								<option value="Blauk" {{selected socialNetwork \'Blauk\'}}>Blauk</option>\n								<option value="Blogster" {{selected socialNetwork \'Blogster\'}}>Blogster</option>\n								<option value="Bolt.com" {{selected socialNetwork \'Bolt.com\'}}>Bolt.com</option>\n								<option value="Busuu" {{selected socialNetwork \'Busuu\'}}>Busuu</option>\n								<option value="Buzznet" {{selected socialNetwork \'Buzznet\'}}>Buzznet</option>\n								<option value="CafeMom" {{selected socialNetwork \'CafeMom\'}}>CafeMom</option>\n								<option value="Care2" {{selected socialNetwork \'Care2\'}}>Care2</option>\n								<option value="CaringBridge" {{selected socialNetwork \'CaringBridge\'}}>CaringBridge</option>\n								<option value="Classmates.com" {{selected socialNetwork \'Classmates.com\'}}>Classmates.com</option>\n								<option value="Cloob" {{selected socialNetwork \'Cloob\'}}>Cloob</option>\n								<option value="CouchSurfing" {{selected socialNetwork \'CouchSurfing\'}}>CouchSurfing</option>\n								<option value="CozyCot" {{selected socialNetwork \'CozyCot\'}}>CozyCot</option>\n								<option value="Cross.tv" {{selected socialNetwork \'Cross.tv\'}}>Cross.tv</option>\n								<option value="Crunchyroll" {{selected socialNetwork \'Crunchyroll\'}}>Crunchyroll</option>\n								<option value="Cyworld" {{selected socialNetwork \'Cyworld\'}}>Cyworld</option>\n								<option value="DailyBooth" {{selected socialNetwork \'DailyBooth\'}}>DailyBooth</option>\n								<option value="DailyStrength" {{selected socialNetwork \'DailyStrength\'}}>DailyStrength</option>\n								<option value="delicious" {{selected socialNetwork \'delicious\'}}>delicious</option>\n								<option value="deviantART" {{selected socialNetwork \'deviantART\'}}>deviantART</option>\n								<option value="Diaspora*" {{selected socialNetwork \'Diaspora*\'}}>Diaspora*</option>\n								<option value="Disaboom" {{selected socialNetwork \'Disaboom\'}}>Disaboom</option>\n								<option value="Dol2day" {{selected socialNetwork \'Dol2day\'}}>Dol2day</option>\n								<option value="DontStayIn" {{selected socialNetwork \'DontStayIn\'}}>DontStayIn</option>\n								<option value="Draugiem.lv" {{selected socialNetwork \'Draugiem.lv\'}}>Draugiem.lv</option>\n								<option value="douban" {{selected socialNetwork \'douban\'}}>douban</option>\n								<option value="DXY.cn" {{selected socialNetwork \'DXY.cn\'}}>DXY.cn</option>\n								<option value="Elftown" {{selected socialNetwork \'Elftown\'}}>Elftown</option>\n								<option value="Elixio" {{selected socialNetwork \'Elixio\'}}>Elixio</option>\n								<option value="English, baby!" {{selected socialNetwork \'English, baby!\'}}>English, baby!</option>\n								<option value="Epernicus" {{selected socialNetwork \'Epernicus\'}}>Epernicus</option>\n								<option value="Eons.com" {{selected socialNetwork \'Eons.com\'}}>Eons.com</option>\n								<option value="eToro" {{selected socialNetwork \'eToro\'}}>eToro</option>\n								<option value="Experience Project" {{selected socialNetwork \'Experience Project\'}}>Experience Project</option>\n								<option value="Exploroo" {{selected socialNetwork \'Exploroo\'}}>Exploroo</option>\n								<option value="Faceparty" {{selected socialNetwork \'Faceparty\'}}>Faceparty</option>\n								<option value="Faces.com" {{selected socialNetwork \'Faces.com\'}}>Faces.com</option>\n								<option value="Fetlife" {{selected socialNetwork \'Fetlife\'}}>Fetlife</option>\n								<option value="FilmAffinity" {{selected socialNetwork \'FilmAffinity\'}}>FilmAffinity</option>\n								<option value="Filmow" {{selected socialNetwork \'Filmow\'}}>Filmow</option>\n								<option value="FledgeWing" {{selected socialNetwork \'FledgeWing\'}}>FledgeWing</option>\n								<option value="Flixster" {{selected socialNetwork \'Flixster\'}}>Flixster</option>\n								<option value="Flickr" {{selected socialNetwork \'Flickr\'}}>Flickr</option>\n								<option value="Focus.com" {{selected socialNetwork \'Focus.com\'}}>Focus.com</option>\n								<option value="Fotki" {{selected socialNetwork \'Fotki\'}}>Fotki</option>\n								<option value="Fotolog" {{selected socialNetwork \'Fotolog\'}}>Fotolog</option>\n								<option value="Foursquare" {{selected socialNetwork \'Foursquare\'}}>Foursquare</option>\n								<option value="Friendica" {{selected socialNetwork \'Friendica\'}}>Friendica</option>\n								<option value="Friends Reunited" {{selected socialNetwork \'Friends Reunited\'}}>Friends Reunited</option>\n								<option value="Friendster" {{selected socialNetwork \'Friendster\'}}>Friendster</option>\n								<option value="Frühstückstreff" {{selected socialNetwork \'Frühstückstreff\'}}>Frühstückstreff</option>\n								<option value="Fubar" {{selected socialNetwork \'Fubar\'}}>Fubar</option>\n								<option value="Fuelmyblog" {{selected socialNetwork \'Fuelmyblog\'}}>Fuelmyblog</option>\n								<option value="FullCircle" {{selected socialNetwork \'FullCircle\'}}>FullCircle</option>\n								<option value="Gaia Online" {{selected socialNetwork \'Gaia Online\'}}>Gaia Online</option>\n								<option value="GamerDNA" {{selected socialNetwork \'GamerDNA\'}}>GamerDNA</option>\n								<option value="Gapyear.com" {{selected socialNetwork \'Gapyear.com\'}}>Gapyear.com</option>\n								<option value="Gather.com" {{selected socialNetwork \'Gather.com\'}}>Gather.com</option>\n								<option value="Gays.com" {{selected socialNetwork \'Gays.com\'}}>Gays.com</option>\n								<option value="Geni.com" {{selected socialNetwork \'Geni.com\'}}>Geni.com</option>\n								<option value="GetGlue" {{selected socialNetwork \'GetGlue\'}}>GetGlue</option>\n								<option value="Gogoyoko" {{selected socialNetwork \'Gogoyoko\'}}>Gogoyoko</option>\n								<option value="Goodreads" {{selected socialNetwork \'Goodreads\'}}>Goodreads</option>\n								<option value="Goodwizz" {{selected socialNetwork \'Goodwizz\'}}>Goodwizz</option>\n								<option value="Google+" {{selected socialNetwork \'Google+\'}}>Google+</option>\n								<option value="GovLoop" {{selected socialNetwork \'GovLoop\'}}>GovLoop</option>\n								<option value="Grono.net" {{selected socialNetwork \'Grono.net\'}}>Grono.net</option>\n								<option value="Habbo" {{selected socialNetwork \'Habbo\'}}>Habbo</option>\n								<option value="hi5" {{selected socialNetwork \'hi5\'}}>hi5</option>\n								<option value="Hospitality Club" {{selected socialNetwork \'Hospitality Club\'}}>Hospitality Club</option>\n								<option value="Hotlist" {{selected socialNetwork \'Hotlist\'}}>Hotlist</option>\n								<option value="HR.com" {{selected socialNetwork \'HR.com\'}}>HR.com</option>\n								<option value="Hub Culture" {{selected socialNetwork \'Hub Culture\'}}>Hub Culture</option>\n								<option value="Hyves" {{selected socialNetwork \'Hyves\'}}>Hyves</option>\n								<option value="Ibibo" {{selected socialNetwork \'Ibibo\'}}>Ibibo</option>\n								<option value="Identi.ca" {{selected socialNetwork \'Identi.ca\'}}>Identi.ca</option>\n								<option value="Indaba Music" {{selected socialNetwork \'Indaba Music\'}}>Indaba Music</option>\n								<option value="IRC-Galleria" {{selected socialNetwork \'IRC-Galleria\'}}>IRC-Galleria</option>\n								<option value="italki.com" {{selected socialNetwork \'italki.com\'}}>italki.com</option>\n								<option value="Itsmy" {{selected socialNetwork \'Itsmy\'}}>Itsmy</option>\n								<option value="iWiW" {{selected socialNetwork \'iWiW\'}}>iWiW</option>\n								<option value="Jaiku" {{selected socialNetwork \'Jaiku\'}}>Jaiku</option>\n								<option value="Jiepang" {{selected socialNetwork \'Jiepang\'}}>Jiepang</option>\n								<option value="Kaixin001" {{selected socialNetwork \'Kaixin001\'}}>Kaixin001</option>\n								<option value="Kiwibox" {{selected socialNetwork \'Kiwibox\'}}>Kiwibox</option>\n								<option value="Lafango" {{selected socialNetwork \'Lafango\'}}>Lafango</option>\n								<option value="LAGbook" {{selected socialNetwork \'LAGbook\'}}>LAGbook</option>\n								<option value="LaiBhaari" {{selected socialNetwork \'LaiBhaari\'}}>LaiBhaari</option>\n								<option value="Last.fm" {{selected socialNetwork \'Last.fm\'}}>Last.fm</option>\n								<option value="LibraryThing" {{selected socialNetwork \'LibraryThing\'}}>LibraryThing</option>\n								<option value="Lifeknot" {{selected socialNetwork \'Lifeknot\'}}>Lifeknot</option>\n								<option value="LinkExpats" {{selected socialNetwork \'LinkExpats\'}}>LinkExpats</option>\n								<option value="Listography" {{selected socialNetwork \'Listography\'}}>Listography</option>\n								<option value="LiveJournal" {{selected socialNetwork \'LiveJournal\'}}>LiveJournal</option>\n								<option value="Livemocha" {{selected socialNetwork \'Livemocha\'}}>Livemocha</option>\n								<option value="Makeoutclub" {{selected socialNetwork \'Makeoutclub\'}}>Makeoutclub</option>\n								<option value="MEETin" {{selected socialNetwork \'MEETin\'}}>MEETin</option>\n								<option value="Meetup (website)" {{selected socialNetwork \'Meetup (website)\'}}>Meetup (website)</option>\n								<option value="Meettheboss" {{selected socialNetwork \'Meettheboss\'}}>Meettheboss</option>\n								<option value="MillatFacebook" {{selected socialNetwork \'MillatFacebook\'}}>MillatFacebook</option>\n								<option value="mixi" {{selected socialNetwork \'mixi\'}}>mixi</option>\n								<option value="MocoSpace" {{selected socialNetwork \'MocoSpace\'}}>MocoSpace</option>\n								<option value="MOG" {{selected socialNetwork \'MOG\'}}>MOG</option>\n								<option value="MouthShut.com" {{selected socialNetwork \'MouthShut.com\'}}>MouthShut.com</option>\n								<option value="Mubi" {{selected socialNetwork \'Mubi\'}}>Mubi</option>\n								<option value="MyHeritage" {{selected socialNetwork \'MyHeritage\'}}>MyHeritage</option>\n								<option value="MyLife" {{selected socialNetwork \'MyLife\'}}>MyLife</option>\n								<option value="My Opera" {{selected socialNetwork \'My Opera\'}}>My Opera</option>\n								<option value="Myspace" {{selected socialNetwork \'Myspace\'}}>Myspace</option>\n								<option value="Nasza-klasa.pl" {{selected socialNetwork \'Nasza-klasa.pl\'}}>Nasza-klasa.pl</option>\n								<option value="Netlog" {{selected socialNetwork \'Netlog\'}}>Netlog</option>\n								<option value="Nexopia" {{selected socialNetwork \'Nexopia\'}}>Nexopia</option>\n								<option value="NGO Post" {{selected socialNetwork \'NGO Post\'}}>NGO Post</option>\n								<option value="Ning" {{selected socialNetwork \'Ning\'}}>Ning</option>\n								<option value="Odnoklassniki" {{selected socialNetwork \'Odnoklassniki\'}}>Odnoklassniki</option>\n								<option value="Open Diary" {{selected socialNetwork \'Open Diary\'}}>Open Diary</option>\n								<option value="Orkut" {{selected socialNetwork \'Orkut\'}}>Orkut</option>\n								<option value="OUTeverywhere" {{selected socialNetwork \'OUTeverywhere\'}}>OUTeverywhere</option>\n								<option value="PatientsLikeMe" {{selected socialNetwork \'PatientsLikeMe\'}}>PatientsLikeMe</option>\n								<option value="Partyflock" {{selected socialNetwork \'Partyflock\'}}>Partyflock</option>\n								<option value="Pingsta" {{selected socialNetwork \'Pingsta\'}}>Pingsta</option>\n								<option value="Pinterest" {{selected socialNetwork \'Pinterest\'}}>Pinterest</option>\n								<option value="Plaxo" {{selected socialNetwork \'Plaxo\'}}>Plaxo</option>\n								<option value="Playfire" {{selected socialNetwork \'Playfire\'}}>Playfire</option>\n								<option value="Playlist.com" {{selected socialNetwork \'Playlist.com\'}}>Playlist.com</option>\n								<option value="Plurk" {{selected socialNetwork \'Plurk\'}}>Plurk</option>\n								<option value="Qapacity" {{selected socialNetwork \'Qapacity\'}}>Qapacity</option>\n								<option value="Quechup" {{selected socialNetwork \'Quechup\'}}>Quechup</option>\n								<option value="Qzone" {{selected socialNetwork \'Qzone\'}}>Qzone</option>\n								<option value="Raptr" {{selected socialNetwork \'Raptr\'}}>Raptr</option>\n								<option value="Ravelry" {{selected socialNetwork \'Ravelry\'}}>Ravelry</option>\n								<option value="Renren" {{selected socialNetwork \'Renren\'}}>Renren</option>\n								<option value="ReverbNation.com" {{selected socialNetwork \'ReverbNation.com\'}}>ReverbNation.com</option>\n								<option value="Ryze" {{selected socialNetwork \'Ryze\'}}>Ryze</option>\n								<option value="ScienceStage" {{selected socialNetwork \'ScienceStage\'}}>ScienceStage</option>\n								<option value="ShareTheMusic" {{selected socialNetwork \'ShareTheMusic\'}}>ShareTheMusic</option>\n								<option value="Shelfari" {{selected socialNetwork \'Shelfari\'}}>Shelfari</option>\n								<option value="Sina Weibo" {{selected socialNetwork \'Sina Weibo\'}}>Sina Weibo</option>\n								<option value="Skoob" {{selected socialNetwork \'Skoob\'}}>Skoob</option>\n								<option value="Skyrock" {{selected socialNetwork \'Skyrock\'}}>Skyrock</option>\n								<option value="SocialVibe" {{selected socialNetwork \'SocialVibe\'}}>SocialVibe</option>\n								<option value="Sonico.com" {{selected socialNetwork \'Sonico.com\'}}>Sonico.com</option>\n								<option value="SoundCloud" {{selected socialNetwork \'SoundCloud\'}}>SoundCloud</option>\n								<option value="Spaces" {{selected socialNetwork \'Spaces\'}}>Spaces</option>\n								<option value="Stickam" {{selected socialNetwork \'Stickam\'}}>Stickam</option>\n								<option value="StudiVZ" {{selected socialNetwork \'StudiVZ\'}}>StudiVZ</option>\n								<option value="Students Circle Network" {{selected socialNetwork \'Students Circle Network\'}}>Students Circle Network</option>\n								<option value="StumbleUpon" {{selected socialNetwork \'StumbleUpon\'}}>StumbleUpon</option>\n								<option value="Tagged" {{selected socialNetwork \'Tagged\'}}>Tagged</option>\n								<option value="Talkbiznow" {{selected socialNetwork \'Talkbiznow\'}}>Talkbiznow</option>\n								<option value="Taltopia" {{selected socialNetwork \'Taltopia\'}}>Taltopia</option>\n								<option value="Taringa!" {{selected socialNetwork \'Taringa!\'}}>Taringa!</option>\n								<option value="TeachStreet" {{selected socialNetwork \'TeachStreet\'}}>TeachStreet</option>\n								<option value="TermWiki" {{selected socialNetwork \'TermWiki\'}}>TermWiki</option>\n								<option value="The Sphere" {{selected socialNetwork \'The Sphere\'}}>The Sphere</option>\n								<option value="TravBuddy.com" {{selected socialNetwork \'TravBuddy.com\'}}>TravBuddy.com</option>\n								<option value="Travellerspoint" {{selected socialNetwork \'Travellerspoint\'}}>Travellerspoint</option>\n								<option value="tribe.net" {{selected socialNetwork \'tribe.net\'}}>tribe.net</option>\n								<option value="Trombi.com" {{selected socialNetwork \'Trombi.com\'}}>Trombi.com</option>\n								<option value="Tuenti" {{selected socialNetwork \'Tuenti\'}}>Tuenti</option>\n								<option value="Tylted" {{selected socialNetwork \'Tylted\'}}>Tylted</option>\n								<option value="Vkontakte" {{selected socialNetwork \'Vkontakte\'}}>Vkontakte</option>\n								<option value="Vampirefreaks.com" {{selected socialNetwork \'Vampirefreaks.com\'}}>Vampirefreaks.com</option>\n								<option value="Viadeo" {{selected socialNetwork \'Viadeo\'}}>Viadeo</option>\n								<option value="Virb" {{selected socialNetwork \'Virb\'}}>Virb</option>\n								<option value="Vox" {{selected socialNetwork \'Vox\'}}>Vox</option>\n								<option value="Wattpad" {{selected socialNetwork \'Wattpad\'}}>Wattpad</option>\n								<option value="WAYN" {{selected socialNetwork \'WAYN\'}}>WAYN</option>\n								<option value="WeeWorld" {{selected socialNetwork \'WeeWorld\'}}>WeeWorld</option>\n								<option value="Wellwer" {{selected socialNetwork \'Wellwer\'}}>Wellwer</option>\n								<option value="WeOurFamily" {{selected socialNetwork \'WeOurFamily\'}}>WeOurFamily</option>\n								<option value="Wepolls.com" {{selected socialNetwork \'Wepolls.com\'}}>Wepolls.com</option>\n								<option value="Wer-kennt-wen" {{selected socialNetwork \'Wer-kennt-wen\'}}>Wer-kennt-wen</option>\n								<option value="weRead" {{selected socialNetwork \'weRead\'}}>weRead</option>\n								<option value="Wiser.org" {{selected socialNetwork \'Wiser.org\'}}>Wiser.org</option>\n								<option value="Wooxie" {{selected socialNetwork \'Wooxie\'}}>Wooxie</option>\n								<option value="WriteAPrisoner.com" {{selected socialNetwork \'WriteAPrisoner.com\'}}>WriteAPrisoner.com</option>\n								<option value="Xanga" {{selected socialNetwork \'Xanga\'}}>Xanga</option>\n								<option value="XING" {{selected socialNetwork \'XING\'}}>XING</option>\n								<option value="Xt3" {{selected socialNetwork \'Xt3\'}}>Xt3</option>\n								<option value="Yammer" {{selected socialNetwork \'Yammer\'}}>Yammer</option>\n								<option value="Yelp, Inc." {{selected socialNetwork \'Yelp, Inc.\'}}>Yelp, Inc.</option>\n								<option value="Zoo.gr" {{selected socialNetwork \'Zoo.gr\'}}>Zoo.gr</option>\n								<option value="Zooppa" {{selected socialNetwork \'Zooppa\'}}>Zooppa</option>\n							</select>\n							<input type="text" name="snUsername" id="snUsername-{{@index}}" value="{{snUsername}}" class="size-23" maxlength="40">\n						</div>\n						{{/each}}\n						<div id="socialNetwork-tpl">\n							<select name="socialNetworks" class="size-13">\n								<option value="" selected="selected">Select Network</option>\n								<option value="Facebook" >Facebook</option>\n								<option value="Twitter" >Twitter</option>\n								<option value="LinkedIn" >LinkedIn</option>\n								<option value="Google+" >Google+</option>\n								<option value="--------------" >--------------</option>\n								<option value="43 Things" >43 Things</option>\n								<option value="Academia.edu" >Academia.edu</option>\n								<option value="Advogato" >Advogato</option>\n								<option value="aNobii" >aNobii</option>\n								<option value="AsianAvenue" >AsianAvenue</option>\n								<option value="aSmallWorld" >aSmallWorld</option>\n								<option value="Athlinks" >Athlinks</option>\n								<option value="Audimated.com" >Audimated.com</option>\n								<option value="Bebo" >Bebo</option>\n								<option value="BIGADDA" >BIGADDA</option>\n								<option value="Biip.no" >Biip.no</option>\n								<option value="BlackPlanet" >BlackPlanet</option>\n								<option value="Blauk" >Blauk</option>\n								<option value="Blogster" >Blogster</option>\n								<option value="Bolt.com" >Bolt.com</option>\n								<option value="Busuu" >Busuu</option>\n								<option value="Buzznet" >Buzznet</option>\n								<option value="CafeMom" >CafeMom</option>\n								<option value="Care2" >Care2</option>\n								<option value="CaringBridge" >CaringBridge</option>\n								<option value="Classmates.com" >Classmates.com</option>\n								<option value="Cloob" >Cloob</option>\n								<option value="CouchSurfing" >CouchSurfing</option>\n								<option value="CozyCot" >CozyCot</option>\n								<option value="Cross.tv" >Cross.tv</option>\n								<option value="Crunchyroll" >Crunchyroll</option>\n								<option value="Cyworld" >Cyworld</option>\n								<option value="DailyBooth" >DailyBooth</option>\n								<option value="DailyStrength" >DailyStrength</option>\n								<option value="delicious" >delicious</option>\n								<option value="deviantART" >deviantART</option>\n								<option value="Diaspora*" >Diaspora*</option>\n								<option value="Disaboom" >Disaboom</option>\n								<option value="Dol2day" >Dol2day</option>\n								<option value="DontStayIn" >DontStayIn</option>\n								<option value="Draugiem.lv" >Draugiem.lv</option>\n								<option value="douban" >douban</option>\n								<option value="DXY.cn" >DXY.cn</option>\n								<option value="Elftown" >Elftown</option>\n								<option value="Elixio" >Elixio</option>\n								<option value="English, baby!" >English, baby!</option>\n								<option value="Epernicus" >Epernicus</option>\n								<option value="Eons.com" >Eons.com</option>\n								<option value="eToro" >eToro</option>\n								<option value="Experience Project" >Experience Project</option>\n								<option value="Exploroo" >Exploroo</option>\n								<option value="Faceparty" >Faceparty</option>\n								<option value="Faces.com" >Faces.com</option>\n								<option value="Fetlife" >Fetlife</option>\n								<option value="FilmAffinity" >FilmAffinity</option>\n								<option value="Filmow" >Filmow</option>\n								<option value="FledgeWing" >FledgeWing</option>\n								<option value="Flixster" >Flixster</option>\n								<option value="Flickr" >Flickr</option>\n								<option value="Focus.com" >Focus.com</option>\n								<option value="Fotki" >Fotki</option>\n								<option value="Fotolog" >Fotolog</option>\n								<option value="Foursquare" >Foursquare</option>\n								<option value="Friendica" >Friendica</option>\n								<option value="Friends Reunited" >Friends Reunited</option>\n								<option value="Friendster" >Friendster</option>\n								<option value="Frühstückstreff" >Frühstückstreff</option>\n								<option value="Fubar" >Fubar</option>\n								<option value="Fuelmyblog" >Fuelmyblog</option>\n								<option value="FullCircle" >FullCircle</option>\n								<option value="Gaia Online" >Gaia Online</option>\n								<option value="GamerDNA" >GamerDNA</option>\n								<option value="Gapyear.com" >Gapyear.com</option>\n								<option value="Gather.com" >Gather.com</option>\n								<option value="Gays.com" >Gays.com</option>\n								<option value="Geni.com" >Geni.com</option>\n								<option value="GetGlue" >GetGlue</option>\n								<option value="Gogoyoko" >Gogoyoko</option>\n								<option value="Goodreads" >Goodreads</option>\n								<option value="Goodwizz" >Goodwizz</option>\n								<option value="Google+" >Google+</option>\n								<option value="GovLoop" >GovLoop</option>\n								<option value="Grono.net" >Grono.net</option>\n								<option value="Habbo" >Habbo</option>\n								<option value="hi5" >hi5</option>\n								<option value="Hospitality Club" >Hospitality Club</option>\n								<option value="Hotlist" >Hotlist</option>\n								<option value="HR.com" >HR.com</option>\n								<option value="Hub Culture" >Hub Culture</option>\n								<option value="Hyves" >Hyves</option>\n								<option value="Ibibo" >Ibibo</option>\n								<option value="Identi.ca" >Identi.ca</option>\n								<option value="Indaba Music" >Indaba Music</option>\n								<option value="IRC-Galleria" >IRC-Galleria</option>\n								<option value="italki.com" >italki.com</option>\n								<option value="Itsmy" >Itsmy</option>\n								<option value="iWiW" >iWiW</option>\n								<option value="Jaiku" >Jaiku</option>\n								<option value="Jiepang" >Jiepang</option>\n								<option value="Kaixin001" >Kaixin001</option>\n								<option value="Kiwibox" >Kiwibox</option>\n								<option value="Lafango" >Lafango</option>\n								<option value="LAGbook" >LAGbook</option>\n								<option value="LaiBhaari" >LaiBhaari</option>\n								<option value="Last.fm" >Last.fm</option>\n								<option value="LibraryThing" >LibraryThing</option>\n								<option value="Lifeknot" >Lifeknot</option>\n								<option value="LinkExpats" >LinkExpats</option>\n								<option value="Listography" >Listography</option>\n								<option value="LiveJournal" >LiveJournal</option>\n								<option value="Livemocha" >Livemocha</option>\n								<option value="Makeoutclub" >Makeoutclub</option>\n								<option value="MEETin" >MEETin</option>\n								<option value="Meetup (website)" >Meetup (website)</option>\n								<option value="Meettheboss" >Meettheboss</option>\n								<option value="MillatFacebook" >MillatFacebook</option>\n								<option value="mixi" >mixi</option>\n								<option value="MocoSpace" >MocoSpace</option>\n								<option value="MOG" >MOG</option>\n								<option value="MouthShut.com" >MouthShut.com</option>\n								<option value="Mubi" >Mubi</option>\n								<option value="MyHeritage" >MyHeritage</option>\n								<option value="MyLife" >MyLife</option>\n								<option value="My Opera" >My Opera</option>\n								<option value="Myspace" >Myspace</option>\n								<option value="Nasza-klasa.pl" >Nasza-klasa.pl</option>\n								<option value="Netlog" >Netlog</option>\n								<option value="Nexopia" >Nexopia</option>\n								<option value="NGO Post" >NGO Post</option>\n								<option value="Ning" >Ning</option>\n								<option value="Odnoklassniki" >Odnoklassniki</option>\n								<option value="Open Diary" >Open Diary</option>\n								<option value="Orkut" >Orkut</option>\n								<option value="OUTeverywhere" >OUTeverywhere</option>\n								<option value="PatientsLikeMe" >PatientsLikeMe</option>\n								<option value="Partyflock" >Partyflock</option>\n								<option value="Pingsta" >Pingsta</option>\n								<option value="Pinterest" >Pinterest</option>\n								<option value="Plaxo" >Plaxo</option>\n								<option value="Playfire" >Playfire</option>\n								<option value="Playlist.com" >Playlist.com</option>\n								<option value="Plurk" >Plurk</option>\n								<option value="Qapacity" >Qapacity</option>\n								<option value="Quechup" >Quechup</option>\n								<option value="Qzone" >Qzone</option>\n								<option value="Raptr" >Raptr</option>\n								<option value="Ravelry" >Ravelry</option>\n								<option value="Renren" >Renren</option>\n								<option value="ReverbNation.com" >ReverbNation.com</option>\n								<option value="Ryze" >Ryze</option>\n								<option value="ScienceStage" >ScienceStage</option>\n								<option value="ShareTheMusic" >ShareTheMusic</option>\n								<option value="Shelfari" >Shelfari</option>\n								<option value="Sina Weibo" >Sina Weibo</option>\n								<option value="Skoob" >Skoob</option>\n								<option value="Skyrock" >Skyrock</option>\n								<option value="SocialVibe" >SocialVibe</option>\n								<option value="Sonico.com" >Sonico.com</option>\n								<option value="SoundCloud" >SoundCloud</option>\n								<option value="Spaces" >Spaces</option>\n								<option value="Stickam" >Stickam</option>\n								<option value="StudiVZ" >StudiVZ</option>\n								<option value="Students Circle Network" >Students Circle Network</option>\n								<option value="StumbleUpon" >StumbleUpon</option>\n								<option value="Tagged" >Tagged</option>\n								<option value="Talkbiznow" >Talkbiznow</option>\n								<option value="Taltopia" >Taltopia</option>\n								<option value="Taringa!" >Taringa!</option>\n								<option value="TeachStreet" >TeachStreet</option>\n								<option value="TermWiki" >TermWiki</option>\n								<option value="The Sphere" >The Sphere</option>\n								<option value="TravBuddy.com" >TravBuddy.com</option>\n								<option value="Travellerspoint" >Travellerspoint</option>\n								<option value="tribe.net" >tribe.net</option>\n								<option value="Trombi.com" >Trombi.com</option>\n								<option value="Tuenti" >Tuenti</option>\n								<option value="Tylted" >Tylted</option>\n								<option value="Vkontakte" >Vkontakte</option>\n								<option value="Vampirefreaks.com" >Vampirefreaks.com</option>\n								<option value="Viadeo" >Viadeo</option>\n								<option value="Virb" >Virb</option>\n								<option value="Vox" >Vox</option>\n								<option value="Wattpad" >Wattpad</option>\n								<option value="WAYN" >WAYN</option>\n								<option value="WeeWorld" >WeeWorld</option>\n								<option value="Wellwer" >Wellwer</option>\n								<option value="WeOurFamily" >WeOurFamily</option>\n								<option value="Wepolls.com" >Wepolls.com</option>\n								<option value="Wer-kennt-wen" >Wer-kennt-wen</option>\n								<option value="weRead" >weRead</option>\n								<option value="Wiser.org" >Wiser.org</option>\n								<option value="Wooxie" >Wooxie</option>\n								<option value="WriteAPrisoner.com" >WriteAPrisoner.com</option>\n								<option value="Xanga" >Xanga</option>\n								<option value="XING" >XING</option>\n								<option value="Xt3" >Xt3</option>\n								<option value="Yammer" >Yammer</option>\n								<option value="Yelp, Inc." >Yelp, Inc.</option>\n								<option value="Zoo.gr" >Zoo.gr</option>\n								<option value="Zooppa" >Zooppa</option>\n							</select>\n							<input type="text" class="size-23" name="snUsername" maxlength="40">\n						</div>\n					</div>\n				</div>\n			</div><!-- EOF control-group -->\n			<div class="control-group">\n				<label class="control-label" for="textarea"><label for="socialNetwork">Instant Message</label></label>\n				<div class="controls">\n					<div id="instantMessage-list">\n						{{#each instantMessages}}\n						<div id="im-{{@index}}">\n							<select name="instantMessages" id="instantMessage-{{@index}}" class="size-13">\n								<option value="" selected="selected">Select IM</option>\n								<option value="Skype" {{selected instantMessage \'Skype\'}}>Skype</option>\n								<option value="WhatsApp" {{selected instantMessage \'WhatsApp\'}}>WhatsApp</option>\n								<option value="Line" {{selected instantMessage \'Line\'}}>Line</option>\n								<option value="----------------" {{selected instantMessage \'----------------\'}}>----------------</option>\n								<option value="AIM" {{selected instantMessage \'AIM\'}}>AIM</option>\n								<option value="Blauk" {{selected instantMessage \'Blauk\'}}>Blauk</option>\n								<option value="eBuddy" {{selected instantMessage \'eBuddy\'}}>eBuddy</option>\n								<option value="Gadu-Gadu" {{selected instantMessage \'Gadu-Gadu\'}}>Gadu-Gadu</option>\n								<option value="IBM Lotus Sametime" {{selected instantMessage \'IBM Lotus Sametime\'}}>IBM Lotus Sametime</option>\n								<option value="ICQ" {{selected instantMessage \'ICQ\'}}>ICQ</option>\n								<option value="iMessage" {{selected instantMessage \'iMessage\'}}>iMessage</option>\n								<option value="IMVU" {{selected instantMessage \'IMVU\'}}>IMVU</option>\n								<option value="Lync" {{selected instantMessage \'Lync\'}}>Lync</option>\n								<option value="MXit" {{selected instantMessage \'MXit\'}}>MXit</option>\n								<option value="Paltalk" {{selected instantMessage \'Paltalk\'}}>Paltalk</option>\n								<option value="Tencent QQ" {{selected instantMessage \'Tencent QQ\'}}>Tencent QQ</option>\n								<option value="Windows Live Messenger" {{selected instantMessage \'Windows Live Messenger\'}}>Windows Live Messenger</option>\n								<option value="Wireclub" {{selected instantMessage \'Wireclub\'}}>Wireclub</option>\n								<option value="Xfire" {{selected instantMessage \'Xfire\'}}>Xfire</option>\n								<option value="Yahoo! Messenger" {{selected instantMessage \'Yahoo! Messenger\'}}>Yahoo! Messenger</option>\n							</select>\n							<input type="text" name="imUsername" id="imUsername-{{@index}}" value="{{imUsername}}" class="size-23" maxlength="40">\n						</div>\n						{{/each}}\n						<div id="im-tpl">\n							<select name="instantMessages" class="size-13">\n								<option value="" selected="selected">Select IM</option>\n								<option value="Skype" >Skype</option>\n								<option value="WhatsApp" >WhatsApp</option>\n								<option value="Line" >Line</option>\n								<option value="----------------" >----------------</option>\n								<option value="AIM" >AIM</option>\n								<option value="Blauk" >Blauk</option>\n								<option value="eBuddy" >eBuddy</option>\n								<option value="Gadu-Gadu" >Gadu-Gadu</option>\n								<option value="IBM Lotus Sametime" >IBM Lotus Sametime</option>\n								<option value="ICQ" >ICQ</option>\n								<option value="iMessage" >iMessage</option>\n								<option value="IMVU" >IMVU</option>\n								<option value="Lync" >Lync</option>\n								<option value="MXit" >MXit</option>\n								<option value="Paltalk" >Paltalk</option>\n								<option value="Tencent QQ" >Tencent QQ</option>\n								<option value="Windows Live Messenger" >Windows Live Messenger</option>\n								<option value="Wireclub" >Wireclub</option>\n								<option value="Xfire" >Xfire</option>\n								<option value="Yahoo! Messenger" >Yahoo! Messenger</option>\n							</select>\n							<input type="text" name="imUsername" class="size-23" maxlength="40">\n						</div>\n					</div>\n				</div>\n			</div><!-- EOF control-group -->\n		</div><!-- EOF box-content -->\n		<div class="box-footer accordion-heading">\n			<div class="button-group">\n				<button class="button cancel-edition-btn" data-rel="contact-box">Cancel</button>\n				<button id="save-profile-btn" type="submit" class="button-highlight" data-loading-text="Saving...">Save</button>\n			</div>\n		</div><!-- EOF box-footer -->\n	</form>\n</div><!-- EOF box-standard -->')}),define("tmpl!templates/app/profile/form.places.html",["core/view"],function(e){return e('		<div class="box-standard maps">\n			<form id="places-form" data-rel="places-box">\n				<div class="box-header">\n					<h1 class="places-icon">Places</h1>\n				</div>\n				<div id="user-map"></div>\n				<div class="box-content">\n					<div class="control-group">\n						<label class="places-hometown-icon-mini">Hometown</label>\n						<div id="hometown" class="controls">\n							{{#with hometown}}\n							<input id="hometownCity" name="hometown" type="text" data-provide="typeahead" class="hometown span5" {{#if name}}value="{{name}}, {{region}}, {{country}}"{{/if}}autocomplete="off">\n							<input name="hometown-city" type="hidden" value="{{name}}">\n							<input name="hometown-region" type="hidden" value="{{region}}">\n							<input name="hometown-country" type="hidden" value="{{country}}">\n							<input name="hometown-lat" type="hidden" value="{{lat}}">\n							<input name="hometown-lon" type="hidden" value="{{lon}}">\n							{{/with}}\n							<span class="help-block"></span>\n						</div>\n					</div><!-- EOF control-group -->\n					<div class="control-group">\n						<label class="places-current-icon-mini">Current city</label>\n						<div id="current" class="controls">\n							{{#with current}}\n							<input id="currentCity" name="current" type="text" data-provide="typeahead" class="hometown span5" {{#if name}}value="{{name}}, {{region}}, {{country}}"{{/if}} autocomplete="off">\n							<input name="current-city" type="hidden" value="{{name}}">\n							<input name="current-region" type="hidden" value="{{region}}">\n							<input name="current-country" type="hidden" value="{{country}}">\n							<input name="current-lat" type="hidden" value="{{lat}}">\n							<input name="current-lon" type="hidden" value="{{lon}}">\n							{{/with}}\n							<span class="help-block"></span>\n						</div>\n					</div><!-- EOF control-group -->\n					<div id="otherLocations-group" class="control-group">\n						<label class="places-lived-icon-mini">Where I have lived</label>\n						<div class="controls lived">\n							<div id="otherLocations-list">\n								{{#each otherLocations}}\n								<div id="otherLocation-{{@index}}">\n									<input name="otherLocations" id="otherLocation-{{@index}}" type="text" data-provide="typeahead" {{#if name}}value="{{name}}, {{region}}, {{country}}"{{/if}} disabled class="span5" autocomplete="off">\n									<input name="other-city" type="hidden" value="{{name}}">\n									<input name="other-region" type="hidden" value="{{region}}">\n									<input name="other-country" type="hidden" value="{{country}}">\n									<input name="other-lat" type="hidden" value="{{lat}}">\n									<input name="other-lon" type="hidden" value="{{lon}}">\n								</div>\n								{{/each}}\n								<div id="otherLocation-tpl">\n									<input name="otherLocations" type="text" data-provide="typeahead" class="span5" autocomplete="off">\n									<input name="other-city" type="hidden">\n									<input name="other-region" type="hidden">\n									<input name="other-country" type="hidden">\n									<input name="other-lat" type="hidden">\n									<input name="other-lon" type="hidden">\n								</div>\n							</div><!-- EOF #otherLocations-list -->\n						</div><!-- EOF controls -->\n					</div><!-- EOF control-group -->\n				</div>\n				<div class="box-footer accordion-heading">\n					<div class="button-group">\n						<button class="button cancel-edition-btn" data-rel="places-box">Cancel</button>\n						<button id="save-profile-btn" type="submit" form="places-form" class="button-highlight" data-loading-text="Saving...">Save</button>\n					</div>\n				</div><!-- EOF box-footer -->\n			</form>\n		</div><!-- EOF box-standard -->')}),define("tmpl!templates/app/profile/view.photos_list.html",["core/view"],function(e){return e('{{#if uploading }}\n	<li class="uploading" data-tmp-photo-id="{{id}}">\n		<a href="{{src}}">\n			<img src="{{src}}">\n		</a>\n\n		<p>Uploading...</p>\n	</li>\n{{else}}\n	<li data-album-id="{{albumId}}" data-photo-id="{{id}}">\n		<a href="{{bigUrl}}">\n			<img src="{{thumbUrl}}">\n		</a>\n\n		<div class="control" hidden>\n			<button class="close">&times;</button>\n		</div>\n	</li>\n{{/if}}\n')});var libFuncName=null;if(typeof jQuery=="undefined"&&typeof Zepto=="undefined"&&typeof $=="function")libFuncName=$;else if(typeof jQuery=="function")libFuncName=jQuery;else{if(typeof Zepto!="function")throw new TypeError;libFuncName=Zepto}(function(e,t,n,r){Array.prototype.filter||(Array.prototype.filter=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")return;var r=[],i=arguments[1];for(var s=0;s<n;s++)if(s in t){var o=t[s];e&&e.call(i,o,s,t)&&r.push(o)}return r}),Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1}),e.fn.stop=e.fn.stop||function(){return this},t.Foundation={name:"Foundation",version:"4.1.5",cache:{},init:function(t,n,r,i,s,o){var u,a=[t,r,i,s],f=[],o=o||!1;o&&(this.nc=o),this.rtl=/rtl/i.test(e("html").attr("dir")),this.scope=t||this.scope;if(n&&typeof n=="string"){if(/off/i.test(n))return this.off();u=n.split(" ");if(u.length>0)for(var l=u.length-1;l>=0;l--)f.push(this.init_lib(u[l],a))}else for(var c in this.libs)f.push(this.init_lib(c,a));return typeof n=="function"&&a.unshift(n),this.response_obj(f,a)},response_obj:function(e,t){for(var n=0,r=t.length;n<r;n++)if(typeof t[n]=="function")return t[n]({errors:e.filter(function(e){if(typeof e=="string")return e})});return e},init_lib:function(e,t){return this.trap(function(){if(this.libs.hasOwnProperty(e))return this.patch(this.libs[e]),this.libs[e].init.apply(this.libs[e],t)}.bind(this),e)},trap:function(e,t){if(!this.nc)try{return e()}catch(n){return this.error({name:t,message:"could not be initialized",more:n.name+" "+n.message})}return e()},patch:function(e){this.fix_outer(e),e.scope=this.scope,e.rtl=this.rtl},inherit:function(e,t){var n=t.split(" ");for(var r=n.length-1;r>=0;r--)this.lib_methods.hasOwnProperty(n[r])&&(this.libs[e.name][n[r]]=this.lib_methods[n[r]])},random_str:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));var n="";for(var r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n},libs:{},lib_methods:{set_data:function(e,t){var n=[this.name,+(new Date),Foundation.random_str(5)].join("-");return Foundation.cache[n]=t,e.attr("data-"+this.name+"-id",n),t},get_data:function(e){return Foundation.cache[e.attr("data-"+this.name+"-id")]},remove_data:function(t){t?(delete Foundation.cache[t.attr("data-"+this.name+"-id")],t.attr("data-"+this.name+"-id","")):e("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[e(this).attr("data-"+this.name+"-id")],e(this).attr("data-"+this.name+"-id","")})},throttle:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}},data_options:function(t){function u(e){return!isNaN(e-0)&&e!==null&&e!==""&&e!==!1&&e!==!0}function a(t){return typeof t=="string"?e.trim(t):t}var n={},r,i,s=(t.attr("data-options")||":").split(";"),o=s.length;for(r=o-1;r>=0;r--)i=s[r].split(":"),/true/i.test(i[1])&&(i[1]=!0),/false/i.test(i[1])&&(i[1]=!1),u(i[1])&&(i[1]=parseInt(i[1],10)),i.length===2&&i[0].length>0&&(n[a(i[0])]=a(i[1]));return n},delay:function(e,t){return setTimeout(e,t)},scrollTo:function(n,r,i){if(i<0)return;var s=r-e(t).scrollTop(),o=s/i*10;this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(o,10))||(t.scrollTo(0,e(t).scrollTop()+o),this.scrollTo(n,r,i-10))}.bind(this),10)},scrollLeft:function(e){if(!e.length)return;return"scrollLeft"in e[0]?e[0].scrollLeft:e[0].pageXOffset},empty:function(e){if(e.length&&e.length>0)return!1;if(e.length&&e.length===0)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}},fix_outer:function(e){e.outerHeight=function(e,t){return typeof Zepto=="function"?e.height():typeof t!="undefined"?e.outerHeight(t):e.outerHeight()},e.outerWidth=function(e){return typeof Zepto=="function"?e.width():typeof bool!="undefined"?e.outerWidth(bool):e.outerWidth()}},error:function(e){return e.name+" "+e.message+"; "+e.more},off:function(){return e(this.scope).off(".fndtn"),e(t).off(".fndtn"),!0},zj:function(){try{return Zepto}catch(e){return jQuery}}()},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}})(libFuncName,this,this.document),define("foundation",["jquery"],function(e){return function(){return e.Foundation}}(this)),function(e,t,n,r){Foundation.libs.clearing={name:"clearing",version:"4.1.3",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="//:0"><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(t,n,r){var i=this;return Foundation.inherit(this,"set_data get_data remove_data throttle data_options"),typeof n=="object"&&(r=e.extend(!0,this.settings,n)),typeof n!="string"?(e(this.scope).find("ul[data-clearing]").each(function(){var t=e(this),n=n||{},r=t.find("li"),s=i.get_data(t);!s&&r.length>0&&(n.$parent=t.parent(),i.set_data(t,e.extend({},i.settings,n,i.data_options(t))),i.assemble(t.find("li")),i.settings.init||i.events().swipe_events())}),this.settings.init):this[n].call(this,r)},events:function(){var n=this;return e(this.scope).on("click.fndtn.clearing","ul[data-clearing] li",function(t,r,i){var r=r||e(this),i=i||r,s=r.next("li"),o=n.get_data(r.parent()),u=e(t.target);t.preventDefault(),o||n.init(),i.hasClass("visible")&&r[0]===i[0]&&s.length>0&&n.is_open(r)&&(i=s,u=i.find("img")),n.open(u,r,i),n.update_paddles(i)}).on("click.fndtn.clearing",".clearing-main-next",function(e){this.nav(e,"next")}.bind(this)).on("click.fndtn.clearing",".clearing-main-prev",function(e){this.nav(e,"prev")}.bind(this)).on("click.fndtn.clearing",this.settings.close_selectors,function(e){Foundation.libs.clearing.close(e,this)}).on("keydown.fndtn.clearing",function(e){this.keydown(e)}.bind(this)),e(t).on("resize.fndtn.clearing",function(){this.resize()}.bind(this)),this.settings.init=!0,this},swipe_events:function(){var t=this;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var n={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};e(this).data("swipe-transition",n),t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(n){n.touches||(n=n.originalEvent);if(n.touches.length>1||n.scale&&n.scale!==1)return;var r=e(this).data("swipe-transition");typeof r=="undefined"&&(r={}),r.delta_x=n.touches[0].pageX-r.start_page_x,typeof r.is_scrolling=="undefined"&&(r.is_scrolling=!!(r.is_scrolling||Math.abs(r.delta_x)<Math.abs(n.touches[0].pageY-r.start_page_y)));if(!r.is_scrolling&&!r.active){n.preventDefault();var i=r.delta_x<0?"next":"prev";r.active=!0,t.nav(n,i)}}).on("touchend.fndtn.clearing",".visible-img",function(t){e(this).data("swipe-transition",{}),t.stopPropagation()})},assemble:function(t){var n=t.parent();n.after('<div id="foundationClearingHolder"></div>');var r=e("#foundationClearingHolder"),i=this.get_data(n),s=n.detach(),o={grid:'<div class="carousel">'+this.outerHTML(s[0])+"</div>",viewing:i.templates.viewing},u='<div class="clearing-assembled"><div>'+o.viewing+o.grid+"</div></div>";return r.after(u).remove()},open:function(e,t,n){var r=n.closest(".clearing-assembled"),i=r.find("div").first(),s=i.find(".visible-img"),o=s.find("img").not(e);this.locked()||(o.attr("src",this.load(e)).css("visibility","hidden"),this.loaded(o,function(){o.css("visibility","visible"),r.addClass("clearing-blackout"),i.addClass("clearing-container"),s.show(),this.fix_height(n).caption(s.find(".clearing-caption"),e).center(o).shift(t,n,function(){n.siblings().removeClass("visible"),n.addClass("visible")})}.bind(this)))},close:function(t,n){t.preventDefault();var r=function(e){return/blackout/.test(e.selector)?e:e.closest(".clearing-blackout")}(e(n)),i,s;return n===t.target&&r&&(i=r.find("div").first(),s=i.find(".visible-img"),this.settings.prev_index=0,r.find("ul[data-clearing]").attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),i.removeClass("clearing-container"),s.hide()),!1},is_open:function(e){return e.parent().attr("style").length>0},keydown:function(t){var n=e(".clearing-blackout").find("ul[data-clearing]");t.which===39&&this.go(n,"next"),t.which===37&&this.go(n,"prev"),t.which===27&&e("a.clearing-close").trigger("click")},nav:function(t,n){var r=e(".clearing-blackout").find("ul[data-clearing]");t.preventDefault(),this.go(r,n)},resize:function(){var t=e(".clearing-blackout .visible-img").find("img");t.length&&this.center(t)},fix_height:function(t){var n=t.parent().children(),r=this;return n.each(function(){var t=e(this),n=t.find("img");t.height()>r.outerHeight(n)&&t.addClass("fix-height")}).closest("ul").width(n.length*100+"%"),this},update_paddles:function(e){var t=e.closest(".carousel").siblings(".visible-img");e.next().length>0?t.find(".clearing-main-next").removeClass("disabled"):t.find(".clearing-main-next").addClass("disabled"),e.prev().length>0?t.find(".clearing-main-prev").removeClass("disabled"):t.find(".clearing-main-prev").addClass("disabled")},center:function(e){return this.rtl?e.css({marginRight:-(this.outerWidth(e)/2),marginTop:-(this.outerHeight(e)/2)}):e.css({marginLeft:-(this.outerWidth(e)/2),marginTop:-(this.outerHeight(e)/2)}),this},load:function(e){if(e[0].nodeName==="A")var t=e.attr("href");else var t=e.parent().attr("href");return this.preload(e),t?t:e.attr("src")},preload:function(e){this.img(e.closest("li").next()).img(e.closest("li").prev())},loaded:function(e,t){function n(){t()}function r(){this.one("load",n);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}if(!e.attr("src")){n();return}e[0].complete||e[0].readyState===4?n():r.call(e)},img:function(e){if(e.length){var t=new Image,n=e.find("a");n.length?t.src=n.attr("href"):t.src=e.find("img").attr("src")}return this},caption:function(e,t){var n=t.data("caption");return n?e.text(n).show():e.text("").hide(),this},go:function(e,t){var n=e.find(".visible"),r=n[t]();r.length&&r.find("img").trigger("click",[n,r])},shift:function(e,t,n){var r=t.parent(),i=this.settings.prev_index||t.index(),s=this.direction(r,e,t),o=parseInt(r.css("left"),10),u=this.outerWidth(t),a;t.index()!==i&&!/skip/.test(s)?/left/.test(s)?(this.lock(),r.animate({left:o+u},300,this.unlock())):/right/.test(s)&&(this.lock(),r.animate({left:o-u},300,this.unlock())):/skip/.test(s)&&(a=t.index()-this.settings.up_count,this.lock(),a>0?r.animate({left:-(a*u)},300,this.unlock()):r.animate({left:0},300,this.unlock())),n()},direction:function(t,n,r){var i=t.find("li"),s=this.outerWidth(i)+this.outerWidth(i)/4,o=Math.floor(this.outerWidth(e(".clearing-container"))/s)-1,u=i.index(r),a;return this.settings.up_count=o,this.adjacent(this.settings.prev_index,u)?u>o&&u>this.settings.prev_index?a="right":u>o-1&&u<=this.settings.prev_index?a="left":a=!1:a="skip",this.settings.prev_index=u,a},adjacent:function(e,t){for(var n=t+1;n>=t-1;n--)if(n===e)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},outerHTML:function(e){return e.outerHTML||(new XMLSerializer).serializeToString(e)},off:function(){e(this.scope).off(".fndtn.clearing"),e(t).off(".fndtn.clearing"),this.remove_data(),this.settings.init=!1},reflow:function(){this.init()}}}(Foundation.zj,this,this.document),define("foundationClearing",["jquery","foundation"],function(){}),define("views/app/list",["require","jquery","backbone"],function(e){var t=e("jquery"),n=e("backbone"),r=n.View.extend({initialize:function(e){this.el=e.el,this.key=e.key,this.$tpl=t(e.tpl),this.store=e.store,this.length=this.store.length>0?this.store.length:0,this.render()},render:function(){var e=this;this.$tpl.remove(),_.each(t(this.el).children(),function(n,r){t(n).prepend('<button type="button" class="close" id="delete-'+e.key+"-"+r+'">×</button>')}),t(this.el).parent().append('<a href="#" id="add-'+this.key+'-btn" role="button" class="another">Add another</a>'),this.length||this.addItem()},addItem:function(){return this.length++,this.$tpl.clone().attr("id",this.key+"-"+this.length+"").appendTo(this.el).prepend('<button type="button" class="close" id="delete-'+this.key+"-"+this.length+'">×</button>').show().prop("id")},deleteItem:function(e){t(e.target).parent().remove(),this.length--;var n=+e.target.id.split(this.key+"-")[1];this.store.splice(n,1)}});return r}),function(e){e.Jcrop=function(t,n){function u(e){return Math.round(e)+"px"}function a(e){return r.baseClass+"-"+e}function f(){return e.fx.step.hasOwnProperty("backgroundColor")}function l(t){var n=e(t).offset();return[n.left,n.top]}function c(e){return[e.pageX-i[0],e.pageY-i[1]]}function h(t){typeof t!="object"&&(t={}),r=e.extend(r,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){typeof r[t]!="function"&&(r[t]=function(){})})}function p(e,t){i=l(L),tt.setCursor(e==="move"?e:e+"-resize");if(e==="move")return tt.activateHandlers(v(t),w);var n=Y.getFixed(),r=m(e),s=Y.getCorner(m(r));Y.setPressed(Y.getCorner(r)),Y.setCurrent(s),tt.activateHandlers(d(e,n),w)}function d(e,t){return function(n){if(!r.aspectRatio)switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}else switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}Y.setCurrent(n),et.update()}}function v(e){var t=e;return nt.watchKeys(),function(e){Y.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,et.update()}}function m(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function g(e){return function(t){return r.disabled?!1:e==="move"&&!r.allowMove?!1:(i=l(L),J=!0,p(e,c(t)),t.stopPropagation(),t.preventDefault(),!1)}}function y(e,t,n){var r=e.width(),i=e.height();r>t&&t>0&&(r=t,i=t/e.width()*e.height()),i>n&&n>0&&(i=n,r=n/e.height()*e.width()),W=e.width()/r,X=e.height()/i,e.width(r).height(i)}function b(e){return{x:e.x*W,y:e.y*X,x2:e.x2*W,y2:e.y2*X,w:e.w*W,h:e.h*X}}function w(e){var t=Y.getFixed();t.w>r.minSelect[0]&&t.h>r.minSelect[1]?(et.enableHandles(),et.done()):et.release(),tt.setCursor(r.allowSelect?"crosshair":"default")}function E(e){if(r.disabled)return!1;if(!r.allowSelect)return!1;J=!0,i=l(L),et.disableHandles(),tt.setCursor("crosshair");var t=c(e);return Y.setPressed(t),et.update(),tt.activateHandlers(S,w),nt.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function S(e){Y.setCurrent(e),et.update()}function x(){var t=e("<div></div>").addClass(a("tracker"));return e.browser.msie&&t.css({opacity:0,backgroundColor:"white"}),t}function rt(e){M.removeClass().addClass(a("holder")).addClass(e)}function it(e,t){function b(){window.setTimeout(w,c)}var n=e[0]/W,i=e[1]/X,s=e[2]/W,o=e[3]/X;if(K)return;var u=Y.flipCoords(n,i,s,o),a=Y.getFixed(),f=[a.x,a.y,a.x2,a.y2],l=f,c=r.animationDelay,h=u[0]-f[0],p=u[1]-f[1],d=u[2]-f[2],v=u[3]-f[3],m=0,g=r.swingSpeed;n=l[0],i=l[1],s=l[2],o=l[3],et.animMode(!0);var y,w=function(){return function(){m+=(100-m)/g,l[0]=Math.round(n+m/100*h),l[1]=Math.round(i+m/100*p),l[2]=Math.round(s+m/100*d),l[3]=Math.round(o+m/100*v),m>=99.8&&(m=100),m<100?(ot(l),b()):(et.done(),et.animMode(!1),typeof t=="function"&&t.call(gt))}}();b()}function st(e){ot([e[0]/W,e[1]/X,e[2]/W,e[3]/X]),r.onSelect.call(gt,b(Y.getFixed())),et.enableHandles()}function ot(e){Y.setPressed([e[0],e[1]]),Y.setCurrent([e[2],e[3]]),et.update()}function ut(){return b(Y.getFixed())}function at(){return Y.getFixed()}function ft(e){h(e),mt()}function lt(){r.disabled=!0,et.disableHandles(),et.setCursor("default"),tt.setCursor("default")}function ct(){r.disabled=!1,mt()}function ht(){et.done(),tt.activateHandlers(null,null)}function pt(){M.remove(),N.show(),e(t).removeData("Jcrop")}function dt(e,t){et.release(),lt();var n=new Image;n.onload=function(){var i=n.width,s=n.height,o=r.boxWidth,u=r.boxHeight;L.width(i).height(s),L.attr("src",e),_.attr("src",e),y(L,o,u),A=L.width(),O=L.height(),_.width(A).height(O),j.width(A+B*2).height(O+B*2),M.width(A).height(O),Z.resize(A,O),ct(),typeof t=="function"&&t.call(gt)},n.src=e}function vt(e,t,n){var i=t||r.bgColor;r.bgFade&&f()&&r.fadeTime&&!n?e.animate({backgroundColor:i},{queue:!1,duration:r.fadeTime}):e.css("backgroundColor",i)}function mt(e){r.allowResize?e?et.enableOnly():et.enableHandles():et.disableHandles(),tt.setCursor(r.allowSelect?"crosshair":"default"),et.setCursor(r.allowMove?"move":"default"),r.hasOwnProperty("trueSize")&&(W=r.trueSize[0]/A,X=r.trueSize[1]/O),r.hasOwnProperty("setSelect")&&(st(r.setSelect),et.done(),delete r.setSelect),Z.refresh(),r.bgColor!=F&&(vt(r.shade?Z.getShades():M,r.shade?r.shadeColor||r.bgColor:r.bgColor),F=r.bgColor),I!=r.bgOpacity&&(I=r.bgOpacity,r.shade?Z.refresh():et.setBgOpacity(I)),q=r.maxSize[0]||0,R=r.maxSize[1]||0,U=r.minSize[0]||0,z=r.minSize[1]||0,r.hasOwnProperty("outerImage")&&(L.attr("src",r.outerImage),delete r.outerImage),et.refresh()}var r=e.extend({},e.Jcrop.defaults),i,s,o=!1;e.browser.msie&&e.browser.version.split(".")[0]==="6"&&(o=!0),typeof t!="object"&&(t=e(t)[0]),typeof n!="object"&&(n={}),h(n);var T={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},N=e(t),C=!0;if(t.tagName=="IMG"){if(N[0].width!=0&&N[0].height!=0)N.width(N[0].width),N.height(N[0].height);else{var k=new Image;k.src=N[0].src,N.width(k.width),N.height(k.height)}var L=N.clone().removeAttr("id").css(T).show();L.width(N.width()),L.height(N.height()),N.after(L).hide()}else L=N.css(T).show(),C=!1,r.shade===null&&(r.shade=!0);y(L,r.boxWidth,r.boxHeight);var A=L.width(),O=L.height(),M=e("<div />").width(A).height(O).addClass(a("holder")).css({position:"relative",backgroundColor:r.bgColor}).insertAfter(N).append(L);r.addClass&&M.addClass(r.addClass);var _=e("<div />"),D=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),P=e("<div />").width("100%").height("100%").css("zIndex",320),H=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=Y.getFixed();r.onDblClick.call(gt,e)}).insertBefore(L).append(D,P);C&&(_=e("<img />").attr("src",L.attr("src")).css(T).width(A).height(O),D.append(_)),o&&H.css({overflowY:"hidden"});var B=r.boundary,j=x().width(A+B*2).height(O+B*2).css({position:"absolute",top:u(-B),left:u(-B),zIndex:290}).mousedown(E),F=r.bgColor,I=r.bgOpacity,q,R,U,z,W,X,V=!0,J,K,Q;i=l(L);var G=function(){function e(){var e={},t=["touchstart","touchmove","touchend"],n=document.createElement("div"),r;try{for(r=0;r<t.length;r++){var i=t[r];i="on"+i;var s=i in n;s||(n.setAttribute(i,"return;"),s=typeof n[i]=="function"),e[t[r]]=s}return e.touchstart&&e.touchend&&e.touchmove}catch(o){return!1}}function t(){return r.touchSupport===!0||r.touchSupport===!1?r.touchSupport:e()}return{createDragger:function(e){return function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,r.disabled?!1:e==="move"&&!r.allowMove?!1:(J=!0,p(e,c(t)),t.stopPropagation(),t.preventDefault(),!1)}},newSelection:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,E(e)},isSupported:e,support:t()}}(),Y=function(){function u(r){r=p(r),n=e=r[0],i=t=r[1]}function a(e){e=p(e),s=e[0]-n,o=e[1]-i,n=e[0],i=e[1]}function f(){return[s,o]}function l(r){var s=r[0],o=r[1];0>e+s&&(s-=s+e),0>t+o&&(o-=o+t),O<i+o&&(o+=O-(i+o)),A<n+s&&(s+=A-(n+s)),e+=s,n+=s,t+=o,i+=o}function c(e){var t=h();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function h(){if(!r.aspectRatio)return v();var s=r.aspectRatio,o=r.minSize[0]/W,u=r.maxSize[0]/W,a=r.maxSize[1]/X,f=n-e,l=i-t,c=Math.abs(f),h=Math.abs(l),p=c/h,g,y,b,w;return u===0&&(u=A*10),a===0&&(a=O*10),p<s?(y=i,b=h*s,g=f<0?e-b:b+e,g<0?(g=0,w=Math.abs((g-e)/s),y=l<0?t-w:w+t):g>A&&(g=A,w=Math.abs((g-e)/s),y=l<0?t-w:w+t)):(g=n,w=c/s,y=l<0?t-w:t+w,y<0?(y=0,b=Math.abs((y-t)*s),g=f<0?e-b:b+e):y>O&&(y=O,b=Math.abs(y-t)*s,g=f<0?e-b:b+e)),g>e?(g-e<o?g=e+o:g-e>u&&(g=e+u),y>t?y=t+(g-e)/s:y=t-(g-e)/s):g<e&&(e-g<o?g=e-o:e-g>u&&(g=e-u),y>t?y=t+(e-g)/s:y=t-(e-g)/s),g<0?(e-=g,g=0):g>A&&(e-=g-A,g=A),y<0?(t-=y,y=0):y>O&&(t-=y-O,y=O),m(d(e,t,g,y))}function p(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>A&&(e[0]=A),e[1]>O&&(e[1]=O),[e[0],e[1]]}function d(e,t,n,r){var i=e,s=n,o=t,u=r;return n<e&&(i=n,s=e),r<t&&(o=r,u=t),[i,o,s,u]}function v(){var r=n-e,s=i-t,o;return q&&Math.abs(r)>q&&(n=r>0?e+q:e-q),R&&Math.abs(s)>R&&(i=s>0?t+R:t-R),z/X&&Math.abs(s)<z/X&&(i=s>0?t+z/X:t-z/X),U/W&&Math.abs(r)<U/W&&(n=r>0?e+U/W:e-U/W),e<0&&(n-=e,e-=e),t<0&&(i-=t,t-=t),n<0&&(e-=n,n-=n),i<0&&(t-=i,i-=i),n>A&&(o=n-A,e-=o,n-=o),i>O&&(o=i-O,t-=o,i-=o),e>A&&(o=e-O,i-=o,t-=o),t>O&&(o=t-O,i-=o,t-=o),m(d(e,t,n,i))}function m(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var e=0,t=0,n=0,i=0,s,o;return{flipCoords:d,setPressed:u,setCurrent:a,getOffset:f,moveOffset:l,getCorner:c,getFixed:h}}(),Z=function(){function s(e,t){i.left.css({height:u(t)}),i.right.css({height:u(t)})}function o(){return a(Y.getFixed())}function a(e){i.top.css({left:u(e.x),width:u(e.w),height:u(e.y)}),i.bottom.css({top:u(e.y2),left:u(e.x),width:u(e.w),height:u(O-e.y2)}),i.right.css({left:u(e.x2),width:u(A-e.x2)}),i.left.css({width:u(e.x)})}function f(){return e("<div />").css({position:"absolute",backgroundColor:r.shadeColor||r.bgColor}).appendTo(n)}function l(){t||(t=!0,n.insertBefore(L),o(),et.setBgOpacity(1,0,1),_.hide(),c(r.shadeColor||r.bgColor,1),et.isAwake()?p(r.bgOpacity,1):p(1,1))}function c(e,t){vt(v(),e,t)}function h(){t&&(n.remove(),_.show(),t=!1,et.isAwake()?et.setBgOpacity(r.bgOpacity,1,1):(et.setBgOpacity(1,1,1),et.disableHandles()),vt(M,0,1))}function p(e,i){t&&(r.bgFade&&!i?n.animate({opacity:1-e},{queue:!1,duration:r.fadeTime}):n.css({opacity:1-e}))}function d(){r.shade?l():h(),et.isAwake()&&p(r.bgOpacity)}function v(){return n.children()}var t=!1,n=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),i={top:f(),left:f().height(O),right:f().height(O),bottom:f()};return{update:o,updateRaw:a,getShades:v,setBgColor:c,enable:l,disable:h,resize:s,refresh:d,opacity:p}}(),et=function(){function l(t){var n=e("<div />").css({position:"absolute",opacity:r.borderOpacity}).addClass(a(t));return D.append(n),n}function c(t,n){var r=e("<div />").mousedown(g(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return G.support&&r.bind("touchstart.jcrop",G.createDragger(t)),P.append(r),r}function h(e){var t=r.handleSize;return c(e,n++).css({opacity:r.handleOpacity}).width(t).height(t).addClass(a("handle"))}function p(e){return c(e,n++).addClass("jcrop-dragbar")}function d(e){var t;for(t=0;t<e.length;t++)o[e[t]]=p(e[t])}function v(e){var t,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":t="hline";break;case"s":t="hline bottom";break;case"e":t="vline right";break;case"w":t="vline"}i[e[n]]=l(t)}}function m(e){var t;for(t=0;t<e.length;t++)s[e[t]]=h(e[t])}function y(e,t){r.shade||_.css({top:u(-t),left:u(-e)}),H.css({top:u(t),left:u(e)})}function w(e,t){H.width(Math.round(e)).height(Math.round(t))}function E(){var e=Y.getFixed();Y.setPressed([e.x,e.y]),Y.setCurrent([e.x2,e.y2]),S()}function S(e){if(t)return T(e)}function T(e){var n=Y.getFixed();w(n.w,n.h),y(n.x,n.y),r.shade&&Z.updateRaw(n),t||C(),e?r.onSelect.call(gt,b(n)):r.onChange.call(gt,b(n))}function N(e,n,i){if(!t&&!n)return;r.bgFade&&!i?L.animate({opacity:e},{queue:!1,duration:r.fadeTime}):L.css("opacity",e)}function C(){H.show(),r.shade?Z.opacity(I):N(I,!0),t=!0}function k(){M(),H.hide(),r.shade?Z.opacity(1):N(1),t=!1,r.onRelease.call(gt)}function A(){f&&P.show()}function O(){f=!0;if(r.allowResize)return P.show(),!0}function M(){f=!1,P.hide()}function B(e){e?(K=!0,M()):(K=!1,O())}function j(){B(!1),E()}var t,n=370,i={},s={},o={},f=!1;r.dragEdges&&e.isArray(r.createDragbars)&&d(r.createDragbars),e.isArray(r.createHandles)&&m(r.createHandles),r.drawBorders&&e.isArray(r.createBorders)&&v(r.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var F=x().mousedown(g("move")).css({cursor:"move",position:"absolute",zIndex:360});return G.support&&F.bind("touchstart.jcrop",G.createDragger("move")),D.append(F),M(),{updateVisible:S,update:T,release:k,refresh:E,isAwake:function(){return t},setCursor:function(e){F.css("cursor",e)},enableHandles:O,enableOnly:function(){f=!0},showHandles:A,disableHandles:M,animMode:B,setBgOpacity:N,done:j}}(),tt=function(){function s(){j.css({zIndex:450}),G.support&&e(document).bind("touchmove.jcrop",l).bind("touchend.jcrop",h),i&&e(document).bind("mousemove.jcrop",u).bind("mouseup.jcrop",a)}function o(){j.css({zIndex:290}),e(document).unbind(".jcrop")}function u(e){return t(c(e)),!1}function a(e){return e.preventDefault(),e.stopPropagation(),J&&(J=!1,n(c(e)),et.isAwake()&&r.onSelect.call(gt,b(Y.getFixed())),o(),t=function(){},n=function(){}),!1}function f(e,r){return J=!0,t=e,n=r,s(),!1}function l(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,u(e)}function h(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,a(e)}function p(e){j.css("cursor",e)}var t=function(){},n=function(){},i=r.trackDocument;return i||j.mousemove(u).mouseup(a).mouseout(a),L.before(j),{activateHandlers:f,setCursor:p}}(),nt=function(){function i(){r.keySupport&&(t.show(),t.focus())}function s(e){t.hide()}function u(e,t,n){r.allowMove&&(Y.moveOffset([t,n]),et.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function a(e){if(e.ctrlKey||e.metaKey)return!0;Q=e.shiftKey?!0:!1;var t=Q?10:1;switch(e.keyCode){case 37:u(e,-t,0);break;case 39:u(e,t,0);break;case 38:u(e,0,-t);break;case 40:u(e,0,t);break;case 27:r.allowSelect&&et.release();break;case 9:return!0}return!1}var t=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),n=e("<div />").css({position:"absolute",overflow:"hidden"}).append(t);return r.keySupport&&(t.keydown(a).blur(s),o||!r.fixedSupport?(t.css({position:"absolute",left:"-20px"}),n.append(t).insertBefore(L)):t.insertBefore(L)),{watchKeys:i}}();G.support&&j.bind("touchstart.jcrop",G.newSelection),P.hide(),mt(!0);var gt={setImage:dt,animateTo:it,setSelect:st,setOptions:ft,tellSelect:ut,tellScaled:at,setClass:rt,disable:lt,enable:ct,cancel:ht,release:et.release,destroy:pt,focus:nt.watchKeys,getBounds:function(){return[A*W,O*X]},getWidgetSize:function(){return[A,O]},getScaleFactor:function(){return[W,X]},getOptions:function(){return r},ui:{holder:M,selection:H}};return e.browser.msie&&M.bind("selectstart",function(){return!1}),N.data("Jcrop",gt),gt},e.fn.Jcrop=function(t,n){var r;return this.each(function(){if(e(this).data("Jcrop")){if(t==="api")return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else this.tagName=="IMG"?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),r=e.Jcrop(this,t),e.isFunction(n)&&n.call(r)}):(e(this).css({display:"block",visibility:"hidden"}),r=e.Jcrop(this,t),e.isFunction(n)&&n.call(r))}),this},e.Jcrop.Loader=function(t,n,r){function o(){s.complete?(i.unbind(".jcloader"),e.isFunction(n)&&n.call(s)):window.setTimeout(o,50)}var i=e(t),s=i[0];i.bind("load.jcloader",o).bind("error.jcloader",function(t){i.unbind(".jcloader"),e.isFunction(r)&&r.call(s)}),s.complete&&e.isFunction(n)&&(i.unbind(".jcloader"),n.call(s))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:7,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),define("jquery.Jcrop",function(){}),define("views/app/Avatar",["require","jquery.Jcrop","jquery","backbone","api2","utils","tools/blitline","views/lib/alerts","views/lib/spinner"],function(e){e("jquery.Jcrop");var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("tools/blitline"),o=e("views/lib/alerts"),u=e("views/lib/spinner"),a=n.View.extend({el:"#main",originalAvatarId:null,defaultMaxWidth:600,events:{"click .my-profile #upload-avatar":function(e){e.preventDefault(),t("#upload").trigger("click")},"click #submit-avatar":function(e){e.preventDefault(),this.submitAvatar()}},initialize:function(){_.bindAll(this,"uploadFile","uploadComplete","resizeComplete");if(!window.File||!window.FileReader||!window.FileList||!window.Blob)return alert("The File APIs are not fully supported in this browser.");t("#upload").on("change",this.uploadFile)},uploadFile:function(e){var n=e.target.files;if(n[0].size>6291456){o.error("Maximum file size allowed is 6 MB");return}if(!n.length)return;u.show("avatar"),i.uploadAmazon(n[0],"to-resize").then(this.uploadComplete);var r=t(e.target).closest("form").get(0);r.reset()},uploadComplete:function(e){var t=[{application_id:"7XqmahVqL8tvhEIjzBm6-jg",src:e,functions:[{name:"resize_to_fit",params:{width:this.defaultMaxWidth,height:this.defaultMaxWidth},save:{image_identifier:"external_sample_1"}}]}];s.submit(t,this.resizeComplete)},resizeComplete:function(e,n){function i(n){var i=r.size.width/t("#cropbox").width(),s=r.size.height/t("#cropbox").height();r.params={img:e[0].s3_url,x:Math.floor(n.x*i),y:Math.floor(n.y*s),w:Math.floor(n.w*i),h:Math.floor(n.h*s)}}function s(){t("#coords input").val("")}u.hide("avatar");var r=this;this.params={x:0,y:0,w:0,h:0},e.forEach(function(e){e.s3_url=e.s3_url.replace(/^http:/,"https:")});if(n)return console.error("Error processing image "+n+" Blitline dashboard can provide more info.");var a=new Image;a.onload=function(){if(this.width<174){o.error("Could not process your request. Image width is too narrow");return}if(this.height<174){o.error("Could not process your request. Image height is too short");return}r.size={width:this.width,height:this.height},t("#crop-modal .modal-body img").attr("src",e[0].s3_url),t("#crop-modal .modal-body img").css({width:r.size.width,height:r.size.height}),t("#crop-modal").width(650),t("#crop-modal").modal("show"),t("#cropbox").data("Jcrop",null).parent().find(".jcrop-holder").remove(),t("#cropbox").Jcrop({onChange:i,onSelect:i,onRelease:s,aspectRatio:1,setSelect:[50,50,224,224],minSize:[174,174],trueSize:[r.size.width,r.size.height]})},a.src=e[0].s3_url},submitAvatar:function(){this.$("#submit-avatar").button("loading"),r.post(r.getApiVersion()+"/cropped/",this.params).then(function(){o.success("Keep calm, your profile picture will be updated soon"),t("#crop-modal").modal("hide"),t("#submit-avatar").button("reset")},function(e){debugger;o.defaultError(e)})}});return a}),define("views/app/MyProfile",["require","jquery","backbone","api2","utils","phrases","tools/blitline","tmpl!templates/app/profile/form.basic.html","tmpl!templates/app/profile/form.about.html","tmpl!templates/app/profile/form.likes.html","tmpl!templates/app/profile/form.contact.html","tmpl!templates/app/profile/form.places.html","tmpl!templates/app/profile/view.photos_list.html","foundation","foundationClearing","views/lib/alerts","views/app/list","views/app/Avatar"],function(e){function y(e,t){var n={};return _.each(t,function(t,r){n[t]=e[r]}),n}var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("phrases"),o=e("tools/blitline"),u=e("tmpl!templates/app/profile/form.basic.html"),a=e("tmpl!templates/app/profile/form.about.html"),f=e("tmpl!templates/app/profile/form.likes.html"),l=e("tmpl!templates/app/profile/form.contact.html"),c=e("tmpl!templates/app/profile/form.places.html"),h=e("tmpl!templates/app/profile/view.photos_list.html"),p=e("foundation"),d=e("foundationClearing"),v=e("views/lib/alerts"),m=e("views/app/list"),g=e("views/app/Avatar"),b=n.View.extend({el:"#main",events:{"click a#add-language-btn":function(e){e.preventDefault(),this.languagesList.addItem()},"click button[id^=delete-lang]":function(e){e.preventDefault(),this.languagesList.deleteItem(e)},"click a#add-edu-btn":function(e){e.preventDefault(),this.educationsList.addItem(),this.initStudyTypeahead()},"click button[id^=delete-edu]":function(e){e.preventDefault(),this.educationsList.deleteItem(e)},"click a#add-otherLocation-btn":function(e){e.preventDefault();var n=this.otherLocationsList.addItem(),r=this.$("#"+n).children("[name=otherLocations]")[0],i=new google.maps.places.Autocomplete(r,{types:["(cities)"]});google.maps.event.addListener(i,"place_changed",this.updateMap(i,"other",n)),t(r).keypress(function(e){e.which===13&&e.preventDefault()})},"click button[id^=delete-otherLocation]":function(e){e.preventDefault();var t=e.target.id.split("delete-")[1];this.otherLocationsList.deleteItem(e),this.parentCtrl.map.deleteMarker(t)},"click a#add-social-btn":function(e){e.preventDefault(),this.socialsList.addItem()},"click button[id^=delete-social]":function(e){e.preventDefault(),this.socialsList.deleteItem(e)},"click a#add-im-btn":function(e){e.preventDefault(),this.imList.addItem()},"click button[id^=delete-im]":function(e){e.preventDefault(),this.imList.deleteItem(e)},"keypress #hometown":function(e){e.which===13&&e.preventDefault()},"keypress #currentCity":function(e){e.which===13&&e.preventDefault()},"keypress [name=otherLocations]":function(e){e.which===13&&e.preventDefault()},"submit form#basic-info-form":"submitProfile","submit form#about-me-form":"submitProfile","submit form#likes-form":"submitProfile","submit form#contact-form":"submitProfile","submit form#places-form":"submitProfile","click .edit-box-btn":"openForm","click button.cancel-edition-btn":"closeBox","click #add_photo":function(e){var n=t(e.target).find("#input-photo-upload");n.clone().removeAttr("id").appendTo(n.parent()).trigger("click")},'change #add_photo input[type="file"]':function(e){var n=e.target.files[0];this.checkPhotoData(n,t(e.target).data("album")),t(e.target).closest("form").get(0).reset()},"mouseenter #collapse-photos li":function(e){t(e.target).parents("li").find(".control").show()},"mouseleave #collapse-photos li":function(e){t(e.target).parents("li").find(".control").hide()}},checkPhotoData:function(e,t){var n=this;if(e.size>6291456){alert("this photo is bigger than 6 Mb");return}var s=new Image,u=window.URL||window.webkitURL;u?s.src=u.createObjectURL(e):v.error("Your browser does not support image loading. To get the best experience, please download Chrome"),s.onload=function(){if(this.width<380){v.error("The photo width must be bigger than 380px");return}if(this.height<150){v.error("The photo width must be bigger than 150px");return}var s=Date.now()+"-"+Math.random();n.renderPhotoUpload(this,s),i.uploadAmazon(e,"to-resize").then(function(e){var n=[{application_id:"7XqmahVqL8tvhEIjzBm6-jg",src:e,content_type_json:!0,functions:[{name:"resize_to_fit",params:{width:600,height:600},save:{image_identifier:"big",quality:100,s3_destination:{bucket:{name:"peoplewings-test-media",location:"eu-west-1"},key:"/photoalbums/big_"+s}}},{name:"resize_to_fit",params:{width:380},save:{image_identifier:"thumb",quality:100,s3_destination:{bucket:{name:"peoplewings-test-media",location:"eu-west-1"},key:"/photoalbums/thumb_"+s}}}],postback_url:r.getServerUrl()+r.getApiVersion()+"/photocompleted"+r.urlEncode({album:t,authToken:r.getAuthToken(),hash:s})}];o.submit(n)})}},renderPhotoUpload:function(e,t){var n=this;this.$el.find("#photo-box .clearing-thumbs").prepend(h({uploading:!0,id:t,src:e.src})),this.$("#photo-box").foundation(),this.$("#photo-box ul").sortable(),this.$("#collapse-photos .control").off().on("click",this.removePhoto),this.uploadStart(t)},uploadStart:function(e){this._uploading.push(e),console.log("Uploading",e),this._interval||(this._interval=setInterval(r.control,5e3),console.log("Starting interval"))},uploadEnd:function(e){this._uploading=this._uploading.filter(function(t){return t!==e}),console.log("Upload end",e),this._uploading.length||(clearInterval(this._interval),this._interval=null,console.log("Clearing interval"))},initialize:function(e,n){this._uploading=[],this.model=e,this.parentCtrl=n,this.removePhoto=this.removePhoto.bind(this);var i=this;r.listenUpdate("photos",function(e){e.forEach(function(e){var r=t(h(e));t('[data-tmp-photo-id="'+e.hash+'"]').replaceWith(r),r.find(".control").on("click",n.onCloseClick),i.uploadEnd(e.hash)})})},removePhoto:function(e){e.stopPropagation(),e.preventDefault(),t(e.target).parents("li").slideUp()},closeBox:function(e){e.preventDefault();var n=t(e.target).parent().attr("data-rel")||t(e.target).attr("data-rel");this.parentCtrl.refreshBox(n)},reloadBox:function(e){e.preventDefault();var n=t(e.target).parent().attr("data-rel")||t(e.target).attr("data-rel");this.parentCtrl.renderBox(n)},openForm:function(e){var n=t(e.target).parent().attr("data-rel")||t(e.target).attr("data-rel"),r=document.getElementById(n),i=null,o=null;t(r).children().remove();switch(n){case"basic-box":i=u(this.model.toJSON(),{months:s.months}),o=this.editBasicBox.bind(this);break;case"about-box":i=a(this.model.toJSON()),o=this.editAboutBox.bind(this);break;case"likes-box":i=f(this.model.toJSON());break;case"contact-box":i=l(this.model.toJSON()),o=this.editContactBox.bind(this);break;case"places-box":i=c(this.model.toJSON()),o=this.editPlacesBox.bind(this)}t(r).html(i),o&&o()},refresh:function(){this.avatar=new g,this.refresh=function(){}},editBasicBox:function(){this.languagesList=new m({el:"#languages-list",store:this.model.get("languages"),key:"language",tpl:"#language-tpl"})},editAboutBox:function(){this.educationsList=new m({el:"#education-list",store:this.model.get("education"),key:"edu",tpl:"#education-tpl"}),this.initStudyTypeahead()},editContactBox:function(){this.socialsList=new m({el:"#socialNetwork-list",store:this.model.get("socialNetworks"),key:"social",tpl:"#socialNetwork-tpl"}),this.imList=new m({el:"#instantMessage-list",store:this.model.get("instantMessages"),key:"im",tpl:"#im-tpl"})},editPlacesBox:function(){this.otherLocationsList=new m({el:"#otherLocations-list",store:this.model.get("otherLocations"),key:"otherLocation",tpl:"#otherLocation-tpl"}),this.parentCtrl.map.render(),this.initLocationTypeahead()},initStudyTypeahead:function(){t.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-Auth-Token",r.getAuthToken())}}),t(".autocompleteStudy").typeahead({ajax:{url:r.getServerUrl()+"/api/v1/universities",triggerLength:1,method:"get",preDispatch:function(e){return{name:e}},preProcess:function(e){return e.status?e.data.map(function(e){return e.name}):!1}}})},initLocationTypeahead:function(){var e=new google.maps.places.Autocomplete(document.getElementById("hometownCity"),{types:["(cities)"]});google.maps.event.addListener(e,"place_changed",this.updateMap(e,"hometown","hometown"));var n=new google.maps.places.Autocomplete(document.getElementById("currentCity"),{types:["(cities)"]});google.maps.event.addListener(n,"place_changed",this.updateMap(n,"current","current"));var r=this.$("#otherLocations-list").children().last().prop("id"),i=new google.maps.places.Autocomplete(t("#"+r).children("[name=otherLocations]")[0],{types:["(cities)"]});google.maps.event.addListener(i,"place_changed",this.updateMap(i,"other",r))},updateMap:function(e,t,n){var r=this.parentCtrl;return function(){var s=e.getPlace();if(s.geometry){var o=i.getCityAndCountry(s.address_components);r.map.setCenter(s.geometry.location),r.map.addMarker({id:n,location:s.geometry.location,title:o.city+", "+o.country,icon:"img/places-"+t+"-marker.png"}),r.$("#"+n+" input[name^="+t+"-city]").val(o.city),r.$("#"+n+" input[name^="+t+"-country]").val(o.country),r.$("#"+n+" input[name^="+t+"-region]").val(o.region),r.$("#"+n+" input[name^="+t+"-lat]").val(s.geometry.location.lat()),r.$("#"+n+" input[name^="+t+"-lon]").val(s.geometry.location.lng())}}},uploadFile:function(e){var t=e.target.files;if(t[0].size>6291456){v.error("Maximum file size allowed is 6 MB");return}if(!t.length)return;spinner.show("avatar"),i.uploadAmazon(t[0],"to-resize").then(this.uploadComplete)},uploadComplete:function(e){var t=[{application_id:"7XqmahVqL8tvhEIjzBm6-jg",src:e,functions:[{name:"resize_to_fit",params:{width:this.defaultMaxWidth,height:this.defaultMaxWidth},save:{image_identifier:"external_sample_1"}}]}];o.submit(t,this.resizeComplete)},submitProfile:function(e){e.preventDefault(e);var n=this.collectData(e.target.id);t(e.target).parent().parent().find("#save-profile-btn").button("loading");var r=this;this.model.save(n).then(function(){v.success("Profile saved")}).fin(function(){r.$("#save-profile-btn").button("reset"),r.reloadBox(e)})},collectData:function(e){var t=i.serializeForm(e);_.extend(t,i.serializeForm("contact-form")),_.extend(t,i.serializeForm("about-me-form")),_.extend(t,i.serializeForm("likes-form")),t.languages&&(t.languages instanceof Array||(t.languages=[t.languages],t.levels=[t.levels]),t.languages=t.languages.map(function(e,n){return{name:e,level:t.levels[n]}}),delete t.levels),t.instantMessages&&(t.instantMessages instanceof Array||(t.instantMessages=[t.instantMessages],t.imUsername=[t.imUsername]),t.instantMessages=t.instantMessages.map(function(e,n){return{instantMessage:e,imUsername:t.imUsername[n]}}),delete t.imUsername),t.socialNetworks&&(t.socialNetworks instanceof Array||(t.socialNetworks=[t.socialNetworks],t.snUsername=[t.snUsername]),t.socialNetworks=t.socialNetworks.map(function(e,n){return{socialNetwork:e,snUsername:t.snUsername[n]}}),delete t.snUsername),t.education&&!(t.education instanceof Array)&&(t.education=[t.education]),t["other-city"]?(t["other-city"]instanceof Array||(t["other-city"]=[t["other-city"]],t["other-region"]=[t["other-region"]],t["other-country"]=[t["other-country"]],t["other-lat"]=[t["other-lat"]],t["other-lon"]=[t["other-lon"]]),t.otherLocations=t["other-city"].map(function(e,n){return{name:e,country:t["other-country"][n],region:t["other-region"][n],lat:t["other-lat"][n],lon:t["other-lon"][n]}}),delete t["other-city"],delete t["other-country"],delete t["other-region"],delete t["other-lat"],delete t["other-lon"]):t.otherLocations=[];if(t.current){var n={"current-city":"name","current-country":"country","current-region":"region","current-lat":"lat","current-lon":"lon"};t.current=t.current?y(t,n):{},t=_.omit.apply(_,[t].concat(_.keys(n)))}if(t.hometown){var r={"hometown-city":"name","hometown-country":"country","hometown-region":"region","hometown-lat":"lat","hometown-lon":"lon"};t.hometown=t.hometown?y(t,r):{},t=_.omit.apply(_,[t].concat(_.keys(r)))}return t}});return b}),define("tmpl!templates/app/profile/form.wing.html",["core/view"],function(e){return e('<form id="accomodation-form-{{id}}" data-rel="{{id}}">\n	<div class="box-header">\n		<i class="icon-house">Accommodation icon</i>\n		<h2>Accommodation Wing</h2>\n	</div>\n	<div class="box-content wings-info">\n		<div class="control-group lined">\n			<label class="control-label" for="inputName">Wing name</label>\n			<div class="controls">\n				<input type="text" value="{{name}}" id="inputName" name="name" placeholder="Some name" class="size-extralarge required" maxlength="100">\n			</div>\n		</div>\n		<div class="control-group lined">\n			<label class="control-label" for="inputStatus">Wing status</label>\n			<div class="controls">\n				<select name="status" id="wingStatus" class="size-medium">\n					<option value="Y" {{selected status \'Y\'}}>Yes</option>\n					<option value="N" {{selected status \'N\'}}>No</option>\n					<option value="M" {{selected status \'M\'}}>Maybe</option>\n				</select>\n			</div>\n		</div>\n		<div class="control-group lined overflow">\n			<label class="control-label" for="inputSharingOnce">Are you sharing one time?</label>\n			<div class="controls">\n				<label class="checkbox">\n					<input type="checkbox" name="sharingOnce" id="inputSharingOnce" {{checked sharingOnce true}}>\n				</label>\n				<span class="help-inline"></span>\n			</div>\n		</div>\n		<div id="sharing-dates"class="control-group">\n			<div class="controls">\n				<input type="text" name="dateStart" class="input-sdate" placeholder="Start date" value="{{dateStart}}">\n				<input type="text" name="dateEnd" class="input-edate" placeholder="End date" value="{{dateEnd}}">\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label" for="inputNewEmail">Best days to host</label>\n			<div class="controls">\n				<select name="bestDays" id="inputBestDays" class="size-165">\n					<option value="A" {{selected bestDays \'A\'}}>Any</option>\n					<option value="F" {{selected bestDays \'F\'}}>From Monday to Friday</option>\n					<option value="T" {{selected bestDays \'T\'}}>From Monday to Thursday</option>\n					<option value="W" {{selected bestDays \'W\'}}>Weekend</option>\n				</select>\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label" for="inputCapacity">Capacity</label>\n			<div class="controls">\n				<select name="capacity" class="size-small">\n					<option value="1" {{selected capacity \'1\'}}>1</option>\n					<option value="2" {{selected capacity \'2\'}}>2</option>\n					<option value="3" {{selected capacity \'3\'}}>3</option>\n					<option value="4" {{selected capacity \'4\'}}>4</option>\n					<option value="5" {{selected capacity \'5\'}}>5</option>\n					<option value="6" {{selected capacity \'6\'}}>6</option>\n					<option value="7" {{selected capacity \'7\'}}>7</option>\n					<option value="8" {{selected capacity \'8\'}}>8</option>\n					<option value="9" {{selected capacity \'9\'}}>9</option>\n					<option value="m" {{selected capacity \'m\'}}>+9</option>\n				</select>\n			</div>\n		</div>\n		<div class="control-group blocked no-margin">\n			<label class="control-label" for="inputGender">Prefered gender</label>\n			<div class="controls">\n				<select name="preferredGender" class="size-medium">\n					<option value="Male" {{selected preferredGender \'Male\'}}>Male</option>\n					<option value="Female" {{selected preferredGender \'Female\'}}>Female</option>\n					<option value="Both" {{selected preferredGender \'Both\'}}>Both</option>\n				</select>\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label" for="inputNewEmail">Sleeping arrangements</label>\n			<div class="controls">\n				<select name="whereSleepingType" id="whereSleepingType" class="size-165">\n					<option value="C" {{selected whereSleepingType \'C\'}}>Common area</option>\n					<option value="P" {{selected whereSleepingType \'P\'}}>Private area</option>\n					<option value="S" {{selected whereSleepingType \'S\'}}>Shared private area</option>\n				</select>\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label" for="inputNewEmail">Smoking</label>\n			<div class="controls">\n				<select name="smoking" id="smoking" class="size-large">\n					<option value="N" {{selected smoking \'N\'}}>No smoking allowed</option>\n					<option value="S" {{selected smoking \'S\'}}>I smoke</option>\n					<option value="D" {{selected smoking \'D\'}}>I don\'t smoke but guests can smoke here</option>\n				</select>\n			</div>\n		</div>\n		<div class="control-group">\n			<div class="controls check">\n				<label class="checkbox">\n					<input type="checkbox" name="wheelchair" id="inlineCheckbox1" {{checked wheelchair true}}>Wheelchair accessible\n				</label>\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<div class="controls check">\n				<label class="checkbox">\n					<input type="checkbox" name="iHavePet" id="inlineCheckbox1" {{checked iHavePet true}}>I have pet\n				</label>\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<div class="controls check">\n				<label class="checkbox">\n					<input type="checkbox" name="petsAllowed" id="inlineCheckbox2" {{checked petsAllowed true}}>Guests pets allowed\n				</label>\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<div class="controls check">\n				<label class="checkbox">\n					<input type="checkbox" name="blankets" id="inputBlankets" {{checked blankeys true}}>I have blankets\n				</label>\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<div class="controls check">\n				<label class="checkbox">\n					<input type="checkbox" name="liveCenter" id="inputLiveCenter" {{checked liveCenter true}}>I live in the center\n				</label>\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label">Transports</label>\n			<div class="controls">\n				<label class="checkbox">\n					<input type="checkbox" name="metro" id="checkboxMetro" {{checked metro true}}>Metro\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="bus" id="checkboxBus" {{checked bus true}}>Bus\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="taxi" id="checkboxtaxi" {{checked taxi true}}>Tram\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="train" id="checkboxTrain" {{checked train true}}>Train\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="car" id="checkboxCar" {{checked car true}}>Car\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="motorbike" id="checkboxMotorbike" {{checked motorbike true}}>Motorbike\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="bicycle" id="checkboxBicycle" {{checked bicycle true}}>Bicycle\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="boat" id="checkboxBoat" {{checked boat true}}>Boat\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="plane" id="checkboxPlane" {{checked plane true}}>Plane\n				</label>\n				<label class="checkbox">\n					<input type="checkbox" name="other" id="checkboxOther" {{checked other true}}>Other\n				</label>\n\n				<span class="help-inline"></span>\n			</div>\n		</div>\n		<div class="control-group">\n			<label class="control-label">About your accomodation</label>\n			<div class="controls">\n				<textarea class="span4" name="about" id="inputAbout" placeholder="Texto de ayuda" maxlength="1000">{{about}}</textarea>\n				<span class="help-block"></span>\n			</div>\n		</div>\n	</div><!-- EOF box-content -->\n	<div class="box-header">\n		<i class="icon-contact">Contact icon</i>\n		<h2>Listing location</h2>\n	</div>\n	<div class="guest-message">\n		<h2>Shown only to Confirmed Guests</h2>\n		<i class="icon-lock">Lock icon</i>\n		<p>To protect your privacy, we hide your address, phone number, and contact information from users that have not confirmed a reservation with you</p>\n	</div><!-- EOF guest-message -->\n	<div class="listing-location">\n		<div class="control-group blocked">\n			<label class="control-label">Street address</label>\n			<i class="icon-lock">icon lock</i>\n			<div class="controls">\n				<input type="text" name="address" id="inputAddress" class="required" value="{{address}}" maxlength="500">\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label">Number</label>\n			<i class="icon-lock">icon lock</i>\n			<div class="controls">\n				<input type="text" name="number" id="inputNumber" value="{{number}}" class="input-mini required" maxlength="50">\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label">Additional Information</label>\n			<i class="icon-lock">icon lock</i>\n			<div class="controls">\n				<input type="text" name="additionalInformation" id="inputAdditionalInfo" class="size-box-standard" value="{{additionalInformation}}" maxlength="500">\n				<span class="help-block"></span>\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label">City</label>\n			<i class="icon-lock-open">icon lock</i>\n			<div class="controls">\n				{{#with city}}\n				<input type="text" name="city" id="inputCity" class="required" value="{{name}}, {{region}}, {{country}}">\n				<span class="help-block"></span>\n				{{/with}}\n			</div>\n		</div>\n		<div class="control-group blocked">\n			<label class="control-label">Postal</label>\n			<i class="icon-lock">icon lock</i>\n			<div class="controls">\n				<input type="text" name="postalCode" id="inputPostalCode" class="input-mini required" value="{{postalCode}}" maxlength="50">\n				<span class="help-block"></span>\n			</div>\n		</div>\n	</div><!-- EOF listing-location -->\n	<div class="box-footer accordion-heading">\n		<div class="button-group">\n			<button class="button cancel-wing-btn" wing-id="{{id}}">Cancel</button>\n			<button id="save-wing-btn" type="submit" class="button-highlight" data-loading-text="Saving...">Save</button>\n		</div>\n	</div><!-- EOF box-footer -->\n</form>')}),define("tmpl!templates/lib/modal.form.wings.html",["core/view"],function(e){return e('		<div class="box-standard">\n			<form id="accomodation-form">\n				<div class="box-header">\n					<i class="icon-house">Accommodation icon</i>\n					<h1>Accommodation Wing</h1>\n				</div>\n				<div class="box-content wings-info">\n					{{#if update}}\n					<div class="btn-group pull-right">\n						<button class="btn btn-mini">Options</button>\n						<button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">\n							<span class="caret"></span>\n						</button>\n						<ul class="dropdown-menu">\n							<li><a id="delete-wing-btn" tabindex="-1">Delete</a></li>\n						</ul>\n					</div>\n					{{/if}}\n					<div class="block-form">\n						<label class="control-label" for="inputName">Wing name</label>\n						<div class="controls">\n							<input type="text" id="inputName" name="name" placeholder="Some name" class="input-large required">\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form">\n						<label class="control-label" for="inputStatus">Wing status</label>\n						<div class="controls">\n							<select name="status" id="wingStatus" class="size-medium">\n								<option value="Y" selected="selected">Yes</option>\n								<option value="N">No</option>\n								<option value="M">Maybe</option>\n							</select>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form dates-type">\n						<label class="control-label" for="inputSharingOnce">Are you sharing one time?</label>\n						<div class="controls">\n							<label class="checkbox">\n								<input type="checkbox" name="sharingOnce" id="inputSharingOnce">\n							</label>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form clearfix">\n						<div id="sharing-dates" class="controls">\n							<input type="text" class="input-dates" name="dateStart" placeholder="Start date">\n							<input type="text" class="input-dates" name="dateEnd" placeholder="End date">\n						</div>\n						<span class="help-block"></span>\n					</div>\n					<div class="block-form float-left margin-right">\n						<label class="control-label" for="inputNewEmail">Best days to host</label>\n						<div class="controls">\n							<select name="bestDays" id="inputBestDays" class="width160px">\n								<option value="A" selected="selected">Any</option>\n								<option value="F">From Monday to Friday</option>\n								<option value="T">From Monday to Thursday</option>\n								<option value="W">Weekend</option>\n							</select>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form float-left margin-right">\n						<label class="control-label" for="inputCapacity">Capacity</label>\n						<div class="controls">\n							<select name="capacity" class="size-small">\n								<option value="1">1</option>\n								<option value="2">2</option>\n								<option value="3">3</option>\n								<option value="4">4</option>\n								<option value="5">5</option>\n								<option value="6">6</option>\n								<option value="7">7</option>\n								<option value="8">8</option>\n								<option value="9">9</option>\n								<option value="10">+9</option>\n							</select>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form float-left">\n						<label class="control-label" for="inputGender">Prefered gender</label>\n						<div class="controls">\n							<select name="preferredGender" class="size-medium">\n								<option value="Male">Male</option>\n								<option value="Female">Female</option>\n								<option value="Both">Both</option>\n							</select>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form float-left margin-right">\n						<label class="control-label" for="inputNewEmail">Sleeping arrangements</label>\n						<div class="controls">\n							<select name="whereSleepingType" id="whereSleepingType" class="width160px">\n								<option value="C" selected="selected">Common area</option>\n								<option value="P">Private area</option>\n								<option value="S">Shared private area</option>\n							</select>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form float-left">\n						<label class="control-label" for="inputNewEmail">Smoking</label>\n						<div class="controls">\n							<select name="smoking" id="smoking" class="size-large">\n								<option value="N" selected="selected">No smoking allowed</option>\n								<option value="S">I smoke</option>\n								<option value="D">I don\'t smoke but guests can smoke here</option>\n							</select>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form checkbox-type clearfix">\n						<label class="checkbox">\n							<input type="checkbox" name="wheelchair" id="inlineCheckbox1">Wheelchair accessible\n						</label>\n						<span class="help-block"></span>\n					</div>\n					<div class="block-form checkbox-type">\n						<label class="checkbox">\n							<input type="checkbox" name="iHavePet" id="inlineCheckbox1">I have pet\n						</label>\n						<span class="help-block"></span>\n					</div>\n					<div class="block-form checkbox-type">\n						<label class="checkbox">\n							<input type="checkbox" name="petsAllowed" id="inlineCheckbox2">Guests pets allowed\n						</label>\n						<span class="help-block"></span>\n					</div>\n					<div class="block-form checkbox-type">\n						<label class="checkbox">\n							<input type="checkbox" name="blankets" id="inputBlankets">I have blankets\n						</label>\n						<span class="help-block"></span>\n					</div>\n					<div class="block-form checkbox-type">\n						<label class="checkbox">\n							<input type="checkbox" name="liveCenter" id="inputLiveCenter">I live in the center\n						</label>\n						<span class="help-block"></span>\n					</div>\n					<div class="block-form grid">\n						<label>Transports</label>\n						<div class="container-5">\n							<label class="grid-1">\n								<input type="checkbox" name="metro" id="checkboxMetro">Metro\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="bus" id="checkboxBus">Bus\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="taxi" id="checkboxtaxi">Tram\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="train" id="checkboxTrain">Train\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="car" id="checkboxCar">Car\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="motorbike" id="checkboxMotorbike">Moto\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="bicycle" id="checkboxBicycle">Bici\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="boat" id="checkboxBoat">Boat\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="plane" id="checkboxPlane">Plane\n							</label>\n							<label class="grid-1">\n								<input type="checkbox" name="other" id="checkboxOther">Other\n							</label>\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="block-form">\n						<label class="control-label">About your accommodation</label>\n						<div class="controls">\n							<textarea class="span4" name="about" id="inputAbout" placeholder="Texto de ayuda"></textarea>\n							<span class="help-block"></span>\n						</div>\n					</div>\n				</div><!-- EOF box-content -->\n				<div class="box-header">\n					<i class="icon-contact">Contact icon</i>\n					<h2>Listing location</h2>\n				</div>\n				<div class="guest-message">\n					<h2>Shown only to Confirmed Guests</h2>\n					<i class="icon-lock">icon lock</i>\n					<p>To protect your privacy, we hide your address, phone number, and contact information from users that have not confirmed a reservation with you</p>\n				</div><!-- EOF guest-message -->\n				<div class="listing-location">\n					<div class="control-group blocked">\n						<label class="control-label">Street address</label>\n						<i class="icon-lock">icon lock</i>\n						<div class="controls">\n							<input type="text" name="address" id="inputAddress" class="input-medium required">\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="control-group blocked">\n						<label class="control-label">Number</label>\n						<i class="icon-lock">icon lock</i>\n						<div class="controls">\n							<!-- <input type="number" name="number" id="inputNumber" class="input-mini required"> -->\n							<input type="text" name="number" id="inputNumber" class="input-mini required">\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="control-group blocked">\n						<label class="control-label">Additional Information</label>\n						<i class="icon-lock">icon lock</i>\n						<div class="controls">\n							<input type="text" name="additionalInformation" id="inputAdditionalInfo" class="size-box-standard">\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="control-group blocked">\n						<label class="control-label">City</label>\n						<i class="icon-lock-open">icon lock</i>\n						<div class="controls">\n							<input type="text" name="city" id="inputCity" class="input-medium required">\n							<span class="help-block"></span>\n						</div>\n					</div>\n					<div class="control-group blocked">\n						<label class="control-label">Postal</label>\n						<i class="icon-lock">icon lock</i>\n						<div class="controls">\n							<input type="text" name="postalCode" id="inputPostalCode" class="input-mini required">\n							<span class="help-block"></span>\n						</div>\n					</div>\n				</div><!-- EOF listing-location -->\n			</form>\n		</div><!-- EOF box-standard -->\n')}),define("tmpl!templates/app/profile/view.wing.html",["core/view"],function(e){return e('				<div class="box-header">\n					<i class="icon-house">About icon</i>\n					<h2>Accommodation Wing</h2>\n					{{#if myProfile}}\n					<div class="btn-group pull-right">\n						<a class="dropdown-toggle" data-toggle="dropdown" href="#">\n							<i class="icon-config">Config icon</i>\n						</a>\n						<ul class="dropdown-menu">\n							<li><a href="#" class="edit-wing-btn" wing-id="{{id}}">Edit wing</a></li>\n							<li><a href="#" class="delete-wing-btn" wing-id="{{id}}">Delete wing</a></li>\n						</ul>\n					</div>\n					{{/if}}\n					<!--\n					{{#if myProfile}}\n					<button id="edit-wing-{{id}}" class="button2"><span class="edit-icon">Edit</span></button>\n					{{/if}}-->\n				</div>\n				<div class="box-content wings-info">\n					<h2>Wings name</h2>\n					<p>{{name}}</p>\n					<h2>City</h2>\n					<p>{{city.name}}, {{city.country}}</p>\n					<h2>Wings status</h2>\n					<p>{{statusVerbose}}</p>\n					<h2>Are you sharing for one time</h2>\n					{{#if sharingOnce}}\n					<p>{{dateStart}} to {{dateEnd}}</p>\n					{{else}}\n					<p>No</p>\n					{{/if}}\n					<h2>Better days to host</h2>\n					<p>{{bestDaysVerbose}}</p>\n					<h2>Capacity</h2>\n					<p>{{capacity}} people</p>\n					{{#if preferredMale}}\n					<h2>Preferred gender</h2>\n					<p>Male</p>\n					{{/if}}\n					{{#if preferredFemale}}\n					<h2>Preferred gender</h2>\n					<p>Female</p>\n					{{/if}}\n					<h2>Wheelchair accessible</h2>\n					<p>\n						{{#if weelchair}}Yes{{else}}No{{/if}}\n					</p>\n					<h2>Sleeping arrangements</h2>\n					<p>{{whereSleepingTypeVerbose}}</p>\n					<h2>Smoking</h2>\n					<p>{{smokingVerbose}}</p>\n					<h2>Pets</h2>\n					<p>\n						{{#if petsAllowed}}\n						Guest pets allowed\n						{{else}}\n						No guest pets allowed\n						{{/if}}\n						{{#if iHavePet}}\n						and I have a pet\n						{{else}}\n						and I don\'t have any pet\n						{{/if}}\n					</p>\n					<h2>I have blankets</h2>\n					<p>{{#if blankets}}Yes{{else}}No{{/if}}</p>\n					<h2>I live in the city center</h2>\n					<p>{{#if liveCenter}}Yes{{else}}No{{/if}}</p>\n					{{#if transports}}\n					<h2>Public transport</h2>\n					<p>\n						{{#if train}}Train, {{/if}}\n						{{#if metro}}metro, {{/if}}\n						{{#if taxi}}taxi, {{/if}}\n						{{#if bus}}bus, {{/if}}\n						{{#if boat}}boat, {{/if}}\n						{{#if plane}}plane{{/if}}\n						{{#if motorbike}}motorbike{{/if}}\n						{{#if bicycle}}bicycle{{/if}}\n						{{#if other}}other{{/if}}\n					</p>\n					{{/if}}\n					<h2 class="last-p">About your accommodation</h2>\n					<p>{{about}}</p>\n				</div>\n				<div class="gradient-box"></div>\n				<div class="accordion-heading">\n					<span>See more</span>\n				</div>\n')}),define("views/app/MyWings",["require","jquery","backbone","api2","utils","views/lib/alerts","tmpl!templates/app/profile/form.wing.html","tmpl!templates/lib/modal.form.wings.html","tmpl!templates/app/profile/view.wing.html"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("utils"),s=e("views/lib/alerts"),o=e("tmpl!templates/app/profile/form.wing.html"),u=e("tmpl!templates/lib/modal.form.wings.html"),a=e("tmpl!templates/app/profile/view.wing.html"),f=n.View.extend({el:"#main",newCityObject:{},wingDefaultData:{about:"",additionalInformation:"",metro:!1,bus:!1,taxi:!1,train:!1,car:!1,motorbike:!1,bicycle:!1,boat:!1,plane:!1,other:!1,liveCenter:!1,petsAllowed:!1,wheelchair:!1,sharingOnce:!1,iHavePet:!1,blankets:!1},events:{"click #add-wing-btn":function(e){e.preventDefault(),this.wingModal=i.showModal({header:"Add Wing",accept:"Save",loadingText:"Saving...",content:u,send:this.submitWing,form:"accomodation-form",thin:!0}),this.initWing()},"click input#inputSharingOnce":function(e){e.target.checked?this.$("div#sharing-dates").show():(this.$("div#sharing-dates").hide(),this.$("[name=dateStart]").val(""),this.$("[name=dateEnd]").val(""))},"click a.edit-wing-btn":"editWing","click a.delete-wing-btn":"deleteWing","click button.cancel-wing-btn":"cancelEdition","submit form#accomodation-form":"createWing","submit form[id^=accomodation-form-]":"submitWing"},initialize:function(e){this.parentCtrl=e},submitWing:function(e){e.preventDefault();var n=+t(e.target).attr("data-rel"),i=this.parseForm(e.target.id,this.parentCtrl.model.findWingById(n).city);t(e.target).find("button.save-wing-btn").button("loading");var o=this;r.put(this.parentCtrl.model.urlWings()+"/"+n,i).then(function(){o.parentCtrl.model.fetchWing({wingId:n,success:o.refreshWing.bind(o,n,a)}),s.success("Wing saved")}).fin(function(){t(e.target).find("button.save-wing-btn").button("reset")})},createWing:function(e){e.preventDefault();var n=this.parseForm(e.target.id,this.newCityObject.city);t(e.target).find("button.save-wing-btn").button("loading");var i=this;r.post(this.parentCtrl.model.urlWings(),n).then(function(){i.parentCtrl.model.fetchWings({success:i.parentCtrl.refreshWings.bind(i.parentCtrl,!0)}),i.wingModal.modal("hide"),s.success("Wing saved")}).fin(function(){t(e.target).find("button.save-wing-btn").button("reset"),i.el="#main"})},parseForm:function(e,t){var n=this.wingDefaultData;return n=_.extend(n,i.serializeForm(e)),_.each(n,function(e,t){e==="on"&&(n[t]=!0)}),n.sharingOnce||(n=_.omit(n,["dateStart","dateEnd"])),n.city=t,n},editWing:function(e){e.preventDefault();var t=+e.target.attributes["wing-id"].value;this.el="#wing-box-"+t,this.initWing(this.refreshWing(t,o))},cancelEdition:function(e){e.preventDefault();var t=+e.target.attributes["wing-id"].value;this.$("#accomodation-form-"+t)[0].reset(),this.refreshWing(t,a),this.el="#main"},refreshWing:function(e,n){var r=this.parentCtrl.model.findWingById(e);return t(this.el).html(n(r,{myProfile:!0})),r},initWing:function(e){var t="",n="";e&&e.sharingOnce&&(this.$("div#sharing-dates").show(),t=e.dateStart,n=e.dateEnd),this.$("div#sharing-dates").hide(),this.$("#accomodation-form").validate(),this.$("input[name=dateStart]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"}).val(t),this.$("input[name=dateEnd]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"}).val(n);var r=new google.maps.places.Autocomplete(document.getElementById("inputCity"),{types:["(cities)"]}),s=e||this.newCityObject;google.maps.event.addListener(r,"place_changed",i.setAutocomplete.bind(this,r,s)),this.$("#inputCity").keypress(function(e){e.which===13&&e.preventDefault()}),this.$("#accomodation-form").validate()},deleteWing:function(e){e.preventDefault();var t=e.target.attributes["wing-id"].value,n=this;confirm("Are you sure you want to delete this wing?")&&r.delete(r.getApiVersion()+"/profiles/"+r.getUserId()+"/accomodations/"+t).then(function(){n.parentCtrl.model.fetch({success:function(){n.parentCtrl.model.fetchWings({success:n.parentCtrl.refreshWings.bind(n.parentCtrl,!0)}),s.success("Wing deleted")}})},function(){s.defaultError()})}});return f}),define("tmpl!templates/app/profile/carousel.html",["core/view"],function(e){return e('<!-- \n<div id="overlay"></div>\n\n<div id="myCarousel" class="carousel slide">\n	<div class="carousel-inner">\n		{{#each photos}}\n			<div class="item">\n                <img src="{{src}}">\n          	</div>\n		{{/each}}\n	</div>Carousel nav -->\n<!-- \n	<a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>\n	<a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>\n</div>myCarousel -->\n')}),define("views/lib/Carousel",["require","jquery","backbone","api2","tmpl!templates/app/profile/carousel.html"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("tmpl!templates/app/profile/carousel.html"),s=n.View.extend({tagName:"div",initialize:function(e){this.activeImg()},events:{"click #overlay":"hide"},render:function(){this.$el.attr("id","carousel"),this.$el.append(i(this.model.toJSON())),this.$el.css({position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":4e3}),this.$("#overlay").css({"background-color":"black",opacity:"0.6",width:"100%",height:"100%"}),this.$("#myCarousel").css({position:"fixed",top:0})},show:function(){this.activeImg(),this.$el.show()},hide:function(){this.$el.hide()},activeImg:function(){this.$(".active").removeClass("active"),this.$(".carousel-inner div:nth-child("+(this.options.id+1)+")").addClass("active")}});return s}),define("tmpl!templates/app/profile/profile.html",["core/view"],function(e){return e('<div class="container {{#if myProfile}}my-profile{{/if}}">\n	<form id="file-form" style="display: none" method="post" action="" enctype="multipart/form-data">\n		<input id="upload" type="file" name="files[]" />\n	</form>\n    <div id="crop-modal" class="generic-modal modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="display:none">\n      <div class="modal-header">\n        <h1 id="myModalLabel">Crop Image</h1>\n        <button type="button" class="button-close" data-dismiss="modal" aria-hidden="true">×</button>\n      </div>\n      <div class="modal-body" style="max-height: 500px">\n        <h2>To crop image, drag the region below and click Send.</h2>\n        <center>\n          <img id="cropbox" src="" alt="">\n          <div class="progress progress-striped" style="margin-top:10px;display:none;">\n            <div class="bar" style="width: 0%;"></div>\n          </div>\n        </center>\n      </div>\n      <div class="modal-footer">\n        <div class="button-group">\n          <button id="cancel-crop" class="button" data-dismiss="modal" aria-hidden="true">Cancel</button>\n          <button type="submit" id="submit-avatar" class="button-highlight accept-modal-btn" data-loading-text="Processing...">Send</button>\n        </div>\n      </div>\n    </div>\n\n	<div class="landscape">\n		<div class="tabs">\n			<ul class="nav nav-tabs">\n				<li class="active"><a href="#about" data-toggle="tab">Profile</a></li>\n				<li><a href="#wings" data-toggle="tab">Wings</a></li>\n			</ul>\n		</div><!-- EOF tabs -->\n		<div class="personal-info">\n			<div class="content-top">\n				<h1 id="user-name-label" class="name">{{firstName}} {{lastName}}</h1>\n				<span class="age">[{{age}}]</span>\n				<span class="online">\n					{{#equals lastLoginDate \'ON\' }}\n						Online\n					{{else}}\n						Last connection\n						{{date lastLoginDate \'YYYY-MM-DD\' }}\n					{{/equals}}\n				</span>\n				<h2 class="home-town">\n					{{#if current.name}}\n						{{current.name}}, {{current.country}}\n					{{/if}}\n				</h2>\n			</div>\n			{{#unless myProfile}}\n			<div class="button-bar">\n				<ul>\n					<li><button class="send-message-btn">Message</button></li>\n					<li><button class="send-request-btn selected">Request</button></li>\n					<li><button class="send-invitation-btn">Invite</button></li>\n				</ul>\n			</div>\n			{{/unless}}\n		</div><!-- EOF personal -->\n	</div><!-- EOF landscape -->\n	<div class="tab-content">\n		<div class="tab-pane active" id="about">\n			<div class="content-left" id="basic-box"></div>\n			<div class="content-right">\n				<div id="about-box"></div>\n				<div id="likes-box"></div>\n				<div id="photo-box">Photo box</div>\n				{{#if myProfile}}\n				<div id="contact-box"></div>\n				{{/if}}\n				<div id="places-box"></div>\n			</div>\n		</div>\n		<div class="tab-pane" id="wings">\n			<div class="content-left"></div>\n			<div class="content-right">\n				{{#each wingsCollection}}\n				<div id="wing-box-{{id}}" class="box-standard">\n				</div><!-- EOF box-standard -->\n				{{/each}}\n			</div>\n		</div>\n	</div><!-- EOF tab-content -->\n</div> <!-- EOF container -->\n')}),define("tmpl!templates/app/profile/view.basic.html",["core/view"],function(e){return e('<div id="upload-avatar" class="avatar">\n	<img id="avatar" src="{{avatar}}" alt="avatar">\n	{{#if myProfile}}\n	<div class="edit-click">Change picture</div>\n	{{/if}}\n</div>\n<div class="info">\n	{{#if myProfile}}\n	<a id="edit-basic-btn" class="button-basic-info edit-profile edit-box-btn" data-rel="basic-box"><i class="icon-edit">Icon edit</i>Edit profile</a>\n	{{/if}}\n</div>\n<div class="box rate-info">\n	<h2>Reply rate</h2>\n	<p>{{rate replyRate}}</p>\n	<h2>Reply time</h2>\n	<p>{{replyTimeVerbose}}</p>\n</div>\n<div class="box basic-info">\n	<h1>Basic info</h1>\n	<h2>Gender</h2>\n	<p>{{gender}}</p>\n	<h2>Birthday</h2>\n	{{#if myProfile}}\n	<p>{{birthdayVerbose}}</p>\n	{{else}}\n	{{#if birthday}}\n	<p>{{birthday}}</p>\n	{{else}}\n	<p>-</p>\n	{{/if}}\n	{{/if}}\n	{{#if interestedIn.length}}\n	<h2>Interesed in</h2>\n	<p>{{interestedIn.0.gender}}</p>\n	{{/if}}\n	{{#if civilState}}\n	<h2>Relationship status</h2>\n	<p>{{civilStateVerbose}}</p>\n	{{/if}}\n	{{#if languages.length}}\n	<h2>Languages</h2>\n	<ul>\n		{{#each languages}}\n		<li>{{name}} ({{level}})</li>\n		{{/each}}\n	</ul>\n	{{/if}}\n</div><!-- EOF box basic-info -->\n')}),define("tmpl!templates/app/profile/view.about.html",["core/view"],function(e){return e('<div class="box-standard">\n	<div class="box-header">\n		<i class="icon-about">About icon</i>\n		<h2>About me</h2>\n		{{#if myProfile}}\n		<a id="edit-about-btn" class="button-edit-info edit-box-btn" data-rel="about-box">\n			<i class="icon-edit">Edit icon</i>Edit\n		</a>\n		{{/if}}\n	</div>\n	<div class="accordion">\n		<div class="accordion-group">\n			<div id="collapse-about" minCollapse="450" class="accordion-body collapse">\n				<div class="accordion-inner">\n					<div class="box-content">\n						{{#if_any allAboutYou mainMission occupation company\n							education.length personalPhilosophy politicalOpinion\n							religion }}\n\n							{{#if allAboutYou}}\n							<h2>Description</h2>\n							<p>{{allAboutYou}}</p>\n							{{/if}}\n							{{#if mainMission}}\n							<h2>Current mission</h2>\n							<p>{{mainMission}}</p>\n							{{/if}}\n							{{#if occupation}}\n							<h2>Occupation</h2>\n							<p>{{occupation}}</p>\n							{{/if}}\n							{{#if company}}\n							<h2>Company</h2>\n							<p>{{company}}</p>\n							{{/if}}\n							{{#if education.length}}\n							<h2>Education</h2>\n							{{#each education}}\n							<p>{{self}}</p>\n							{{/each}}\n							{{/if}}\n							{{#if personalPhilosophy}}\n							<h2>Personal philosophy</h2>\n							<p>{{personalPhilosophy}}</p>\n							{{/if}}\n							{{#if politicalOpinion}}\n							<h2>Political views</h2>\n							<p>{{politicalOpinion}}</p>\n							{{/if}}\n							{{#if religion}}\n							<h2>Religion</h2>\n							<p>{{religion}}</p>\n							{{/if}}\n\n						{{else}}\n\n							<h2>All about you</h2>\n							<p></p>\n							<h2>Current mission</h2>\n							<p></p>\n							<h2>Personal philosophy</h2>\n\n						{{/if_any}}\n					</div><!-- EOF box-content -->\n				</div>\n			</div>\n			<div class="gradient-box"></div>\n			<div class="accordion-heading collapsed" data-toggle="collapse" href="#collapse-about">\n				<span class="see-more">See more</span>\n				<span class="see-less">See less</span>\n			</div>\n		</div>\n	</div><!-- EOF accordion -->\n</div><!-- EOF box-standard -->\n')}),define("tmpl!templates/app/profile/view.likes.html",["core/view"],function(e){return e('<div class="box-standard">\n	<div class="box-header">\n		<i class="icon-like">Like icon</i>\n		<h2>Likes</h2>\n		{{#if myProfile}}\n		<a id="edit-about-btn" class="button-edit-info edit-box-btn" data-rel="likes-box">\n			<i class="icon-edit">Edit icon</i>Edit\n		</a>\n		{{/if}}\n	</div><!-- EOF box-header -->\n	<div class="accordion">\n		<div class="accordion-group">\n			<div id="collapse-likes" minCollapse="450" class="accordion-body collapse">\n				<div class="accordion-inner">\n					<div class="box-content">\n						{{#if_any enjoyPeople movies sports otherPages sharing\n							incredible inspiredBy quotes pwOpinion }}\n\n							{{#if enjoyPeople}}\n							<h2>People I enjoy</h2>\n							<p>{{enjoyPeople}}</p>\n							{{/if}}\n							{{#if movies}}\n							<h2>Movies, series, books, games...</h2>\n							<p>{{movies}}</p>\n							{{/if}}\n	 						{{#if sports}}\n							<h2>Sports</h2>\n							<p>{{sports}}</p>\n							{{/if}}\n							{{#if otherPages}}\n							<h2>Other webpages</h2>\n							<p>{{otherPages}}</p>\n							{{/if}}\n							{{#if sharing}}\n							<h2>Show, learn, share</h2>\n							<p>{{sharing}}</p>\n							{{/if}}\n							{{#if incredible}}\n							<h2>Amazing things done/seen</h2>\n							<p>{{incredible}}</p>\n							{{/if}}\n							{{#if inspiredBy}}\n							<h2>People who inspires you</h2>\n							<p>{{inspiredBy}}</p>\n							{{/if}}\n							{{#if quotes}}\n							<h2>Favourite quotes</h2>\n							<p>{{quotes}}</p>\n							{{/if}}\n							{{#if pwOpinion}}\n							<h2>Opinion about Peoplewings</h2>\n							<p>{{pwOpinion}}</p>\n							{{/if}}\n\n						{{else}}\n\n							<h2>People I enjoy</h2>\n							<p></p>\n							<h2>Movies, series, books, games...</h2>\n							<p></p>\n							<h2>Sports</h2>\n\n						{{/if_any}}\n					</div><!-- EOF box-content -->\n				</div>\n			</div>\n			<div class="gradient-box"></div>\n			<div class="accordion-heading collapsed" data-toggle="collapse" href="#collapse-likes">\n				<span class="see-more">See more</span>\n				<span class="see-less">See less</span>\n			</div>\n		</div>\n	</div><!-- EOF accordion -->\n</div><!-- EOF box-standard -->\n')}),define("tmpl!templates/app/profile/view.photos.html",["core/view"],function(e){return e('<div class="box-standard">\n	<div class="box-header">\n		<i class="icon-like">Like icon</i>\n		<h2>Photos</h2>\n		{{#if myProfile}}\n		<a id="add_photo" class="button-edit-info edit-box-btn">\n			+ Add\n			<form hidden>\n				<input type="file" id="input-photo-upload" accept="image/*" data-album="{{albums.0.id}}">\n			</form>\n		</a>\n\n		{{/if}}\n	</div><!-- EOF box-header -->\n\n	<div class="accordion">\n		<div class="accordion-group">\n			<div id="collapse-photos" minCollapse="450" class="accordion-body collapse">\n				<div class="accordion-inner">\n					<ul class="clearing-thumbs" data-clearing>\n					{{#each albums }}\n					{{#each photos}}\n						<li data-album-id="{{../id}}" data-photo-id="{{id}}">\n							<a href="{{bigUrl}}">\n								<img src="{{thumbUrl}}">\n							</a>\n\n							{{#if ../../myProfile}}\n							<div class="control" hidden>\n								<button class="close">&times;</button>\n							</div>\n							{{/if}}\n						</li>\n					{{/each}}\n					{{/each}}\n					</ul>\n				</div>\n			</div>\n			<div class="gradient-box"></div>\n			<div class="accordion-heading collapsed" data-toggle="collapse" href="#collapse-photos">\n				<span class="see-more">See more</span>\n				<span class="see-less">See less</span>\n			</div>\n		</div>\n	</div><!-- EOF accordion -->\n</div><!-- EOF box-standard -->\n\n<!--\n<ul class="clearing-thumbs" data-clearing>\n  <li>\n  	<a href="path/to/your/img">\n  	<img src="path/to/your/img-th">\n  	</a>\n  	</li>\n  <li><a href="path/to/your/img"><img src="path/to/your/img-th"></a></li>\n  <li><a href="path/to/your/img"><img src="path/to/your/img-th"></a></li>\n</ul>\n-->\n')}),define("tmpl!templates/app/profile/view.contact.html",["core/view"],function(e){return e('{{#if myProfile}}\n<div class="box-standard">\n	<div class="box-header">\n		<i class="icon-contact">Contact icon</i>\n		<h2>Contact info</h2>\n		<a id="edit-about-btn" class="button-edit-info edit-box-btn" data-rel="contact-box">\n			<i class="icon-edit">Edit icon</i>Edit\n		</a>\n	</div>\n	<div class="accordion">\n		<div class="accordion-group">\n			<div id="collapse-contact" minCollapse="450" class="accordion-body collapse">\n				<div class="accordion-inner">\n					<div class="guest-message">\n						<h2 class="lock-icon">Shown only to Confirmed Guests</h2>\n						<p>To protect your privacy, we hide your address, phone number, and contact information from users that have not confirmed a reservation with you</p>\n					</div><!-- EOF guest-message -->\n					<div class="box-content contact-info">\n						<div>\n							<dl>\n								<dt>Email</dt>\n								<dd>{{emails}}</dd>\n								<dt>Phone</dt>\n								<dd>{{phone}}</dd>\n							</dl>\n						</div>\n						<div class="dl-list">\n							<span class="dt-title">Social Network</span>\n							<dl>\n								{{#each socialNetworks}}\n								<dt>{{socialNetwork}} :</dt>\n								<dd>{{snUsername}}</dd>\n								{{/each}}\n							</dl>\n						</div>\n						<div class="dl-list">\n							<span class="dt-title">Instant Message</span>\n							<dl>\n								{{#each instantMessages}}\n								<dt>{{instantMessage}} :</dt>\n								<dd>{{imUsername}}</dd>\n								{{/each}}\n							</dl>\n						</div>\n					</div>\n				</div>\n			</div>\n			<div class="gradient-box"></div>\n			<div class="accordion-heading collapsed" data-toggle="collapse" href="#collapse-likes">\n				<span class="see-more">See more</span>\n				<span class="see-less">See less</span>\n			</div>\n		</div>\n	</div><!-- EOF accordion -->\n</div><!-- EOF box-standard -->\n{{/if}}\n')}),define("tmpl!templates/app/profile/view.places.html",["core/view"],function(e){return e('<div class="box-standard maps">\n	<div class="box-header">\n		<i class="icon-places">Places icon</i>\n		<h2>Places</h2>\n		{{#if myProfile}}\n		<a id="edit-places-btn" class="button-edit-info edit-box-btn" data-rel="places-box">\n			<i class="icon-edit">Edit icon</i>Edit\n		</a>\n		{{/if}}		\n	</div>\n	<div id="user-map"></div>\n	<div class="maps-legend">\n		<ul>\n			<li>\n				<i class="icon-places-hometown-mini">Hometown place icon</i>\n				<span>Hometown</span>\n			</li>\n			<li>\n				<i class="icon-places-current-mini">Current place icon</i>\n				<span>Current city</span>\n			</li>\n			<li>\n				<i class="icon-places-lived-mini">Lived place icon</i>\n				<span>Where I have lived</span>\n			</li>\n		</ul>\n	</div>\n</div><!-- box-standard maps -->')}),define("tmpl!templates/app/profile/form.add-wings.html",["core/view"],function(e){return e('				<div class="avatar">\n					<img id="avatar" src="{{avatar}}" alt="avatar">\n				</div>\n				<div class="info">\n					<a id="add-wing-btn" class="button-add-wing">\n						<i class="icon-add-wings">Icon wing</i>Add wing\n					</a>\n				</div>\n<!--} 				<div class="box basic-info">\n					<form id="wings-status-form">\n						<div class="control-group">\n							<label class="control-label" for="generalStatus">General status</label>\n							<div class="controls">\n								<select name="generalStatus" class="size-large">\n									<option value="">--------</option>\n									<option value="W" {{selected generalStatus \'W\'}}>By Wing</option>\n									<option value="Y" {{selected generalStatus \'Y\'}}>Yes</option>\n									<option value="N" {{selected generalStatus \'N\'}}>No</option>\n									<option value="M" {{selected generalStatus \'M\'}}>Maybe</option>\n									<option value="T" {{selected generalStatus \'T\'}}>Travelling</option>\n									<option value="C" {{selected generalStatus \'C\'}}>Cofee or drink</option>\n								</select>\n							</div>\n						</div>\n					</form>\n				</div> -->\n			</div><!-- EOF box basic-info -->\n')}),define("views/app/ProfileView",["require","jquery.Datepicker","jquery","backbone","api2","models/ProfileModel","views/app/map","views/lib/notifications","views/app/MyProfile","views/app/MyWings","views/lib/Carousel","tmpl!templates/app/profile/profile.html","tmpl!templates/app/profile/view.basic.html","tmpl!templates/app/profile/view.about.html","tmpl!templates/app/profile/view.likes.html","tmpl!templates/app/profile/view.photos.html","tmpl!templates/app/profile/view.contact.html","tmpl!templates/app/profile/view.places.html","tmpl!templates/app/profile/view.wing.html","tmpl!templates/app/profile/form.add-wings.html","foundation","foundationClearing"],function(e){e("jquery.Datepicker");var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("models/ProfileModel"),s=e("views/app/map"),o=e("views/lib/notifications"),u=e("views/app/MyProfile"),a=e("views/app/MyWings"),f=e("views/lib/Carousel"),l=e("tmpl!templates/app/profile/profile.html"),c=e("tmpl!templates/app/profile/view.basic.html"),h=e("tmpl!templates/app/profile/view.about.html"),p=e("tmpl!templates/app/profile/view.likes.html"),d=e("tmpl!templates/app/profile/view.photos.html"),v=e("tmpl!templates/app/profile/view.contact.html"),m=e("tmpl!templates/app/profile/view.places.html"),g=e("tmpl!templates/app/profile/view.wing.html"),y=e("tmpl!templates/app/profile/form.add-wings.html"),b=e("foundation"),w=e("foundationClearing"),E=n.View.extend({el:"#main",events:{"click .personal-info button.send-message-btn":"sendMessage","click .personal-info button.send-request-btn":"sendRequest","click .personal-info button.send-invitation-btn":"sendInvitation"},initialize:function(e){this.onCloseClick=this.onCloseClick.bind(this),this.onPhotoSort=this.onPhotoSort.bind(this),this.map=new s({el:"#user-map",id:"mapcanvas"}),this.model=new i({id:e})},render:function(e,t){var n=this.model.get("id")===r.getUserId();this.model.clear({silent:!0}),this.model.set("id",e,{silent:!0});var i="#"+t||"#about";this.model.fetch({success:this.refresh.bind(this,i)})},refresh:function(e){var t=this.model.get("id")===r.getUserId();this.refreshProfile(t),this.refreshWings(t),e&&this.selectTab(e),this.$("#photo-box").foundation(),t&&this.$("#photo-box ul").addClass("sortable").sortable({update:this.onPhotoSort}),this.$("#collapse-photos .control").on("click",this.onCloseClick),t&&(this.myProfile||(this.myProfile=new u(this.model,this),this.myWings=new a(this)),this.myProfile.refresh())},refreshProfile:function(e){t(this.el).html(l(this.model.toJSON(),{myProfile:e})),this.$("#basic-box").html(c(this.model.toJSON(),{myProfile:e})),this.$("#about-box").html(h(this.model.toJSON(),{myProfile:e})),this.$("#likes-box").html(p(this.model.toJSON(),{myProfile:e})),this.$("#photo-box").html(d(this.model.toJSON(),{myProfile:e})),this.$("#contact-box").html(v(this.model.toJSON(),{myProfile:e})),this.$("#places-box").html(m(this.model.toJSON(),{myProfile:e})),this.fixBoxes(),this.map.render(),this.initMarkers()},fixBoxes:function(){t(".accordion-group").each(function(){var e=t(this),n=e.find(".accordion-body").attr("mincollapse"),r=e.find(".accordion-inner").outerHeight();r<n&&e.find(".accordion-heading").hide()})},refreshWings:function(e){var n=y({avatar:this.model.get("avatar"),generalStatus:this.model.get("pwState")});e||(n=c(this.model.toJSON(),{myProfile:e})),this.$("#wings .content-left").html(n),this.$("#wings .content-right").empty();var r=this;this.model.get("wingsCollection").map(function(e){var n=t(document.createElement("div")).attr("id","wing-box-"+e.id).addClass("box-standard");r.$("#wings .content-right").append(n),e.transports=e.metro||e.tram||e.train||e.bus||e.plane||e.others,t(n).html(g(e))})},onPhotoSort:function(e,n){var i=this.$("#photo-box ul li"),s=i.toArray().map(function(e){return t(e).data("photo-id")});r.put(r.getApiVersion()+"/albums/"+i.data("album-id"),{photos:s})},onCloseClick:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target).closest("li"),i=n.data("photo-id");n.slideUp(),r["delete"](r.getApiVersion()+"/photos/"+i)},renderBox:function(e){this.model.fetch({success:this.refreshBox.bind(this,e)})},refreshBox:function(e){var t=this.model.get("id")===r.getUserId(),n=null;switch(e){case"basic-box":n=c(this.model.toJSON(),{myProfile:t});break;case"about-box":n=h(this.model.toJSON(),{myProfile:t});break;case"likes-box":n=p(this.model.toJSON(),{myProfile:t});break;case"photos-box":n=p(this.model.toJSON(),{myProfile:t});break;case"contact-box":n=v(this.model.toJSON(),{myProfile:t});break;case"places-box":n=m(this.model.toJSON(),{myProfile:t})}this.$("#"+e).html(n),e==="places-box"&&this.initializeMap()},initializeMap:function(){this.map=new s({el:"#user-map",id:"mapcanvas"}),this.map.render(),this.initMarkers()},initMarkers:function(){var e=this,t=this.model.get("current");_.isEmpty(t)?this.map.deleteMarker("current"):this.map.addMarker({id:"current",location:new google.maps.LatLng(t.lat,t.lon),title:t.name+", "+t.country,icon:"img/places-current-marker.png"}),t=this.model.get("hometown"),_.isEmpty(t)?this.map.deleteMarker("hometown"):this.map.addMarker({id:"hometown",location:new google.maps.LatLng(t.lat,t.lon),title:t.name+", "+t.country,icon:"img/places-hometown-marker.png"});var n=this.model.get("otherLocations");n.length&&_.each(n,function(t,n){e.map.addMarker({id:"otherLocation-"+n,location:new google.maps.LatLng(t.lat,t.lon),title:t.name+", "+t.country,icon:"img/places-other-marker.png"})})},selectTab:function(e){this.$(".tab-content .tab-pane").removeClass("active"),t(e).addClass("active"),t(".tabs ul li").removeClass("active"),t(".tabs ul li a[href="+e+"]").parent().addClass("active")},sendMessage:function(){o.message(this.model.get("id"),this.model.get("firstName")+" "+this.model.get("lastName"))},sendRequest:function(){o.request(this.model.get("id"),this.model.get("firstName")+" "+this.model.get("lastName"))},sendInvitation:function(){o.invitation(this.model.get("id"),this.model.get("firstName")+" "+this.model.get("lastName"))}});return E}),define("tmpl!templates/app/notifications.html",["core/view"],function(e){return e('<div class="searchbar">\n	<div id="search">\n		<input type="text" id="search-query" class="size-extralarge">\n		<a id="search-btn" class="button">\n			<i class="icon-search">Search icon</i>\n		</a>\n</div>\n</div>\n\n<div class="messages-header">\n	<div class="messages-tabs">\n		<ul id="notification-type">\n			<li class="button selected" data-filter="">All</li>\n			<li class="button" data-filter="reqinv">Requests & Invitations</li>\n			<li class="button" data-filter="msg">Messages</li>\n		</ul>\n	</div>\n\n	<div class="button-bar">\n		<ul>\n			<li><button class="button1 send-message-btn">MESSAGE</button></li>\n			<li><button class="button1 send-request-btn selected">REQUEST</button></li>\n			<li><button class="button1 send-invitation-btn">INVITE</button></li>\n		</ul>\n	</div><!-- EOF button-bar -->\n</div><!-- EOF messages-header -->\n\n<div id="notification-panel">\n	<div class="floatality">\n		<div class="btn-group">\n			<label for="main-checker">\n				<input type="checkbox" id="main-checker">\n			</label>\n			<a class="messages-dropdown" data-toggle="dropdown" href="#">Something</a>\n			<ul class="dropdown-menu">\n				<li><a href="#" id="delete-all-selected">Delete</a></li>\n			</ul>\n		</div>\n		<div class="messages-filters">\n			<label id="filter-title">Organized by</label>\n			<select id="ri-filters" class="size-large">\n				<option value="date">Date</option>\n				<option value="interlocutor">Contact name</option>\n				<option value="read">Read/Unread</option>\n			</select>\n			<select id="ri-status" class="size-large">\n				<option value="">All</option>\n				<option value="P">Pending</option>\n				<option value="A">Accepted</option>\n				<option value="D">Denyed</option>\n				<option value="M">Maybe</option>\n			</select>\n			<div id="notification-sender">\n				<label for="checkbox">\n					<input type="checkbox" name="received">Received\n				</label>\n				<label for="checkbox">\n					<input type="checkbox" name="sent">Applied\n				</label>\n			</div>\n		</div>\n		<div id="notifications-pager" class="pager-right">\n			<div class="resultCounter">\n				<span>{{startResult}}</span>\n				<span>{{endResult}}</span>\n				<span>{{totalCount}}</span>\n			</div>\n			<div class="button-group">\n				<a href="" class="button-pager-previous">\n					<i class="icon-pager-previous">button previous</i>\n				</a>\n				<a href="" class="button-pager-next">\n					<i class="icon-pager-next">button next</i>\n				</a>\n			</div>\n		</div>\n	</div>\n	<ul id="notifications-list"></ul>\n</div>\n')}),define("tmpl!templates/app/notification.html",["core/view"],function(e){return e('<li class="notification-item {{#unless read}}unread{{/unless}}" data-type="notification-item" data-rel="{{id}}" data-thread="{{reference}}" data-index="{{index}}">\n	<div class="messages-avatar">\n		<img src="{{avatar}}">\n	</div>\n	<div class="messages-sender">\n		<h1 class="messages-name"><a href="#/profiles/{{interlocutorId}}/about">{{name}},</a><span class="messages-age">[{{age}}]</span></h1>\n		<span class="{{#if online}}online{{/if}}">{{connected}}</span>\n		<h2>{{location}}</h2>\n	</div>\n	<div class="messages-flag">\n		<span class="state-flag {{#if flagDirection }}from-me{{else}}to-me{{/if}} {{enum state \'notification-state\'}}">state flag</span>\n	</div>\n	<div class="messages-state">\n		{{#if isMessage }}\n		<p class="messages-name">{{content}}</p>\n	</div>\n	<div class="messages-dates">\n		{{else}}\n		<h1 class="messages-name {{enum state \'notification-state\'}}">{{enum kind \'notification-type\'}} {{enum state \'notification-state\'}}</h1>\n		{{#with wingParameters}}\n		<h2>{{wingType}} {{wingCity}}</h2>\n		<h3>{{message}}</h3>\n	</div>\n	<div class="messages-dates">\n		<div class="messages-dates-info">\n			<dl>\n				<dt>From</dt>\n				<dd {{#if_contains parameters.modified "startDate" }}class="modified"{{/if_contains}}>\n					{{date startDate}}\n				</dd>\n			</dl>\n			<dl>\n				<dt>To</dt>\n				<dd {{#if_contains parameters.modified "endDate" }}class="modified"{{/if_contains}}>\n					{{date endDate}}\n				</dd>\n			</dl>\n			<dl>\n				<dd {{#if_contains parameters.modified "numPeople" }}class="modified"{{/if_contains}}>\n					{{numPeople}}\n					<span>people</span>\n				</dd>\n			</dl>\n		</div>\n		{{/with}}\n		{{/if}}\n		<div class="messages-date-msg">{{date created "MMM Do"}}</div>\n	</div>\n</li>\n')}),define("views/app/notifications",["require","jquery","backbone","api2","promise","tmpl!templates/app/notifications.html","tmpl!templates/app/notification.html","views/lib/alerts","models/Account","models/ProfileModel"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("promise"),s=e("tmpl!templates/app/notifications.html"),o=e("tmpl!templates/app/notification.html"),u=e("views/lib/alerts"),a=e("models/Account"),f=e("models/ProfileModel");r.listenUpdate("notifs",function(e){t("#notif-count").css("display",e?"block":"none").html(e)}),r.listenUpdate("avatar",function(e){if(e===!0){var t=new a({id:r.getUserId()});t.fetch();var n=new f({id:r.getUserId()});n.fetch(router.previewView.refreshBox("basic-box")),u.success("Your profile picture has been updated")}});var l=n.View.extend({el:"#main",activePage:1,lastPage:null,events:{"click #search-btn":"filter","click #notifications-pager a.button-pager-next":"nextPage","click #notifications-pager a.button-pager-previous":"previousPage","click #delete-all-selected":function(e){e.preventDefault(),this.removeSelection()},"change .messages-check":function(e){var n=t(e.target).closest(".notification-item").data("thread");this.selection=this.selection.filter(function(e){return e!==n}),t(e.target).is(":checked")&&this.selection.push(n)},"change #main-checker":function(e){var n=this.$list.find('input[type="checkbox"]');t(e.target).is(":checked")?(n.attr("checked","checked"),this.selection=this.threads.concat()):(n.removeAttr("checked"),this.selection=[])},"keyup #search-query":function(e){e.keyCode===13&&this.filter()}},initialize:function(){this.selection=[],this.refresh=this.refresh.bind(this),this.threads=null},render:function(e){this.rendered=!0,this.$el.html(s(e)),this.$list=this.$("#notifications-list"),Object.keys(e||{}).length&&this.unserializeFilters(e),this.selectTab(e&&e.kind);var n=this;return this.$("#notification-type").delegate("li","click",function(){n.$(".button.selected").removeClass("selected"),n.$('.button[data-filter="'+t(this).data("filter")+'"]').addClass("selected"),n.$("#search-query").val(""),n.filter()}),this.$("#notification-sender").delegate("input","change",this.filter.bind(this)),this.$("select#ri-filters").on("change",this.filter.bind(this)),this.$("#ri-status").on("change",this.filter.bind(this)),this.loadData(e).then(this.refresh)},unserializeFilters:function(e){e.search&&this.$("#search-query").val(e.search),e.target&&e.target.split(",").forEach(function(e){this.$('#notification-sender [name="'+e+'"]').attr("checked","checked")},this),e.state&&this.$("#ri-status").val(e.state),e.order&&this.$("#ri-filters").val(e.order)},serializeFilters:function(){if(!this.rendered)return null;var e={};this.activePage!==1&&(e.page=this.activePage);var t=this.$("#search-query").val();t&&(e.search=t);var n=this.$(".button.selected").data("filter");n&&(e.kind=n);var r=this.$("#notification-sender input:checked");r.length&&(e.target=r.toArray().map(function(e){return e.getAttribute("name")}).join(","));var i=this.$("#ri-status").val();n==="reqinv"&&i&&(e.state=i);var s=this.$("#ri-filters").val();return s&&s!=="date"&&(e.order=s),Object.keys(e).length?e:null},filter:function(){this.resetPager(),this.applyFilters()},applyFilters:function(){var e=this.lastFilters||this.serializeFilters();this.lastFilters=null,document.location.hash=e?"#/messages/filter/"+JSON.stringify(e):"#/messages"},loadData:function(e){return e&&e.target&&e.target.indexOf(",")!==-1&&(e.target=null),r.get("/api/v1/notificationslist",e).prop("data").then(function(e){return e.items.forEach(function(e){e.location.indexOf("Not specified")===0&&(e.location=null),e.isMessage=e.kind==="message"}),e})},removeSelection:function(){var e=this;r.put("/api/v1/notificationslist",{threads:this.selection}).then(this.render.bind(this)).then(function(){u.success("Threads successfully deleted"),e.selection.length=0})},getThreads:function(){var e=this;return this.threads?i.normalize(this.threads):this.loadData().then(function(t){return e.threads=t.items.map(function(e){return e.reference}),e.threads})},refresh:function(e){this.lastPage||(this.lastPage=Math.ceil(e.count/e.items.length));var n=this;return this.$list.html(e.items.map(o).join("")),this.$list.children().click(function(e){if(t(e.target).attr("href"))return;var r=t(this).data("thread");n.lastFilters=n.serializeFilters(),document.location.hash="#/messages/"+r}).map(function(){var e=t('<div class="messages-check"><input type="checkbox"></div>');return t(this).prepend(e),e.get(0)}).click(function(){event.stopPropagation()}),this.renderCounters(e.startResult,e.endResult,e.count),this.threads=e.items.map(function(e){return e.reference}),this.threads},destroy:function(){this.remove(),this.unbind()},selectTab:function(e){e=e||"",this.$(".button.selected").removeClass("selected"),this.$('.button[data-filter="'+e+'"]').addClass("selected"),e==="reqinv"?this.addFilters():this.removeFilters()},addFilters:function(){if(this.$("#ri-status").is(":visible"))return;this.$("#ri-status").show(),this.$("#ri-filters").append('<option value="type">Wing Type</option>').append('<option value="date-start">Wing Date</option>')},removeFilters:function(){if(!this.$("#ri-status").is(":visible"))return;this.$("#ri-status").hide(),this.$("#ri-filters").find("option[value=type], option[value=date-start]").remove()},renderCounters:function(){var e=arguments;this.$(".resultCounter").find("span").wrap(function(n){t(this).text(e[n])})},nextPage:function(e){return e&&e.preventDefault(),this.activePage+1>this.lastPage?i.resolved(!1):(++this.activePage,this.applyFilters())},previousPage:function(e){return e&&e.preventDefault(),this.activePage-1<1?i.resolved(!1):(--this.activePage,this.applyFilters())},resetPager:function(){this.activePage=1,this.lastPage=null}});return new l}),define("tmpl!templates/app/thread.html",["core/view"],function(e){return e('<div class="searchbar">\n	<div id="search">\n		<input type="text" id="search-query" class="size-extralarge">\n		<a id="search-btn" class="button">\n			<i class="icon-search">Search icon</i>\n		</a>\n	</div>\n</div>\n\n<div class="messages-header">\n	<div class="messages-tabs">\n		<ul id="notification-type">\n			<li class="button">\n				<a href="#/messages">All</a>\n			</li>\n			<li class="button">\n				<a href=\'#/messages/filter/{"kind":"reqinv"}\'>Requests & Invitations</a>\n			</li>\n			<li class="button">\n				<a href=\'#/messages/filter/{"kind":"msg"}\'>Messages</a>\n			</li>\n		</ul>\n	</div>\n\n	<div class="button-bar">\n		<ul>\n			<li><button class="button1 send-message-btn">MESSAGE</button></li>\n			<li><button class="button1 send-request-btn selected">REQUEST</button></li>\n			<li><button class="button1 send-invitation-btn">INVITE</button></li>\n		</ul>\n	</div><!-- EOF button-bar -->\n</div><!-- EOF thread-header -->\n\n<div class="messages-msg">\n	<div class="floatality">\n		<a id="back" class="button-back">\n			<i class="icon-back">Back</i>\n		</a>\n		<button id="delete-thread" class="button-delete" value="Delete">Delete</button>\n		<div class="messages-pager">\n			<!--<div class="resultCounter">\n				<span>1</span>\n				<span>10</span>\n				<span>50</span>\n			</div>-->\n			<div class="button-group">\n				<a class="button-pager-previous" id="previous" data-id="{{previous}}" {{#unless previous}}disabled{{/unless}}>\n					<i class="icon-pager-previous">button previous</i>\n				</a>\n				<a class="button-pager-next" id="next" data-id="{{next}}" {{#unless next}}disabled{{/unless}}>\n					<i class="icon-pager-next">button next</i>\n				</a>\n			</div>\n		</div>\n	</div>\n	<ul id="notif-list">\n		{{{items}}}\n		<li class="thread-item">\n			<div class="message-arrow">\n				<span class="msg-arrow">message arrow</span>\n			</div>\n			<div class="response-item">\n				<div class="messages-avatar">\n					<!-- <span class="{{#if senderOnline}}online{{/if}}">{{senderOnline}}</span> -->\n					<img src="{{me.avatar}}">\n				</div>\n				<div id="response-options">\n					{{#if isMessage}}\n					<span>Click to</span>\n					<span id="response-reply">Reply</span>\n					{{else}}\n					<span>Click to</span>\n\n					{{#each options}}\n					<span class="response-option option-{{self}}">\n						{{self}}</span>{{#unless last }}{{#if secondLast}} or {{else}}, {{/if}}{{/unless}}\n						{{/each}}\n						{{/if}}\n					</div>\n					<div id="write-response" style="display: none">\n						<div class="response-wrapper">\n							{{#unless isMessage}}\n							<div class="state-flag {{#if iStarted }}from-me{{else}}to-me{{/if}} {{enum state \'notification-state\'}}" style="display: none">\n								<i>state</i>\n								<span>{{enum state \'notification-state\'}}</span>\n							</div>\n							<div id="edit-wing-params" style="display: none">\n								<form id="wing-params-form">\n									<div class="response-header">\n										<div class="response-header-dates">\n											<span>{{ wing.type }} in {{ wing.parameters.wingCity }}</span>\n											<input type="text" name="startDate" class="input-sdate" placeholder="Start date" value="{{date parameters.startDate \'YYYY-MM-DD\'}}">\n											<input type="text" name="endDate" class="input-edate" placeholder="End date" value="{{date parameters.endDate \'YYYY-MM-DD\'}}">\n											<span class="capacity">Capacity</span>\n											<select name="capacity" class="input-mini required">\n												{{#range 9}}\n												<option value="{{indexPlusOne}}" {{selected capacity indexPlusOne}}>{{indexPlusOne}}</option>\n												{{/range}}\n												<option value="+9" {{selected capacity \'+9\'}}>+9</option>\n											</select>\n											<span class="help-block"></span>\n										</div><!-- EOF response-header-dates -->\n									</div><!-- EOF response-header -->\n								</form>\n							</div>\n							{{/unless}}\n							<textarea placeholder="Write your message"></textarea>\n						</div><!-- EOF response-wrapper -->\n						<div class="button-group">\n							<button id="cancel-response" class="button">Cancel</button>\n							<button id="send-response" class="button-highlight"data-loading-text="Sending...">Send</button>\n						</div>\n					</div><!-- EOF write-response -->\n				</div><!-- EOF response-item-1 -->\n			</li>\n		</ul>\n	</div><!-- EOF message-msg -->\n')}),define("tmpl!templates/app/thread-item.html",["core/view"],function(e){return e('<li class="thread-item" data-type="notification-item" data-rel="{{ id }}" data-user-id="{{ senderId }}" data-user-name="{{ senderName }}">\n	<div class="message-arrow">\n		<span>message arrow</span>\n	</div>\n	<div class="messages-header">\n		<div class="messages-avatar">\n			<img src="{{ senderSmallAvatar }}">\n		</div>\n		<div class="messages-sender {{#unless read }}unread{{/unless}}">\n			<legend>\n				{{#if isMessage}}\n					Message\n				{{else}}\n					{{#if isRequest}}\n						Request\n					{{else}}\n						Invitation\n					{{/if}}\n				{{/if}}\n			</legend>\n			<h1 class="messages-name">\n				<a href="#/profiles/{{ senderId }}/about">{{ senderName }}</a>\n			</h1>\n			<span class="messages-age">[{{ senderAge }}]</span>\n			<span class="{{#if online }}online{{/if}}">{{ senderConnected }}</span>\n			<h2>{{ senderLocation }}</h2>\n			<h3>{{#if fromMe }}From{{else}}To{{/if}} me</h3>\n		</div>\n		<div class="messages-date-msg state-flag {{#if fromMe }}from-me{{else}}to-me{{/if}} {{enum wing.state \'notification-state\' }}">\n			<h1>{{date created "MMM Do, HH:mm" }} </h1>\n			{{#if isMessage }}\n				<h2>Message</h2>\n			{{else}}\n				{{#if isRequest}}\n					<h2>Request <span>{{enum wing.state \'notification-state\' }}</span></h2>\n				{{else}}\n					<h2>Invitation <span>{{enum wing.state \'notification-state\' }}</span></h2>\n				{{/if}}\n			{{/if}}\n		</div>\n	</div>\n	<div class="messages-content">\n		{{#if isMessage }}\n			{{escape content.message }}\n		{{else}}\n			<div class="messages-params-box">\n				<dl>\n					<dt>{{#if isRequest }}Requested{{else}}Invited{{/if}} wing :</dt>\n					<dd {{#if_contains wing.parameters.modified "wingName" }}class="modified"{{/if_contains}}>{{ wing.parameters.wingName }} ({{ wing.type }} in {{ wing.parameters.wingCity }})</dd>\n				</dl>\n				<dl>\n					<dt>Arrival date : </dt>\n					<dd {{#if_contains wing.parameters.modified "startDate" }}class="modified"{{/if_contains}}>{{ date wing.parameters.startDate }}</dd>\n				</dl>\n				<dl>\n					<dt>Deperture date : </dt>\n					<dd {{#if_contains wing.parameters.modified "endDate" }}class="modified"{{/if_contains}}>{{ date wing.parameters.endDate }}</dd>\n				</dl>\n				<dl>\n					<dt>Number of people : </dt>\n					<dd {{#if_contains wing.parameters.modified "capacity" }}class="modified"{{/if_contains}}>{{ wing.parameters.capacity }}</dd>\n				</dl>\n				<dl>\n					<dt>Arriving via : </dt>\n					<dd>{{ wing.parameters.arrivingVia }}</dd>\n				</dl>\n			</div>\n			<div class="messages-msg">\n				{{escape content.message }}\n			</div>\n		{{/if}}\n	</div>\n</li>\n')}),define("views/app/thread",["require","jquery","backbone","api2","promise","models/Account","views/lib/alerts","views/lib/notifications","views/app/notifications","tmpl!templates/app/thread.html","tmpl!templates/app/thread-item.html"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("promise"),s=e("models/Account"),o=e("views/lib/alerts"),u=e("views/lib/notifications"),a=e("views/app/notifications"),f=e("tmpl!templates/app/thread.html"),l=e("tmpl!templates/app/thread-item.html"),c=n.View.extend({el:"#main",events:{"click #back":"back","click #previous":"previous","click #next":"next","click #delete-thread":"remove","click #open-request":"request","click #open-invite":"invite","click #open-message":"reply","click #response-reply":"reply","click #response-request":"request","click #reponse-invite":"invite","click #send-response":"sendResponse","click #cancel-response":"cancelResponse","click .option-Chat":"reply","click .option-Accept":"optAccept","click .option-Maybe":"optMaybe","click .option-Reopen":"optReopen","click .option-Deny":"optDeny","click .option-Cancel":"optDeny","click li.thread-item":"toggleContent"},responseValidation:{rules:{startDate:{date:!0},endDate:{date:!0}},errorPlacement:function(e,t){e.appendTo(t.nextAll("span.help-block"))}},initialize:function(){this.refresh=this.refresh.bind(this)},render:function(e){var t=this;return this.current={id:e},a.getThreads().then(function(n){var s=n.indexOf(e),o=n[s-1],u=n[s+1];return i.all(o||a.previousPage().then(function(e){return e&&e[e.lenght-1]}),u||a.nextPage().then(function(e){return e&&e[0]})).spread(function(n,i){return r.get("/api/v1/notificationsthread/"+e).prop("data").then(function(e){return e.kind!=="message"&&t.parseOptions(e.options,e.firstSender,e.wing.state),e.items=e.items.map(function(e){return e.senderLocation.indexOf("Not specified")===0&&(e.senderLocation=null),e}),t.data=e,e}).then(t.refresh.bind(t,n,i))})})},refresh:function(e,t,n){var i=n.kind==="message",o=n.kind==="request",u=r.getUserId(),a=(new s({id:r.getUserId()})).get("avatar"),c=n.items.map(function(e,t){var r=_.extend(e,{index:t,fromMe:e.senderId===u,reference:n.reference,isMessage:i,isRequest:o,id:null,read:null,online:null});return r});this.$el.html(f(n,{isMessage:i,options:n.options,previous:e,next:t,me:{avatar:a},items:c.map(l).join("")})),this.$("li .messages-content").hide().last().show()},remove:function(){var e=this;return r.put("/api/v1/notificationslist",{threads:[this.current.id]}).then(function(){o.success("Thread removed"),e.back()},function(e){debugger;o.defaultError(e)})},toggleContent:function(e){if(t(e.target).attr("href"))return;var n=t(e.target).closest("li.thread-item");n.next().is(".response-item")||n.find(".messages-content").toggle()},back:function(){a.applyFilters()},previous:function(){document.location.hash="#/messages/"+this.$("#previous").data("id")},next:function(){document.location.hash="#/messages/"+this.$("#next").data("id")},createNotification:function(){},request:function(){var e=this.current.interlocutor;u.request(e.id,e.name)},invite:function(){var e=this.current.interlocutor;u.invitation(e.id,e.name)},reply:function(){this.data.kind!=="message"&&(this.prevState=this.data.wing.state),this.$("#response-options").hide(),this.$("#write-response").show().find("textarea").focus()},cancelResponse:function(){this.$("#response-options").show(),this.$("#write-response").hide().find("textarea").val(""),this.$("#write-response > span.state-flag").hide(),this.$("#edit-wing-params").hide();if(this.prevState){var e=Handlebars.helpers["enum"];this.$(".state-flag").removeClass(e(this.data.wing.state,"notification-state")).addClass(e(this.prevState,"notification-state")).find("span").text(e(this.prevState,"notification-state")),this.data.wing.state=this.prevState}},sendResponse:function(){var e=this.$("#edit-wing-params > form");if(e.length&&!e.valid())return i.resolved(!1);var t={content:this.$("#write-response textarea").val()};if(!t.content)return i.resolved(!1);if(this.data.kind==="request"||this.data.kind==="invite")t.wingParameters=this.getWingParameters(this.data.wing.state),t.state=this.getWingState();this.$("#send-response").button("loading");var n=this;return r.post("/api/v1/notificationsthread/",{reference:this.current.id,data:t}).then(function(){return n.render(n.current.id)}).then(function(){o.success("Response sent"),n.$("#send-response").button("reset")},function(){debugger;o.defaultError()})},optAccept:function(){this.reply(),this.data.wing.state="A",this.$("#edit-wing-params").show(),this.handleOption(this.data.wing.state,this.prevState)},optMaybe:function(){this.reply(),this.data.wing.state="M",this.$("#edit-wing-params").show(),this.handleOption(this.data.wing.state,this.prevState)},optReopen:function(){this.reply(),this.data.wing.state="P",this.$("#edit-wing-params").show(),this.handleOption(this.data.wing.state,this.prevState)},optDeny:function(){this.reply(),this.data.wing.state="D",this.$("#write-response > .params-box").show(),this.handleOption(this.data.wing.state,this.prevState)},handleOption:function(e,t){var n=Handlebars.helpers["enum"];this.$(".state-flag").show().removeClass(n(t,"notification-state")).addClass(n(e,"notification-state")).find("span").text(n(e,"notification-state")),this.$("#wing-params-form").validate(this.responseValidation),this.$("input[name=startDate]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"}),this.$("input[name=endDate]").datepicker({minDate:new Date,dateFormat:"yy-mm-dd"}).rules("add",{gte:this.$("input[name=startDate]")}),this.$("select[name=capacity]").val(this.data.wing.parameters.capacity)},parseOptions:function(e,t,n){r.getUserId()===t&&(e[e.indexOf("Deny")]="Cancel"),n==="D"&&(e[e.indexOf("Pending")]="Reopen")},getWingParameters:function(e){if(e==="M"||e==="A"||e==="P")this.data.wing.parameters.startDate=+(new Date(this.$("input[name=startDate]").val()))/1e3,this.data.wing.parameters.endDate=+(new Date(this.$("input[name=endDate]").val()))/1e3,this.data.wing.parameters.capacity=this.$("select[name=capacity]").val();return{startDate:this.data.wing.parameters.startDate,endDate:this.data.wing.parameters.endDate,capacity:this.data.wing.parameters.capacity,flexibleStartDate:this.data.wing.parameters.flexibleStartDate,flexibleEndDate:this.data.wing.parameters.flexibleEndDate}},getWingState:function(){return this.data.wing.state}});return new c}),define("router",["require","jquery","backbone","api2","views/home/main","views/app/home","views/home/register","views/home/login","views/home/help","views/home/activate","views/home/password","views/app/logout","views/app/settings","views/app/deleteAccount","views/app/ProfileView","views/app/notifications","views/app/thread","views/app/header"],function(e){var t=e("jquery"),n=e("backbone"),r=e("api2"),i=e("views/home/main"),s=e("views/app/home"),o=e("views/home/register"),u=e("views/home/login"),a=e("views/home/help"),f=e("views/home/activate"),l=e("views/home/password"),c=e("views/app/logout"),h=e("views/app/settings"),p=e("views/app/deleteAccount"),d=e("views/app/ProfileView"),v=e("views/app/notifications"),m=e("views/app/thread"),g=e("views/app/header"),y=n.Router.extend({routes:{register:"register",login:"login",help:"help","help#:tab":"help","activate/:token":"activate",forgot:"forgotPassword","forgot/:token":"forgotPassword",search:"search","search/:type":"search","search/:type/":"search","search/:type/?:params":"search",logout:"logout",settings:"settings","settings/delete":"deleteAccount","profiles/:id/about":"aboutProfile","profiles/:id/wings":"wingsProfile","messages/:id":"showThread","messages/filter/:filters":"showNotifications",messages:"showNotifications","*actions":"defaultAction"},register:function(){this.showHeaderSearch(!1),this.showBackgroundImage(!0);if(r.userIsLoggedIn())return this.defaultAction();o.render()},login:function(){this.showHeaderSearch(!1),this.showBackgroundImage(!0);if(r.userIsLoggedIn())return this.defaultAction();u.render()},help:function(e){var t=e||null;this.showHeaderSearch(!1),this.showBackgroundImage(!1),a.render(t)},activate:function(e){this.showHeaderSearch(!1),this.showBackgroundImage(!1),f.render(e)},forgotPassword:function(e){this.showHeaderSearch(!1),this.showBackgroundImage(!1),l.render(e)},landing:function(){document.location="landing.html"},search:function(e,n){this.showHeaderSearch(!1),this.showBackgroundImage(!1),i.execute(e||"people",t.deparam(n))},logout:function(){this.showHeaderSearch(!1),this.showBackgroundImage(!1),c.logout()},settings:function(){this.showHeaderSearch(!0),this.showBackgroundImage(!1);if(!r.userIsLoggedIn())return this.landing();this.settingsView||(this.settingsView=new h),this.settingsView.render()},deleteAccount:function(){this.showHeaderSearch(!0),this.showBackgroundImage(!1);if(!r.userIsLoggedIn())return this.landing();p.render()},aboutProfile:function(e){this.showHeaderSearch(!0),this.showBackgroundImage(!1);if(!r.userIsLoggedIn())return this.landing();this.previewView||(this.previewView=new d(+e)),this.previewView.render(+e,"about")},wingsProfile:function(e){this.showHeaderSearch(!0),this.showBackgroundImage(!1);if(!r.userIsLoggedIn())return this.landing();this.previewView||(this.previewView=new d(+e)),this.previewView.render(+e,"wings")},showNotifications:function(e){this.showHeaderSearch(!0),this.showBackgroundImage(!1);if(!r.userIsLoggedIn())return this.landing();v.render(JSON.parse(e||"{}"))},showThread:function(e){this.showHeaderSearch(!0),this.showBackgroundImage(!1);if(!r.userIsLoggedIn())return this.landing();m.render(e)},defaultAction:function(){this.showHeaderSearch(!1),this.showBackgroundImage(!1),console.log("router.js: defaultAction()");if(!r.userIsLoggedIn())return this.landing();this.navigate("/search/people/"),this.search("people")},_trackPageview:function(){var e=n.history.getFragment();return window.ga("_trackPageview","/"+e)},initialize:function(){return console.log("router.js: initialize() ",r.getAuthToken(),r.getUserId()),r.userIsLoggedIn()&&(this.header?this.header.render():this.header=new g),n.history.start(),this.bind("all",this._trackPageview)},showHeaderSearch:function(e){this.header&&this.header.showSearch(e)},showBackgroundImage:function(e){e?t("div.background-roller").addClass("background-10"):t("div.background-roller").removeClass("background-10")}});return y}),!function(e){e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){function r(){i(e(t)).removeClass("open")}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api",r),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery),!function(e){function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery),define("bootstrap",function(){}),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body");if(this.options.ajax){var r=this.options.ajax;typeof r=="string"&&(r={url:r}),this.ajax={url:r.url,timeout:r.timeout||300,method:r.method||"post",triggerLength:r.triggerLength||3,loadingClass:r.loadingClass||null,displayField:r.displayField||null,preDispatch:r.preDispatch||null,preProcess:r.preProcess||null},this.query=""}else this.source=this.options.source,this.ajax=null;this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},ajaxLookup:function(){function n(){this.ajaxToggleLoadClass(!0),this.ajax.xhr&&this.ajax.xhr.abort();var n=this.ajax.preDispatch?this.ajax.preDispatch(t):{query:t},r=this.ajax.method=="post"?e.post:e.get;this.ajax.xhr=r(this.ajax.url,n,e.proxy(this.ajaxSource,this)),this.ajax.timerId=null}var t=this.$element.val();return t==this.query?this:(this.query=t,this.ajax.timerId&&(clearTimeout(this.ajax.timerId),this.ajax.timerId=null),!t||t.length<this.ajax.triggerLength?(this.ajax.xhr&&(this.ajax.xhr.abort(),this.ajax.xhr=null,this.ajaxToggleLoadClass(!1)),this.shown?this.hide():this):(this.ajax.timerId=setTimeout(e.proxy(n,this),this.ajax.timeout),this))},ajaxSource:function(t){this.ajaxToggleLoadClass(!1);var n=this,r;if(!this.ajax.xhr)return;return this.ajax.preProcess&&(t=this.ajax.preProcess(t)),this.ajax.data=t,r=e.grep(t,function(e){n.ajax.displayField&&(e=e[n.ajax.displayField]);if(n.matcher(e))return e}),r=this.sorter(r),r.length?(this.ajax.xhr=null,this.render(r.slice(0,this.options.items)).show()):this.shown?this.hide():this},ajaxToggleLoadClass:function(e){if(!this.ajax.loadingClass)return;this.$element.toggleClass(this.ajax.loadingClass,e)},lookup:function(t){var n=this,r;return this.query=this.$element.val(),this.query?(r=e.grep(this.source,function(e){return n.matcher(e)}),r=this.sorter(r),r.length?this.render(r.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())this.ajax&&this.ajax.displayField&&(i=i[this.ajax.displayField]),i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.$element.on("keydown",e.proxy(this.keypress,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.ajax?this.ajaxLookup():this.lookup()}e.stopPropagation(),e.preventDefault()},keypress:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.type!="keydown")break;e.preventDefault(),this.prev();break;case 40:if(e.type!="keydown")break;e.preventDefault(),this.next()}e.stopPropagation()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery),define("typeahead",function(){}),function(e){e.extend(e.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return n.settings.submitHandler?(n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&r.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t&=n.element(this)}),t},removeAttrs:function(t){var n={},r=this;return e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t),r.removeAttr(t)}),n},rules:function(t,n){var r=this[0];if(t){var i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),s[r.name]=o,n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n)return delete s[r.name],o;var u={};return e.each(n.split(/\s/),function(e,t){u[t]=o[t],delete o[t]}),u}}var a=e.validator.normalizeRules(e.extend({},e.validator.classRules(r),e.validator.attributeRules(r),e.validator.dataRules(r),e.validator.staticRules(r)),r);if(a.required){var f=a.required;delete a.required,a=e.extend({required:f},a)}return a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length===1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),n)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e,t){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)==="")return;(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var n=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");n.settings[r]&&n.settings[r].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={};e.each(this.settings.groups,function(n,r){typeof r=="string"&&(r=r.split(/\s/)),e.each(r,function(e,r){t[r]=n})});var n=this.settings.rules;e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),r=e(t).val();return n==="radio"||n==="checkbox"?e('input[name="'+e(t).attr("name")+'"]:checked').val():typeof r=="string"?r.replace(/\r/g,""):r},check:function(t){t=this.validationTargetFor(this.clean(t));var n=e(t).rules(),r=!1,i=this.elementValue(t),s;for(var o in n){var u={method:o,parameters:n[o]};try{s=e.validator.methods[o].call(this,i,t,u.parameters);if(s==="dependency-mismatch"){r=!0;continue}r=!1;if(s==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!s)return this.formatAndAdd(t,u),!1}catch(a){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+u.method+"' method",a),a}}if(r)return;return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e];return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var r=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters)),this.errorList.push({message:r,element:t}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(n)):(r=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!n&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find('[name="'+t+'"]')},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e,t){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest===0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},r=e(t);for(var i in e.validator.methods){var s;i==="required"?(s=r.get(0).getAttribute(i),s===""&&(s=!0),s=!!s):s=r.attr(i),s?n[i]=s:r[0].getAttribute("type")===i&&(n[i]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,r,i={},s=e(t);for(n in e.validator.methods)r=s.data("rule-"+n.toLowerCase()),r!==undefined&&(i[n]=r);return i},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1){delete t[r];return}if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}}),e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=r!==undefined?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={}),i.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=i.message,r=typeof r=="string"&&{url:r}||r;if(i.old===t)return i.valid;i.old=t;var s=this;this.startRequest(n);var o={};return o[n.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(r){s.settings.messages[n.name].remote=i.originalMessage;var o=r===!0||r==="true";if(o){var u=s.formSubmitted;s.prepareElement(n),s.formSubmitted=u,s.successList.push(n),delete s.invalid[n.name],s.showErrors()}else{var a={},f=r||s.defaultMessage(n,"remote");a[n.name]=i.message=e.isFunction(f)?f(t):f,s.invalid[n.name]=!0,s.showErrors(a)}i.valid=o,s.stopRequest(n,o)}},r)),"pending"},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i<=r},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s);r=parseInt(o,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i}return n%10===0},equalTo:function(t,n,r){var i=e(r);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;e.mode==="abort"&&(t[i]&&t[i].abort(),t[i]=r)});else{var n=e.ajax;e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;return i==="abort"?(t[s]&&t[s].abort(),t[s]=n.apply(this,arguments)):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})}(jQuery),define("jquery.Validate",function(){}),define("jquery.Extensions",["require"],function(e){$.validator.addMethod("validpassword",function(e,t){return this.optional(t)||/^.*(?=.*\d)(?=.*[a-zA-Z]).*$/.test(e)},"Password too weak: use digits and letters"),$.validator.addMethod("lessThan",function(e,t,n){return new Date(e)<new Date(n.val())},"Check your dates: invalid lapse of time"),$.validator.addMethod("greatThan",function(e,t,n){return new Date(e)>new Date(n.val())},"Check your dates: invalid lapse of time"),$.validator.addMethod("gte",function(e,t,n){var r=new Date(e)>new Date(n.val()),i=(new Date(e)).valueOf()===(new Date(n.val())).valueOf();return r||i},"Check your dates: invalid lapse of time"),$.deparam=function(e,t){var n={};return e?(coerce_types={"true":!0,"false":!1,"null":null},$.each(e.replace(/\+/g," ").split("&"),function(e,r){var i=r.split("="),s=decodeURIComponent(i[0]),o,u=n,a=0,f=s.split("]["),l=f.length-1;/\[/.test(f[0])&&/\]$/.test(f[l])?(f[l]=f[l].replace(/\]$/,""),f=f.shift().split("[").concat(f),l=f.length-1):l=0;if(i.length===2){o=decodeURIComponent(i[1]),t&&(o=o&&!isNaN(o)?+o:o==="undefined"?undefined:coerce_types[o]!==undefined?coerce_types[o]:o);if(l)for(;a<=l;a++)s=f[a]===""?u.length:f[a],u=u[s]=a<l?u[s]||(f[a+1]&&isNaN(f[a+1])?{}:[]):o;else $.isArray(n[s])?n[s].push(o):n[s]!==undefined?n[s]=[n[s],o]:n[s]=o}else s&&(n[s]=t?undefined:"")}),n):n}}),define("async",[],function(){function n(e){var t,n;t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=e,n=document.getElementsByTagName("script")[0],n.parentNode.insertBefore(t,n)}function r(t,n){var r=/!(.+)/,i=t.replace(r,""),s=r.test(t)?t.replace(/.+!/,""):e;return i+=i.indexOf("?")<0?"?":"&",i+s+"="+n}function i(){return t+=1,"__async_req_"+t+"__"}var e="callback",t=0;return{load:function(e,t,s,o){if(o.isBuild)s(null);else{var u=i();window[u]=s,n(r(e,u))}}}}),requirejs.config({urlArgs:"nocache="+Date.now(),paths:{modernizr:"lib/modernizr",jquery:"lib/jquery",bootstrap:"lib/plugins/bootstrap",underscore:"lib/lodash",backbone:"lib/backbone",handlebars:"lib/handlebars","jquery.Validate":"lib/plugins/jquery.validate","jquery.Extensions":"lib/plugins/jq-extensions","jquery.Jcrop":"lib/plugins/jquery.Jcrop","jquery.Datepicker":"lib/plugins/jquery-ui-1.10.2.custom.min",typeahead:"lib/plugins/bootstrap-typeahead-ajax",async:"lib/plugins/async",text:"lib/plugins/text",tmpl:"lib/plugins/tmpl",templates:"../templates",api:"core/api",api2:"core/api2",utils:"core/utils",promise:"core/promise",phrases:"core/phrases",config:"core/config",cookies:"core/cookies",foundation:"lib/plugins/foundation",foundationClearing:"lib/plugins/foundation.clearing"},shim:{handlebars:{exports:"Handlebars"},api:{exports:"API"},utils:{exports:"Utils"},bootstrap:["jquery"],typeahead:["bootstrap"],backbone:{deps:["underscore","jquery"],exports:"Backbone"},"jquery.Jcrop":["jquery"],"jquery.Datepicker":["jquery"],"jquery.Validate":["jquery"],"jquery.Extensions":["jquery.Validate"],foundation:{deps:["jquery"],exports:"Foundation"},foundationClearing:{deps:["jquery","foundation"]}}}),requirejs(["modernizr","jquery","backbone","router","promise","bootstrap","typeahead","jquery.Extensions","async"],function(e,t,n,r,i){i.debug=!0,window.router=new r}),define("main",function(){})